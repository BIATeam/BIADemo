!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,i,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return r}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[809],{40809:function(t,i,r){r.r(i),r.d(i,{PlaneModule:function(){return Te}});var u,p=r(2694),f=r(86710),d=r(91601),h=r(25917),v=r(92996),g=r(43190),y=r(88002),m=r(5304),b=r(94612),S=r(57057),w=(0,f.PH)("[Planes ViewMode] Load all by post",(0,f.Ky)()),Z=(0,f.PH)("[Planes ViewMode] Load",(0,f.Ky)()),A=(0,f.PH)("[Planes ViewMode] Create",(0,f.Ky)()),C=(0,f.PH)("[Planes ViewMode] Update",(0,f.Ky)()),P=(0,f.PH)("[Planes ViewMode] Remove",(0,f.Ky)()),T=(0,f.PH)("[Planes ViewMode] Multi Remove",(0,f.Ky)()),L=(0,f.PH)("[Planes ViewMode] Load all by post success",(0,f.Ky)()),x=(0,f.PH)("[Planes ViewMode] Load success",(0,f.Ky)()),O=(0,f.PH)("[Planes ViewMode] Failure",(0,f.Ky)()),k=r(74147),q=r(37716),D=((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,e);var t=c(n);function n(e){return s(this,n),t.call(this,e,"Planes")}return n}(k.Z)).\u0275fac=function(e){return new(e||u)(q.LFG(q.zs3))},u.\u0275prov=q.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u),_=(0,r(80273).H)({selectId:function(e){return e.id},sortComparer:!1}),F=_.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),M=(0,f.Lq)(F,(0,f.on)(w,function(e,t){return o(t),Object.assign(Object.assign({},e),{loadingGetAll:!0})}),(0,f.on)(Z,function(e){return Object.assign(Object.assign({},e),{loadingGet:!0})}),(0,f.on)(L,function(e,t){var n=t.result,a=t.event,i=_.setAll(n.data,e);return i.currentPlane={},i.totalCount=n.totalCount,i.lastLazyLoadEvent=a,i.loadingGetAll=!1,i}),(0,f.on)(x,function(e,t){var n=t.plane;return Object.assign(Object.assign({},e),{currentPlane:n,loadingGet:!1})}),(0,f.on)(O,function(e,t){return o(t),Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})}));function j(e,t){return(0,f.UY)({planes:M})(e,t)}var E=(0,f.ZF)("planes-mode-view"),U=(0,f.P1)(E,function(e){return e.planes}),$=(0,f.P1)(U,function(e){return e.totalCount}),G=(0,f.P1)(U,function(e){return e.currentPlane}),I=(0,f.P1)(U,function(e){return e.lastLazyLoadEvent}),z=(0,f.P1)(U,function(e){return e.loadingGet}),V=(0,f.P1)(U,function(e){return e.loadingGetAll}),Y=_.getSelectors(U).selectAll,J=r(42),K=function(){var e=function e(t,n,i,r){var o=this;s(this,e),this.actions$=t,this.planeDas=n,this.biaMessageService=i,this.store=r,this.loadAllByPost$=(0,d.GW)(function(){return o.actions$.pipe((0,d.l4)(w),(0,v.j)("event"),(0,g.w)(function(e){return o.planeDas.getListByPost(e).pipe((0,y.U)(function(t){return L({result:t,event:e})}),(0,m.K)(function(e){return o.biaMessageService.showError(),(0,h.of)(O({error:e}))}))}))}),this.load$=(0,d.GW)(function(){return o.actions$.pipe((0,d.l4)(Z),(0,v.j)("id"),(0,g.w)(function(e){return o.planeDas.get(e).pipe((0,y.U)(function(e){return x({plane:e})}),(0,m.K)(function(e){return o.biaMessageService.showError(),(0,h.of)(O({error:e}))}))}))}),this.create$=(0,d.GW)(function(){return o.actions$.pipe((0,d.l4)(A),(0,v.j)("plane"),(0,b.b)(function(e){return(0,h.of)(e).pipe((0,S.M)(o.store.select(I)))}),(0,g.w)(function(e){var t=a(e,2),n=t[0],i=t[1];return o.planeDas.post(n).pipe((0,y.U)(function(){return o.biaMessageService.showAddSuccess(),w({event:i})}),(0,m.K)(function(e){return o.biaMessageService.showError(),(0,h.of)(O({error:e}))}))}))}),this.update$=(0,d.GW)(function(){return o.actions$.pipe((0,d.l4)(C),(0,v.j)("plane"),(0,b.b)(function(e){return(0,h.of)(e).pipe((0,S.M)(o.store.select(I)))}),(0,g.w)(function(e){var t=a(e,2),n=t[0],i=t[1];return o.planeDas.put(n,n.id).pipe((0,y.U)(function(){return o.biaMessageService.showUpdateSuccess(),w({event:i})}),(0,m.K)(function(e){return o.biaMessageService.showError(),(0,h.of)(O({error:e}))}))}))}),this.destroy$=(0,d.GW)(function(){return o.actions$.pipe((0,d.l4)(P),(0,v.j)("id"),(0,b.b)(function(e){return(0,h.of)(e).pipe((0,S.M)(o.store.select(I)))}),(0,g.w)(function(e){var t=a(e,2),n=t[0],i=t[1];return o.planeDas.delete(n).pipe((0,y.U)(function(){return o.biaMessageService.showDeleteSuccess(),w({event:i})}),(0,m.K)(function(e){return o.biaMessageService.showError(),(0,h.of)(O({error:e}))}))}))}),this.multiDestroy$=(0,d.GW)(function(){return o.actions$.pipe((0,d.l4)(T),(0,v.j)("ids"),(0,b.b)(function(e){return(0,h.of)(e).pipe((0,S.M)(o.store.select(I)))}),(0,g.w)(function(e){var t=a(e,2),n=t[0],i=t[1];return o.planeDas.deletes(n).pipe((0,y.U)(function(){return o.biaMessageService.showDeleteSuccess(),w({event:i})}),(0,m.K)(function(e){return o.biaMessageService.showError(),(0,h.of)(O({error:e}))}))}))})};return e.\u0275fac=function(t){return new(t||e)(q.LFG(d.eX),q.LFG(D),q.LFG(J.X),q.LFG(f.yh))},e.\u0275prov=q.Yz7({token:e,factory:e.\u0275fac}),e}(),N=r(88385),B=r(79090),Q=r(40136),R=r(8340),H=r(49457),X=r(38042),W=r(29206),ee=r(46468),te=r(81780),ne=r(35618),ae=r(81606),ie=r(76743),re=r(38583),oe=function(){var t=function(){function t(e,n,a,i,r,o){s(this,t),this.store=e,this.router=n,this.authService=a,this.planeDas=i,this.translateService=r,this.biaTranslationService=o,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=Q.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.createPlaneRoute="/examples/planes-view/create",this.indexPlaneRoute="/examples/planes-view/",this.tableStateKey="planesGrid"}return n(t,[{key:"ngOnInit",value:function(){this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(Y),this.totalCount$=this.store.select($),this.loading$=this.store.select(V),this.store.dispatch((0,ee.Tx)())}},{key:"onCreate",value:function(){this.router.navigate([this.createPlaneRoute])}},{key:"onEdit",value:function(e){this.router.navigate([this.indexPlaneRoute+e+"/edit"])}},{key:"onDelete",value:function(){this.selectedPlanes&&this.store.dispatch(T({ids:this.selectedPlanes.map(function(e){return e.id})}))}},{key:"onSelectedElementsChanged",value:function(e){this.selectedPlanes=e}},{key:"onPageSizeChange",value:function(e){this.pageSize=e}},{key:"onLoadLazy",value:function(e){this.store.dispatch(w({event:e}))}},{key:"searchGlobalChanged",value:function(e){this.globalSearchValue=e}},{key:"displayedColumnsChanged",value:function(e){this.displayedColumns=e}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(e){this.viewPreference=e}},{key:"onExportCSV",value:function(){var e=this,t={};this.columns.map(function(n){return t[n.value.split(".")[1]]=e.translateService.instant(n.value)});var n=Object.assign({columns:t},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(n).subscribe(function(t){H.saveAs(t,e.translateService.instant("app.planes")+".csv")})}},{key:"setPermissions",value:function(){this.canEdit=this.authService.hasPermission(W.y.Plane_Update),this.canDelete=this.authService.hasPermission(W.y.Plane_Delete),this.canAdd=this.authService.hasPermission(W.y.Plane_Create)}},{key:"initTableConfiguration",value:function(){var t=this;this.biaTranslationService.currentCultureDateFormat$.subscribe(function(n){t.tableConfiguration={columns:[new B.ML("msn","plane.msn"),Object.assign(new B.ML("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:B.d5.Boolean}),Object.assign(new B.ML("firstFlightDate","plane.firstFlightDate"),{type:B.d5.Date,formatDate:n.dateFormat}),Object.assign(new B.ML("firstFlightTime","plane.firstFlightTime"),{isSearchable:!1,isSortable:!1,type:B.d5.Date,formatDate:n.timeFormat}),Object.assign(new B.ML("lastFlightDate","plane.lastFlightDate"),{type:B.d5.Date,formatDate:n.dateTimeFormat}),Object.assign(new B.ML("capacity","plane.capacity"),{type:B.d5.Number,filterMode:B.ZF.Equals})]},t.columns=t.tableConfiguration.columns.map(function(e){return{key:e.field,value:e.header}}),t.displayedColumns=e(t.columns)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(q.Y36(f.yh),q.Y36(p.F0),q.Y36(R.e),q.Y36(D),q.Y36(te.sK),q.Y36(X.P6))},t.\u0275cmp=q.Xpm({type:t,selectors:[["app-planes-index"]],viewQuery:function(e,t){var n;(1&e&&q.Gf(N.$,5),2&e)&&(q.iGM(n=q.CRH())&&(t.planeListComponent=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&q.ekj("bia-flex",t.flex)},decls:10,vars:31,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","tableStateKey","edit","loadLazy","selectedElementsChanged"]],template:function(e,t){1&e&&(q.TgZ(0,"div",0),q.TgZ(1,"div",1),q.TgZ(2,"bia-table-header",2),q.NdJ("create",function(){return t.onCreate()})("exportCSV",function(){return t.onExportCSV()})("delete",function(){return t.onDelete()}),q.ALo(3,"translate"),q.qZA(),q.TgZ(4,"bia-table-controller",3),q.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),q.ALo(5,"async"),q.qZA(),q.TgZ(6,"bia-table",4),q.NdJ("edit",function(e){return t.onEdit(e)})("loadLazy",function(e){return t.onLoadLazy(e)})("selectedElementsChanged",function(e){return t.onSelectedElementsChanged(e)}),q.ALo(7,"async"),q.ALo(8,"async"),q.ALo(9,"async"),q.qZA(),q.qZA(),q.qZA()),2&e&&(q.xp6(2),q.Q6J("headerTitle",q.lcZ(3,21,"plane.listOf"))("canAdd",t.canAdd)("canExportCSV",!0)("selectedElements",t.selectedPlanes),q.xp6(2),q.Q6J("defaultPageSize",t.defaultPageSize)("length",q.lcZ(5,23,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns)("tableStateKey",t.tableStateKey),q.xp6(2),q.Q6J("elements",q.lcZ(7,25,t.planes$))("totalRecord",q.lcZ(8,27,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",t.canEdit)("canSelectElement",t.canDelete)("loading",q.lcZ(9,29,t.loading$))("viewPreference",t.viewPreference)("tableStateKey",t.tableStateKey))},directives:[ne.xw,ne.yH,ae.l,ie.B,N.$],pipes:[te.X$,re.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),t}(),se=r(84594),le=r(3679),ce=r(13928),ue=r(12332),pe=r(88598),fe=r(45862),de=r(4207),he=function(){var e=function(){function e(t){s(this,e),this.formBuilder=t,this.plane={},this.save=new q.vpe,this.cancel=new q.vpe,this.initForm()}return n(e,[{key:"ngOnChanges",value:function(e){e.plane&&(this.form.reset(),this.plane&&this.form.patchValue(Object.assign({},this.plane)))}},{key:"initForm",value:function(){this.form=this.formBuilder.group({id:[this.plane.id],msn:[this.plane.msn,le.kI.required],isActive:[this.plane.isActive],firstFlightDate:[this.plane.firstFlightDate,le.kI.required],firstFlightTime:[this.plane.firstFlightTime,le.kI.required],lastFlightDate:[this.plane.lastFlightDate],capacity:[this.plane.capacity,le.kI.required]})}},{key:"onCancel",value:function(){this.form.reset(),this.cancel.next()}},{key:"onSubmit",value:function(){if(this.form.valid){var e=this.form.value;e.id=e.id>0?e.id:0,e.isActive=!!e.isActive&&e.isActive,this.save.emit(e),this.form.reset()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(le.qu))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-plane-form"]],inputs:{plane:"plane"},outputs:{save:"save",cancel:"cancel"},features:[q.TTD],decls:53,vars:28,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"p-float-label"],["formControlName","msn","type","text","pInputText","","maxlength","64"],[1,"bia-star-mandatory"],["binary","true","formControlName","isActive",3,"label"],["biaLocale","","formControlName","firstFlightDate","placeholder","\xa0","dateFormat","yy-mm-dd",3,"showButtonBar"],["formControlName","firstFlightTime","showTime","true","placeholder","\xa0",3,"timeOnly"],["biaLocale","","formControlName","lastFlightDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0"],["formControlName","capacity","type","number","pInputText",""],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-outlined",3,"label","click"]],template:function(e,t){1&e&&(q.TgZ(0,"form",0),q.NdJ("submit",function(){return t.onSubmit()}),q.TgZ(1,"div",1),q.TgZ(2,"div",2),q.TgZ(3,"span",3),q._UZ(4,"input",4),q.TgZ(5,"label"),q.TgZ(6,"span",5),q._uU(7,"*"),q.qZA(),q._uU(8),q.ALo(9,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(10,"div",1),q.TgZ(11,"div",2),q._UZ(12,"p-checkbox",6),q.ALo(13,"translate"),q.qZA(),q.qZA(),q.TgZ(14,"div",1),q.TgZ(15,"div",2),q.TgZ(16,"span",3),q._UZ(17,"p-calendar",7),q.TgZ(18,"label"),q.TgZ(19,"span",5),q._uU(20,"*"),q.qZA(),q._uU(21),q.ALo(22,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(23,"div",1),q.TgZ(24,"div",2),q.TgZ(25,"span",3),q._UZ(26,"p-calendar",8),q.TgZ(27,"label"),q.TgZ(28,"span",5),q._uU(29,"*"),q.qZA(),q._uU(30),q.ALo(31,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(32,"div",1),q.TgZ(33,"div",2),q.TgZ(34,"span",3),q._UZ(35,"p-calendar",9),q.TgZ(36,"label"),q._uU(37),q.ALo(38,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(39,"div",1),q.TgZ(40,"div",2),q.TgZ(41,"span",3),q._UZ(42,"input",10),q.TgZ(43,"label"),q.TgZ(44,"span",5),q._uU(45,"*"),q.qZA(),q._uU(46),q.ALo(47,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(48,"div",11),q._UZ(49,"button",12),q.ALo(50,"translate"),q.TgZ(51,"button",13),q.NdJ("click",function(){return t.onCancel()}),q.ALo(52,"translate"),q.qZA(),q.qZA(),q.qZA()),2&e&&(q.Q6J("formGroup",t.form),q.xp6(8),q.Oqu(q.lcZ(9,12,"plane.msn")),q.xp6(4),q.s9C("label",q.lcZ(13,14,"plane.isActive")),q.xp6(5),q.Q6J("showButtonBar",!0),q.xp6(4),q.Oqu(q.lcZ(22,16,"plane.firstFlightDate")),q.xp6(5),q.Q6J("timeOnly",!0),q.xp6(4),q.Oqu(q.lcZ(31,18,"plane.firstFlightTime")),q.xp6(7),q.Oqu(q.lcZ(38,20,"plane.lastFlightDate")),q.xp6(9),q.Oqu(q.lcZ(47,22,"plane.capacity")),q.xp6(3),q.s9C("label",q.lcZ(50,24,"bia.save")),q.Q6J("disabled",!t.form.valid),q.xp6(2),q.s9C("label",q.lcZ(52,26,"bia.cancel")))},directives:[le._Y,le.JL,ne.xw,le.sg,ne.Wh,ne.yH,le.Fj,le.JJ,le.u,ce.o,le.nD,ue.XZ,pe.f,fe.D,le.wV,ne.SQ,de.Hq],pipes:[te.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}"],changeDetection:0}),e}(),ve=function(){var e=function(){function e(t,n){s(this,e),this.store=t,this.location=n}return n(e,[{key:"onSubmitted",value:function(e){this.store.dispatch(A({plane:e})),this.location.back()}},{key:"onCancelled",value:function(){this.plane={},this.location.back()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(f.yh),q.Y36(re.Ye))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-plane-new"]],decls:1,vars:1,consts:[[3,"plane","cancel","save"]],template:function(e,t){1&e&&(q.TgZ(0,"app-plane-form",0),q.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),q.qZA()),2&e&&q.Q6J("plane",t.plane)},directives:[he],styles:[""]}),e}(),ge=r(75319),ye=function(){var e=function(){function e(t){s(this,e),this.store=t,this.sub=new ge.w,this.InitSub(),this.loading$=this.store.select(z),this.plane$=this.store.select(G)}return n(e,[{key:"currentPlane",get:function(){var e;return(null===(e=this._currentPlane)||void 0===e?void 0:e.id)===this._currentPlaneId?this._currentPlane:null}},{key:"currentPlaneId",get:function(){return this._currentPlaneId},set:function(e){this._currentPlaneId=Number(e),this.store.dispatch(Z({id:e}))}},{key:"InitSub",value:function(){var e=this;this.sub=new ge.w,this.sub.add(this.store.select(G).subscribe(function(t){t&&(e._currentPlane=t)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.LFG(f.yh))},e.\u0275prov=q.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),me=r(79373);function be(e,t){1&e&&q._UZ(0,"bia-spinner",2),2&e&&q.Q6J("overlay",!0)}var Se=function(){var e=function(){function e(t,n,a){s(this,e),this.store=t,this.location=n,this.planeService=a,this.displayChange=new q.vpe,this.sub=new ge.w}return n(e,[{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(C({plane:e})),this.location.back()}},{key:"onCancelled",value:function(){this.location.back()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(f.yh),q.Y36(re.Ye),q.Y36(ye))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-plane-edit"]],outputs:{displayChange:"displayChange"},decls:4,vars:6,consts:[[3,"plane","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(q.TgZ(0,"app-plane-form",0),q.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),q.ALo(1,"async"),q.qZA(),q.YNc(2,be,1,1,"bia-spinner",1),q.ALo(3,"async")),2&e&&(q.Q6J("plane",q.lcZ(1,2,t.planeService.plane$)),q.xp6(2),q.Q6J("ngIf",q.lcZ(3,4,t.planeService.loading$)))},directives:[he,re.O5,me.O],pipes:[re.Ov],styles:[""]}),e}(),we=r(16249),Ze=r(30466),Ae=r(28049);function Ce(e,t){1&e&&q._UZ(0,"bia-spinner",1),2&e&&q.Q6J("overlay",!0)}var Pe=[{path:"",data:{breadcrumb:null,permission:W.y.Plane_List_Access},component:oe,canActivate:[we.n]},{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:W.y.Plane_Create},component:ve,canActivate:[we.n]},{path:":planeId",data:{breadcrumb:"",canNavigate:!0},component:function(){var e=function(){function e(t,n,a,i){s(this,e),this.store=t,this.route=n,this.planeService=a,this.layoutService=i,this.sub=new ge.w}return n(e,[{key:"ngOnInit",value:function(){var e=this;this.planeService.currentPlaneId=this.route.snapshot.params.planeId,this.sub.add(this.store.select(G).subscribe(function(t){(null==t?void 0:t.msn)&&(e.route.data.pipe((0,Ae.P)()).subscribe(function(e){e.breadcrumb=t.msn}),e.layoutService.refreshBreadcrumb())}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(f.yh),q.Y36(p.gz),q.Y36(ye),q.Y36(Ze.N))},e.\u0275cmp=q.Xpm({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(q._UZ(0,"router-outlet"),q.YNc(1,Ce,1,1,"bia-spinner",0),q.ALo(2,"async")),2&e&&(q.xp6(1),q.Q6J("ngIf",q.lcZ(2,1,t.planeService.loading$)))},directives:[p.lC,re.O5,me.O],pipes:[re.Ov],styles:[""]}),e}(),canActivate:[we.n],children:[{path:"edit",data:{breadcrumb:"bia.edit",canNavigate:!0,permission:W.y.Plane_Update},component:Se,canActivate:[we.n]},{path:"",redirectTo:"edit"}]},{path:"**",redirectTo:""}],Te=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=q.oAB({type:e}),e.\u0275inj=q.cJS({imports:[[se.m,p.Bz.forChild(Pe),f.Aw.forFeature("planes-mode-view",j),d.sQ.forFeature([K])]]}),e}()}}])}();