!function(){function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{r||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[124],{49457:function(e,t){var n,i;void 0!==(i="function"==typeof(n=function(){"use strict";function t(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){r(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,a,r){var s=o.URL||o.webkitURL,l=document.createElement("a");l.download=a=a||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):n(l.href)?t(e,a,r):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,o,a){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),o);else if(n(e))t(e,o,a);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){i(r)})}}:function(e,n,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,i);var s="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var p=o.URL||o.webkitURL,f=p.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout(function(){p.revokeObjectURL(f)},4e4)}});o.saveAs=r.saveAs=r,e.exports=r})?n.apply(t,[]):n)&&(e.exports=i)},16249:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});var i,o=n(8340),a=n(92340),r=n(68307),s=n(37716),l=((i=function(){function e(t){c(this,e),this.authService=t}return p(e,[{key:"canActivate",value:function(e,t){return this.authService.hasPermissionObs(e.data.permission).pipe((0,r.b)(function(e){!0!==e&&(window.location.href=a.N.urlErrorPage+"?num=403")}))}}]),e}()).\u0275fac=function(e){return new(e||i)(s.LFG(o.e))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},7124:function(n,i,s){"use strict";s.r(i),s.d(i,{PlaneTypeModule:function(){return Ee}});var l,u=s(2694),f=s(86710),d=s(91601),y=s(25917),h=s(92996),g=s(43190),v=s(88002),b=s(5304),m=s(94612),T=s(57057),w=(0,f.PH)("[PlanesTypes] Load all by post",(0,f.Ky)()),S=(0,f.PH)("[PlanesTypes] Load",(0,f.Ky)()),C=(0,f.PH)("[PlanesTypes] Create",(0,f.Ky)()),A=(0,f.PH)("[PlanesTypes] Update",(0,f.Ky)()),P=(0,f.PH)("[PlanesTypes] Remove",(0,f.Ky)()),L=(0,f.PH)("[PlanesTypes] Multi Remove",(0,f.Ky)()),Z=(0,f.PH)("[PlanesTypes] Load all by post success",(0,f.Ky)()),O=(0,f.PH)("[PlanesTypes] Load success",(0,f.Ky)()),x=(0,f.PH)("[PlanesTypes] Failure",(0,f.Ky)()),k=(0,f.PH)("[PlanesTypes] Open dialog edit"),D=(0,f.PH)("[PlanesTypes] Close dialog edit"),E=(0,f.PH)("[PlanesTypes] Open dialog new"),j=(0,f.PH)("[PlanesTypes] Close dialog new"),M=s(74147),q=s(37716),$=((l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,e);var t=r(n);function n(e){return c(this,n),t.call(this,e,"PlanesTypes")}return n}(M.Z)).\u0275fac=function(e){return new(e||l)(q.LFG(q.zs3))},l.\u0275prov=q.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l),z=(0,s(80273).H)({selectId:function(e){return e.id},sortComparer:!1}),U=z.getInitialState({totalCount:0,currentPlaneType:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1,displayEditDialog:!1,displayNewDialog:!1}),_=(0,f.Lq)(U,(0,f.on)(E,function(e){return Object.assign(Object.assign({},e),{displayNewDialog:!0})}),(0,f.on)(j,function(e){return Object.assign(Object.assign({},e),{displayNewDialog:!1})}),(0,f.on)(k,function(e){return Object.assign(Object.assign({},e),{displayEditDialog:!0})}),(0,f.on)(D,function(e){return Object.assign(Object.assign({},e),{displayEditDialog:!1})}),(0,f.on)(w,function(e,t){return o(t),Object.assign(Object.assign({},e),{loadingGetAll:!0})}),(0,f.on)(S,function(e){return Object.assign(Object.assign({},e),{loadingGet:!0})}),(0,f.on)(Z,function(e,t){var n=t.result,i=t.event,o=z.setAll(n.data,e);return o.totalCount=n.totalCount,o.lastLazyLoadEvent=i,o.loadingGetAll=!1,o}),(0,f.on)(O,function(e,t){var n=t.planeType;return Object.assign(Object.assign({},e),{currentPlaneType:n,loadingGet:!1})}),(0,f.on)(x,function(e,t){return o(t),Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})}));function G(e,t){return(0,f.UY)({planesTypes:_})(e,t)}var J=(0,f.ZF)("planes-types"),R=(0,f.P1)(J,function(e){return e.planesTypes}),H=(0,f.P1)(R,function(e){return e.totalCount}),F=(0,f.P1)(R,function(e){return e.currentPlaneType}),B=(0,f.P1)(R,function(e){return e.lastLazyLoadEvent}),I=(0,f.P1)(R,function(e){return e.loadingGet}),K=(0,f.P1)(R,function(e){return e.loadingGetAll}),N=(0,f.P1)(R,function(e){return e.displayEditDialog}),V=(0,f.P1)(R,function(e){return e.displayNewDialog}),Q=z.getSelectors(R).selectAll,Y=s(42),X=function(){var e=function e(n,i,o,a){var r=this;c(this,e),this.actions$=n,this.planeTypeDas=i,this.biaMessageService=o,this.store=a,this.loadAllByPost$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(w),(0,h.j)("event"),(0,g.w)(function(e){return r.planeTypeDas.getListByPost(e).pipe((0,v.U)(function(t){return Z({result:t,event:e})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,y.of)(x({error:e}))}))}))}),this.load$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(S),(0,h.j)("id"),(0,g.w)(function(e){return r.planeTypeDas.get(e).pipe((0,v.U)(function(e){return O({planeType:e})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,y.of)(x({error:e}))}))}))}),this.create$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(C),(0,h.j)("planeType"),(0,m.b)(function(e){return(0,y.of)(e).pipe((0,T.M)(r.store.select(B)))}),(0,g.w)(function(e){var n=t(e,2),i=n[0],o=n[1];return r.planeTypeDas.post(i).pipe((0,v.U)(function(){return r.biaMessageService.showAddSuccess(),w({event:o})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,y.of)(x({error:e}))}))}))}),this.update$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(A),(0,h.j)("planeType"),(0,m.b)(function(e){return(0,y.of)(e).pipe((0,T.M)(r.store.select(B)))}),(0,g.w)(function(e){var n=t(e,2),i=n[0],o=n[1];return r.planeTypeDas.put(i,i.id).pipe((0,v.U)(function(){return r.biaMessageService.showUpdateSuccess(),w({event:o})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,y.of)(x({error:e}))}))}))}),this.destroy$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(P),(0,h.j)("id"),(0,m.b)(function(e){return(0,y.of)(e).pipe((0,T.M)(r.store.select(B)))}),(0,g.w)(function(e){var n=t(e,2),i=n[0],o=n[1];return r.planeTypeDas.delete(i).pipe((0,v.U)(function(){return r.biaMessageService.showDeleteSuccess(),w({event:o})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,y.of)(x({error:e}))}))}))}),this.multiDestroy$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(L),(0,h.j)("ids"),(0,m.b)(function(e){return(0,y.of)(e).pipe((0,T.M)(r.store.select(B)))}),(0,g.w)(function(e){var n=t(e,2),i=n[0],o=n[1];return r.planeTypeDas.deletes(i).pipe((0,v.U)(function(){return r.biaMessageService.showDeleteSuccess(),w({event:o})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,y.of)(x({error:e}))}))}))})};return e.\u0275fac=function(t){return new(t||e)(q.LFG(d.eX),q.LFG($),q.LFG(Y.X),q.LFG(f.yh))},e.\u0275prov=q.Yz7({token:e,factory:e.\u0275fac}),e}(),W=s(88385),ee=s(79090),te=s(40136),ne=s(8340),ie=s(49457),oe=s(38042),ae=s(29206),re=s(81780),se=s(35618),le=s(81606),ce=s(76743),ue=s(75319),pe=s(45121),fe=s(33013),de=s(3679),ye=s(13928),he=s(88598),ge=s(45862),ve=s(4207),be=function(){var e=function(){function e(t){c(this,e),this.formBuilder=t,this.planeType={},this.save=new q.vpe,this.cancel=new q.vpe,this.initForm()}return p(e,[{key:"ngOnChanges",value:function(e){e.planeType&&(this.form.reset(),this.planeType&&this.form.patchValue(Object.assign({},this.planeType)))}},{key:"initForm",value:function(){this.form=this.formBuilder.group({id:[this.planeType.id],title:[this.planeType.title,de.kI.required],certificationDate:[this.planeType.certificationDate,de.kI.required]})}},{key:"onCancel",value:function(){this.form.reset(),this.cancel.next()}},{key:"onSubmit",value:function(){if(this.form.valid){var e=this.form.value;e.id=e.id>0?e.id:0,this.save.emit(e),this.form.reset()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(de.qu))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-plane-type-form"]],inputs:{planeType:"planeType"},outputs:{save:"save",cancel:"cancel"},features:[q.TTD],decls:22,vars:14,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"p-float-label"],["formControlName","title","type","text","pInputText","","maxlength","64"],[1,"bia-star-mandatory"],["biaLocale","","formControlName","certificationDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0","appendTo","body"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-outlined",3,"label","click"]],template:function(e,t){1&e&&(q.TgZ(0,"form",0),q.NdJ("submit",function(){return t.onSubmit()}),q.TgZ(1,"div",1),q.TgZ(2,"div",2),q.TgZ(3,"span",3),q._UZ(4,"input",4),q.TgZ(5,"label"),q.TgZ(6,"span",5),q._uU(7,"*"),q.qZA(),q._uU(8),q.ALo(9,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(10,"div",1),q.TgZ(11,"div",2),q.TgZ(12,"span",3),q._UZ(13,"p-calendar",6),q.TgZ(14,"label"),q._uU(15),q.ALo(16,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(17,"div",7),q._UZ(18,"button",8),q.ALo(19,"translate"),q.TgZ(20,"button",9),q.NdJ("click",function(){return t.onCancel()}),q.ALo(21,"translate"),q.qZA(),q.qZA(),q.qZA()),2&e&&(q.Q6J("formGroup",t.form),q.xp6(8),q.Oqu(q.lcZ(9,6,"planeType.title")),q.xp6(7),q.Oqu(q.lcZ(16,8,"planeType.certificationDate")),q.xp6(3),q.s9C("label",q.lcZ(19,10,"bia.save")),q.Q6J("disabled",!t.form.valid),q.xp6(2),q.s9C("label",q.lcZ(21,12,"bia.cancel")))},directives:[de._Y,de.JL,se.xw,de.sg,se.Wh,se.yH,de.Fj,de.JJ,de.u,ye.o,de.nD,he.f,ge.D,se.SQ,ve.Hq],pipes:[re.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}"],changeDetection:0}),e}(),me=s(38583),Te=s(79373);function we(e,t){1&e&&q._UZ(0,"bia-spinner",3),2&e&&q.Q6J("overlay",!0)}var Se=function(){return{minWidth:"50vw"}},Ce=function(){return{overflow:"auto"}},Ae=function(){var e=function(){function e(t){c(this,e),this.store=t,this.display=!1,this.sub=new ue.w,this.displayChange=new q.vpe}return p(e,[{key:"ngOnInit",value:function(){var e=this;this.loading$=this.store.select(I),this.planeType$=this.store.select(F),this.sub.add(this.store.select(N).subscribe(function(t){return e.display=t}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(A({planeType:e})),this.close()}},{key:"onCancelled",value:function(){this.close()}},{key:"close",value:function(){this.store.dispatch(D())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(f.yh))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-plane-type-edit-dialog"]],outputs:{displayChange:"displayChange"},decls:8,vars:20,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"planeType","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(q.TgZ(0,"p-dialog",0),q.NdJ("visibleChange",function(e){return t.display=e}),q.TgZ(1,"p-header"),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.TgZ(4,"app-plane-type-form",1),q.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),q.ALo(5,"async"),q.qZA(),q.YNc(6,we,1,1,"bia-spinner",2),q.ALo(7,"async"),q.qZA()),2&e&&(q.Akn(q.DdM(18,Se)),q.Q6J("focusOnShow",!1)("visible",t.display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",q.DdM(19,Ce)),q.xp6(2),q.hij(" ",q.lcZ(3,12,"planeType.edit")," "),q.xp6(2),q.Q6J("planeType",q.lcZ(5,14,t.planeType$)),q.xp6(2),q.Q6J("ngIf",q.lcZ(7,16,t.loading$)))},directives:[pe.V,fe.h4,be,me.O5,Te.O],pipes:[re.X$,me.Ov],styles:[""]}),e}(),Pe=function(){return{minWidth:"50vw"}},Le=function(){return{overflow:"auto"}},Ze=function(){var e=function(){function e(t){c(this,e),this.store=t,this.display=!1,this.sub=new ue.w,this.displayChange=new q.vpe}return p(e,[{key:"ngOnInit",value:function(){var e=this;this.sub.add(this.store.select(V).subscribe(function(t){return e.display=t}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(C({planeType:e})),this.close()}},{key:"onCancelled",value:function(){this.planeType={},this.close()}},{key:"close",value:function(){this.store.dispatch(j())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(f.yh))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-plane-type-new-dialog"]],outputs:{displayChange:"displayChange"},decls:5,vars:15,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"planeType","cancel","save"]],template:function(e,t){1&e&&(q.TgZ(0,"p-dialog",0),q.NdJ("visibleChange",function(e){return t.display=e}),q.TgZ(1,"p-header"),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.TgZ(4,"app-plane-type-form",1),q.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),q.qZA(),q.qZA()),2&e&&(q.Akn(q.DdM(13,Pe)),q.Q6J("focusOnShow",!1)("visible",t.display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",q.DdM(14,Le)),q.xp6(2),q.hij(" ",q.lcZ(3,11,"planeType.add")," "),q.xp6(2),q.Q6J("planeType",t.planeType))},directives:[pe.V,fe.h4,be],pipes:[re.X$],styles:[""]}),e}(),Oe=function(){var t=function(){function t(e,n,i,o,a){c(this,t),this.store=e,this.authService=n,this.planeTypeDas=i,this.translateService=o,this.biaTranslationService=a,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=te.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1}return p(t,[{key:"ngOnInit",value:function(){this.initTableConfiguration(),this.setPermissions(),this.planesTypes$=this.store.select(Q),this.totalCount$=this.store.select(H),this.loading$=this.store.select(K)}},{key:"onCreate",value:function(){this.store.dispatch(E())}},{key:"onEdit",value:function(e){this.store.dispatch(S({id:e})),this.store.dispatch(k())}},{key:"onDelete",value:function(){this.selectedPlanesTypes&&this.store.dispatch(L({ids:this.selectedPlanesTypes.map(function(e){return e.id})}))}},{key:"onPageSizeChange",value:function(e){this.pageSize=e}},{key:"onLoadLazy",value:function(e){this.store.dispatch(w({event:e}))}},{key:"onSelectedElementsChanged",value:function(e){this.selectedPlanesTypes=e}},{key:"searchGlobalChanged",value:function(e){this.globalSearchValue=e}},{key:"displayedColumnsChanged",value:function(e){this.displayedColumns=e}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(e){this.viewPreference=e}},{key:"onExportCSV",value:function(){var e=this,t={};this.columns.map(function(n){return t[n.value.split(".")[1]]=e.translateService.instant(n.value)});var n=Object.assign({columns:t},this.planeTypeListComponent.getLazyLoadMetadata());this.planeTypeDas.getFile(n).subscribe(function(t){ie.saveAs(t,e.translateService.instant("app.planesTypes")+".csv")})}},{key:"setPermissions",value:function(){this.canEdit=this.authService.hasPermission(ae.y.PlaneType_Update),this.canDelete=this.authService.hasPermission(ae.y.PlaneType_Delete),this.canAdd=this.authService.hasPermission(ae.y.PlaneType_Create)}},{key:"initTableConfiguration",value:function(){var t=this;this.biaTranslationService.currentCultureDateFormat$.subscribe(function(n){t.tableConfiguration={columns:[new ee.ML("title","planeType.title"),Object.assign(new ee.ML("certificationDate","planeType.certificationDate"),{type:ee.d5.Date,formatDate:n.dateTimeFormat})]},t.columns=t.tableConfiguration.columns.map(function(e){return{key:e.field,value:e.header}}),t.displayedColumns=e(t.columns)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(q.Y36(f.yh),q.Y36(ne.e),q.Y36($),q.Y36(re.sK),q.Y36(oe.P6))},t.\u0275cmp=q.Xpm({type:t,selectors:[["app-planes-types-index"]],viewQuery:function(e,t){var n;(1&e&&q.Gf(W.$,5),2&e)&&(q.iGM(n=q.CRH())&&(t.planeTypeListComponent=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&q.ekj("bia-flex",t.flex)},decls:12,vars:29,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","edit","loadLazy","selectedElementsChanged"]],template:function(e,t){1&e&&(q.TgZ(0,"div",0),q.TgZ(1,"div",1),q.TgZ(2,"bia-table-header",2),q.NdJ("create",function(){return t.onCreate()})("exportCSV",function(){return t.onExportCSV()})("delete",function(){return t.onDelete()}),q.ALo(3,"translate"),q.qZA(),q.TgZ(4,"bia-table-controller",3),q.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),q.ALo(5,"async"),q.qZA(),q.TgZ(6,"bia-table",4),q.NdJ("edit",function(e){return t.onEdit(e)})("loadLazy",function(e){return t.onLoadLazy(e)})("selectedElementsChanged",function(e){return t.onSelectedElementsChanged(e)}),q.ALo(7,"async"),q.ALo(8,"async"),q.ALo(9,"async"),q.qZA(),q.qZA(),q.qZA(),q._UZ(10,"app-plane-type-edit-dialog"),q._UZ(11,"app-plane-type-new-dialog")),2&e&&(q.xp6(2),q.Q6J("headerTitle",q.lcZ(3,19,"planeType.listOf"))("canAdd",t.canAdd)("canExportCSV",!0)("selectedElements",t.selectedPlanesTypes),q.xp6(2),q.Q6J("defaultPageSize",t.defaultPageSize)("length",q.lcZ(5,21,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),q.xp6(2),q.Q6J("elements",q.lcZ(7,23,t.planesTypes$))("totalRecord",q.lcZ(8,25,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",t.canEdit)("canSelectElement",t.canDelete)("loading",q.lcZ(9,27,t.loading$))("viewPreference",t.viewPreference))},directives:[se.xw,se.yH,le.l,ce.B,W.$,Ae,Ze],pipes:[re.X$,me.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),t}(),xe=s(84594),ke=s(16249),De=[{path:"",data:{breadcrumb:null,permission:ae.y.PlaneType_List_Access},component:Oe,canActivate:[ke.n]},{path:"**",redirectTo:""}],Ee=function(){var e=function e(){c(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=q.oAB({type:e}),e.\u0275inj=q.cJS({imports:[[xe.m,u.Bz.forChild(De),f.Aw.forFeature("planes-types",G),d.sQ.forFeature([X])]]}),e}()}}])}();