"use strict";(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[791],{63791:function(e,t,a){a.r(t),a.d(t,{PlaneModule:function(){return Re}});var n=a(94666),i=a(86710),s=a(91601),o=a(25917),l=a(92996),r=a(43190),c=a(88002),p=a(5304),d=a(94612),u=a(57057),h=a(40136);const g="feature-planes",v=h.k0.Site;var y,b;(b=y||(y={})).loadAllByPost=(0,i.PH)("["+g+"] Load all by post",(0,i.Ky)()),b.load=(0,i.PH)("["+g+"] Load",(0,i.Ky)()),b.create=(0,i.PH)("["+g+"] Create",(0,i.Ky)()),b.update=(0,i.PH)("["+g+"] Update",(0,i.Ky)()),b.remove=(0,i.PH)("["+g+"] Remove",(0,i.Ky)()),b.multiRemove=(0,i.PH)("["+g+"] Multi Remove",(0,i.Ky)()),b.loadAllByPostSuccess=(0,i.PH)("["+g+"] Load all by post success",(0,i.Ky)()),b.loadSuccess=(0,i.PH)("["+g+"] Load success",(0,i.Ky)()),b.failure=(0,i.PH)("["+g+"] Failure",(0,i.Ky)());var m=a(74147),f=a(37716);let S=(()=>{class e extends m.Z{constructor(e){super(e,"Planes")}}return e.\u0275fac=function(t){return new(t||e)(f.LFG(f.zs3))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const A=(0,a(80273).H)({selectId:e=>e.id,sortComparer:!1}),C=A.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),T=(0,i.Lq)(C,(0,i.on)(y.loadAllByPost,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!0})),(0,i.on)(y.load,e=>Object.assign(Object.assign({},e),{loadingGet:!0})),(0,i.on)(y.loadAllByPostSuccess,(e,{result:t,event:a})=>{const n=A.setAll(t.data,e);return n.totalCount=t.totalCount,n.lastLazyLoadEvent=a,n.loadingGetAll=!1,n}),(0,i.on)(y.loadSuccess,(e,{plane:t})=>Object.assign(Object.assign({},e),{currentPlane:t,loadingGet:!1})),(0,i.on)(y.failure,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})));function Z(e,t){return(0,i.UY)({planes:T})(e,t)}const w=(0,i.ZF)(g),O=(0,i.P1)(w,e=>e.planes),L=(0,i.P1)(O,e=>e.totalCount),P=(0,i.P1)(O,e=>e.currentPlane),D=(0,i.P1)(O,e=>e.lastLazyLoadEvent),x=(0,i.P1)(O,e=>e.loadingGet),q=(0,i.P1)(O,e=>e.loadingGetAll),{selectAll:M}=A.getSelectors(O);a(82762);var z=a(42);let I=(()=>{class e{constructor(e,t,a,n){this.actions$=e,this.planeDas=t,this.biaMessageService=a,this.store=n,this.loadAllByPost$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(y.loadAllByPost),(0,l.j)("event"),(0,r.w)(e=>this.planeDas.getListByPost({event:e}).pipe((0,c.U)(t=>y.loadAllByPostSuccess({result:t,event:e})),(0,p.K)(e=>(this.biaMessageService.showError(),(0,o.of)(y.failure({error:e})))))))),this.load$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(y.load),(0,l.j)("id"),(0,r.w)(e=>this.planeDas.get({id:e}).pipe((0,c.U)(e=>y.loadSuccess({plane:e})),(0,p.K)(e=>(this.biaMessageService.showError(),(0,o.of)(y.failure({error:e})))))))),this.create$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(y.create),(0,l.j)("plane"),(0,d.b)(e=>(0,o.of)(e).pipe((0,u.M)(this.store.select(D)))),(0,r.w)(([e,t])=>this.planeDas.post({item:e}).pipe((0,c.U)(()=>(this.biaMessageService.showAddSuccess(),y.loadAllByPost({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,o.of)(y.failure({error:e})))))))),this.update$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(y.update),(0,l.j)("plane"),(0,d.b)(e=>(0,o.of)(e).pipe((0,u.M)(this.store.select(D)))),(0,r.w)(([e,t])=>this.planeDas.put({item:e,id:e.id}).pipe((0,c.U)(()=>(this.biaMessageService.showUpdateSuccess(),y.loadAllByPost({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,o.of)(y.failure({error:e})))))))),this.destroy$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(y.remove),(0,l.j)("id"),(0,d.b)(e=>(0,o.of)(e).pipe((0,u.M)(this.store.select(D)))),(0,r.w)(([e,t])=>this.planeDas.delete({id:e}).pipe((0,c.U)(()=>(this.biaMessageService.showDeleteSuccess(),y.loadAllByPost({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,o.of)(y.failure({error:e})))))))),this.multiDestroy$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(y.multiRemove),(0,l.j)("ids"),(0,d.b)(e=>(0,o.of)(e).pipe((0,u.M)(this.store.select(D)))),(0,r.w)(([e,t])=>this.planeDas.deletes({ids:e}).pipe((0,c.U)(()=>(this.biaMessageService.showDeleteSuccess(),y.loadAllByPost({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,o.of)(y.failure({error:e}))))))))}}return e.\u0275fac=function(t){return new(t||e)(f.LFG(s.eX),f.LFG(S),f.LFG(z.X),f.LFG(i.yh))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac}),e})();var $=a(75319),R=a(88385),E=a(79090),F=a(39083),_=a(49457),G=a(38042),Y=a(29206),U=a(28049),j=a(59142);let J=(()=>{class e{constructor(e,t,a){this.store=e,this.signalRService=t,this.authService=a}initialize(){console.log("%c [Planes] Register SignalR : refresh-planes","color: purple; font-weight: bold"),this.signalRService.addMethod("refresh-planes",()=>{this.store.select(D).pipe((0,U.P)()).subscribe(e=>{console.log("%c [Planes] RefreshSuccess","color: green; font-weight: bold"),this.store.dispatch(y.loadAllByPost({event:e}))})}),this.targetedFeature={parentKey:this.authService.getCurrentTeamId(h.k0.Site).toString(),featureName:"planes"},this.signalRService.joinGroup(this.targetedFeature)}destroy(){console.log("%c [Planes] Unregister SignalR : refresh-planes","color: purple; font-weight: bold"),this.signalRService.removeMethod("refresh-planes"),this.signalRService.leaveGroup(this.targetedFeature)}}return e.\u0275fac=function(t){return new(t||e)(f.LFG(i.yh),f.LFG(j.Y),f.LFG(F.e))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=a(46468),K=a(9112),V=a(76668),B=a(59931),N=a(84845),H=a(37597),Q=a(94529);let W=(()=>{class e{constructor(e){this.store=e,this.planeTypeOptions$=this.store.select(N.by),this.airportOptions$=this.store.select(V.HJ),this.dictOptionDtos$=(0,K.aj)([this.planeTypeOptions$,this.airportOptions$]).pipe((0,c.U)(e=>[new Q.b("planeType",e[0]),new Q.b("connectingAirports",e[1])]))}loadAllOptions(){this.store.dispatch(H.l.loadAll()),this.store.dispatch(B.q.loadAll())}}return e.\u0275fac=function(t){return new(t||e)(f.LFG(i.yh))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var X=a(95336),ee=a(13653),te=a(81780),ae=a(35618),ne=a(81606),ie=a(76743),se=a(38583);function oe(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"bia-table",6),f.NdJ("clickRow",function(t){return f.CHM(e),f.oxw().onEdit(t)})("loadLazy",function(t){return f.CHM(e),f.oxw().onLoadLazy(t)})("selectedElementsChanged",function(t){return f.CHM(e),f.oxw().onSelectedElementsChanged(t)}),f.ALo(1,"async"),f.ALo(2,"async"),f.ALo(3,"async"),f.qZA()}if(2&e){const e=f.oxw();f.Q6J("elements",f.lcZ(1,12,e.planes$))("totalRecord",f.lcZ(2,14,e.totalCount$))("columnToDisplays",e.displayedColumns)("pageSize",e.pageSize)("configuration",e.tableConfiguration)("showColSearch",e.showColSearch)("globalSearchValue",e.globalSearchValue)("canClickRow",e.canEdit)("canSelectElement",e.canDelete)("loading",f.lcZ(3,16,e.loading$))("viewPreference",e.viewPreference)("tableStateKey",e.tableStateKey)}}function le(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"app-plane-table",7),f.NdJ("loadLazy",function(t){return f.CHM(e),f.oxw().onLoadLazy(t)})("selectedElementsChanged",function(t){return f.CHM(e),f.oxw().onSelectedElementsChanged(t)})("save",function(t){return f.CHM(e),f.oxw().onSave(t)}),f.ALo(1,"async"),f.ALo(2,"async"),f.ALo(3,"async"),f.ALo(4,"async"),f.qZA()}if(2&e){const e=f.oxw();f.Q6J("elements",f.lcZ(1,14,e.planes$))("dictOptionDtos",f.lcZ(2,16,e.planeOptionsService.dictOptionDtos$))("totalRecord",f.lcZ(3,18,e.totalCount$))("columnToDisplays",e.displayedColumns)("pageSize",e.pageSize)("configuration",e.tableConfiguration)("showColSearch",e.showColSearch)("globalSearchValue",e.globalSearchValue)("canEdit",e.canEdit)("canAdd",e.canAdd)("canSelectElement",e.canDelete)("loading",f.lcZ(4,20,e.loading$))("viewPreference",e.viewPreference)("tableStateKey",e.tableStateKey)}}let re=(()=>{class e{constructor(e,t,a,n,i,s,o,l,r){this.store=e,this.router=t,this.activatedRoute=a,this.authService=n,this.planeDas=i,this.translateService=s,this.biaTranslationService=o,this.planesSignalRService=l,this.planeOptionsService=r,this.useCalcMode=!1,this.useSignalR=false,this.useView=!1,this.useRefreshAtLanguageChange=!1,this.flex=!0,this.sub=new $.w,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=h.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.tableStateKey=this.useView?"planesGrid":void 0,this.useViewTeamWithTypeId=this.useView?v:null}get planeListComponent(){return void 0!==this.biaTableComponent?this.biaTableComponent:this.planeTableComponent}ngOnInit(){this.parentIds=[],this.sub=new $.w,this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(M),this.totalCount$=this.store.select(L),this.loading$=this.store.select(q),this.OnDisplay(),this.useCalcMode&&this.sub.add(this.biaTranslationService.currentCulture$.subscribe(e=>{this.planeOptionsService.loadAllOptions()})),this.useRefreshAtLanguageChange&&this.sub.add(this.biaTranslationService.currentCulture$.pipe((0,ee.T)(1)).subscribe(e=>{this.onLoadLazy(this.planeListComponent.getLazyLoadMetadata())}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe(),this.OnHide()}OnDisplay(){this.useView&&this.store.dispatch((0,k.Tx)()),this.useSignalR&&this.planesSignalRService.initialize()}OnHide(){this.useSignalR&&this.planesSignalRService.destroy()}onCreate(){this.useCalcMode||this.router.navigate(["create"],{relativeTo:this.activatedRoute})}onEdit(e){this.useCalcMode||this.router.navigate([e,"edit"],{relativeTo:this.activatedRoute})}onSave(e){this.useCalcMode&&((null==e?void 0:e.id)>0?this.canEdit&&this.store.dispatch(y.update({plane:e})):this.canAdd&&this.store.dispatch(y.create({plane:e})))}onDelete(){this.selectedPlanes&&this.canDelete&&this.store.dispatch(y.multiRemove({ids:this.selectedPlanes.map(e=>e.id)}))}onSelectedElementsChanged(e){this.selectedPlanes=e}onPageSizeChange(e){this.pageSize=e}onLoadLazy(e){const t=Object.assign({parentIds:this.parentIds},e);this.store.dispatch(y.loadAllByPost({event:t}))}searchGlobalChanged(e){this.globalSearchValue=e}displayedColumnsChanged(e){this.displayedColumns=e}onToggleSearch(){this.showColSearch=!this.showColSearch}onViewChange(e){this.viewPreference=e}onExportCSV(){const e={};this.columns.map(t=>e[t.value.split(".")[1]]=this.translateService.instant(t.value));const t=Object.assign({parentIds:this.parentIds,columns:e},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(t).subscribe(e=>{_.saveAs(e,this.translateService.instant("app.planes")+".csv")})}setPermissions(){this.canEdit=this.authService.hasPermission(Y.y.Plane_Update),this.canDelete=this.authService.hasPermission(Y.y.Plane_Delete),this.canAdd=this.authService.hasPermission(Y.y.Plane_Create)}initTableConfiguration(){this.biaTranslationService.currentCultureDateFormat$.subscribe(e=>{this.tableConfiguration={columns:[new E.ML("msn","plane.msn"),Object.assign(new E.ML("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:E.d5.Boolean}),Object.assign(new E.ML("lastFlightDate","plane.lastFlightDate"),{type:E.d5.DateTime,formatDate:e.dateTimeFormat}),Object.assign(new E.ML("deliveryDate","plane.deliveryDate"),{type:E.d5.Date,formatDate:e.dateFormat}),Object.assign(new E.ML("syncTime","plane.syncTime"),{type:E.d5.TimeSecOnly,formatDate:e.timeFormatSec}),Object.assign(new E.ML("capacity","plane.capacity"),{type:E.d5.Number,filterMode:E.ZF.Equals}),Object.assign(new E.ML("planeType","plane.planeType"),{type:E.d5.OneToMany}),Object.assign(new E.ML("connectingAirports","plane.connectingAirports"),{type:E.d5.ManyToMany})]},this.columns=this.tableConfiguration.columns.map(e=>({key:e.field,value:e.header})),this.displayedColumns=[...this.columns]})}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(i.yh),f.Y36(n.F0),f.Y36(n.gz),f.Y36(F.e),f.Y36(S),f.Y36(te.sK),f.Y36(G.P6),f.Y36(J),f.Y36(W))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-planes-index"]],viewQuery:function(e,t){if(1&e&&(f.Gf(R.$,5),f.Gf(X.t,5)),2&e){let e;f.iGM(e=f.CRH())&&(t.biaTableComponent=e.first),f.iGM(e=f.CRH())&&(t.planeTableComponent=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&f.ekj("bia-flex",t.flex)},decls:8,vars:17,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","useViewTeamWithTypeId","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","clickRow","loadLazy","selectedElementsChanged",4,"ngIf"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save",4,"ngIf"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","clickRow","loadLazy","selectedElementsChanged"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save"]],template:function(e,t){1&e&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"bia-table-header",2),f.NdJ("create",function(){return t.onCreate()})("exportCSV",function(){return t.onExportCSV()})("delete",function(){return t.onDelete()}),f.ALo(3,"translate"),f.qZA(),f.TgZ(4,"bia-table-controller",3),f.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),f.ALo(5,"async"),f.qZA(),f.YNc(6,oe,4,18,"bia-table",4),f.YNc(7,le,5,22,"app-plane-table",5),f.qZA(),f.qZA()),2&e&&(f.xp6(2),f.Q6J("headerTitle",f.lcZ(3,13,"plane.listOf"))("canAdd",t.canAdd&&!t.useCalcMode)("canDelete",t.canDelete)("canExportCSV",!0)("selectedElements",t.selectedPlanes),f.xp6(2),f.Q6J("defaultPageSize",t.defaultPageSize)("length",f.lcZ(5,15,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns)("tableStateKey",t.tableStateKey)("useViewTeamWithTypeId",t.useViewTeamWithTypeId),f.xp6(2),f.Q6J("ngIf",!t.useCalcMode),f.xp6(1),f.Q6J("ngIf",t.useCalcMode))},directives:[ae.xw,ae.yH,ne.l,ie.B,se.O5,R.$,X.t],pipes:[te.X$,se.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),e})();var ce=a(61028),pe=a(3679),de=a(11466),ue=a(13928),he=a(12332),ge=a(88598),ve=a(45862),ye=a(50103),be=a(36949),me=a(4207);const fe=function(){return{width:"100%"}},Se=function(){return{width:"100%"}};let Ae=(()=>{class e{constructor(e,t){this.formBuilder=e,this.authService=t,this.plane={},this.save=new f.vpe,this.cancel=new f.vpe,this.initForm()}ngOnChanges(e){this.plane&&(this.form.reset(),this.plane&&this.form.patchValue(Object.assign({},this.plane)))}initForm(){var e;this.form=this.formBuilder.group({id:[this.plane.id],msn:[this.plane.msn,pe.kI.required],isActive:[this.plane.isActive],lastFlightDate:[this.plane.lastFlightDate],deliveryDate:[this.plane.deliveryDate],syncTime:[this.plane.syncTime],capacity:[this.plane.capacity,pe.kI.required],connectingAirports:[this.plane.connectingAirports],planeType:[null===(e=this.plane.planeType)||void 0===e?void 0:e.id]})}onCancel(){this.form.reset(),this.cancel.next()}onSubmit(){var e;if(this.form.valid){const t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=de.P.Differential(t.connectingAirports,null===(e=this.plane)||void 0===e?void 0:e.connectingAirports),t.planeType=de.P.Clone(t.planeType),t.siteId=this.authService.getCurrentTeamId(h.k0.Site),this.save.emit(t),this.form.reset()}}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(pe.qu),f.Y36(F.e))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-plane-form"]],inputs:{plane:"plane",airportOptions:"airportOptions",planeTypeOptions:"planeTypeOptions"},outputs:{save:"save",cancel:"cancel"},features:[f.TTD],decls:63,vars:50,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"p-float-label"],["formControlName","msn","type","text","pInputText","","maxlength","64",2,"width","100%"],[1,"bia-star-mandatory"],["binary","true","formControlName","isActive",3,"label"],["biaLocale","","formControlName","lastFlightDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0","appendTo","body",3,"inputStyle"],["biaLocale","","formControlName","deliveryDate","placeholder","\xa0","appendTo","body","dateFormat","yy-mm-dd",3,"showButtonBar","inputStyle"],["formControlName","syncTime","showTime","true","showSeconds","true","placeholder","\xa0","dataType","string","appendTo","body",3,"timeOnly","inputStyle"],["formControlName","capacity","type","number","pInputText","",2,"width","100%"],["placeholder","\xa0","formControlName","planeType","optionLabel","display","datakey","id","appendTo","body",3,"options","showClear"],["defaultLabel","\xa0","formControlName","connectingAirports","optionLabel","display","datakey","id","appendTo","body",3,"options","virtualScroll"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-outlined",3,"label","click"]],template:function(e,t){1&e&&(f.TgZ(0,"form",0),f.NdJ("submit",function(){return t.onSubmit()}),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"span",3),f._UZ(4,"input",4),f.TgZ(5,"label"),f.TgZ(6,"span",5),f._uU(7,"*"),f.qZA(),f._uU(8),f.ALo(9,"translate"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(10,"div",1),f.TgZ(11,"div",2),f._UZ(12,"p-checkbox",6),f.ALo(13,"translate"),f.qZA(),f.qZA(),f.TgZ(14,"div",1),f.TgZ(15,"div",2),f.TgZ(16,"span",3),f._UZ(17,"p-calendar",7),f.TgZ(18,"label"),f._uU(19),f.ALo(20,"translate"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(21,"div",1),f.TgZ(22,"div",2),f.TgZ(23,"span",3),f._UZ(24,"p-calendar",8),f.TgZ(25,"label"),f._uU(26),f.ALo(27,"translate"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(28,"div",1),f.TgZ(29,"div",2),f.TgZ(30,"span",3),f._UZ(31,"p-calendar",9),f.TgZ(32,"label"),f._uU(33),f.ALo(34,"translate"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(35,"div",1),f.TgZ(36,"div",2),f.TgZ(37,"span",3),f._UZ(38,"input",10),f.TgZ(39,"label"),f.TgZ(40,"span",5),f._uU(41,"*"),f.qZA(),f._uU(42),f.ALo(43,"translate"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(44,"div",1),f.TgZ(45,"div",2),f.TgZ(46,"span",3),f._UZ(47,"p-dropdown",11),f.TgZ(48,"label"),f._uU(49),f.ALo(50,"translate"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(51,"div",1),f.TgZ(52,"div",2),f.TgZ(53,"span",3),f._UZ(54,"p-multiSelect",12),f.TgZ(55,"label"),f._uU(56),f.ALo(57,"translate"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(58,"div",13),f._UZ(59,"button",14),f.ALo(60,"translate"),f.TgZ(61,"button",15),f.NdJ("click",function(){return t.onCancel()}),f.ALo(62,"translate"),f.qZA(),f.qZA(),f.qZA()),2&e&&(f.Q6J("formGroup",t.form),f.xp6(8),f.Oqu(f.lcZ(9,25,"plane.msn")),f.xp6(4),f.s9C("label",f.lcZ(13,27,"plane.isActive")),f.xp6(5),f.Q6J("inputStyle",f.DdM(45,fe)),f.xp6(2),f.Oqu(f.lcZ(20,29,"plane.lastFlightDate")),f.xp6(5),f.Q6J("showButtonBar",!0)("inputStyle",f.DdM(46,fe)),f.xp6(2),f.Oqu(f.lcZ(27,31,"plane.deliveryDate")),f.xp6(5),f.Q6J("timeOnly",!0)("inputStyle",f.DdM(47,fe)),f.xp6(2),f.Oqu(f.lcZ(34,33,"plane.syncTime")),f.xp6(9),f.Oqu(f.lcZ(43,35,"plane.capacity")),f.xp6(5),f.Akn(f.DdM(48,Se)),f.Q6J("options",t.planeTypeOptions)("showClear",!0),f.xp6(2),f.Oqu(f.lcZ(50,37,"plane.planeType")),f.xp6(5),f.Akn(f.DdM(49,Se)),f.Q6J("options",t.airportOptions)("virtualScroll",!0),f.xp6(2),f.Oqu(f.lcZ(57,39,"plane.connectingAirports")),f.xp6(3),f.s9C("label",f.lcZ(60,41,"bia.save")),f.Q6J("disabled",!t.form.valid),f.xp6(2),f.s9C("label",f.lcZ(62,43,"bia.cancel")))},directives:[pe._Y,pe.JL,ae.xw,pe.sg,ae.Wh,ae.yH,pe.Fj,pe.JJ,pe.u,ue.o,pe.nD,he.XZ,ge.f,ve.D,pe.wV,ye.Lt,be.NU,ae.SQ,me.Hq],pipes:[te.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}"]}),e})(),Ce=(()=>{class e{constructor(e,t,a,n,i){this.store=e,this.router=t,this.activatedRoute=a,this.planeOptionsService=n,this.biaTranslationService=i,this.sub=new $.w}ngOnInit(){this.sub.add(this.biaTranslationService.currentCulture$.subscribe(e=>{this.planeOptionsService.loadAllOptions()}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch(y.create({plane:e})),this.router.navigate(["../"],{relativeTo:this.activatedRoute})}onCancelled(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(i.yh),f.Y36(n.F0),f.Y36(n.gz),f.Y36(W),f.Y36(G.P6))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-plane-new"]],decls:3,vars:6,consts:[[3,"airportOptions","planeTypeOptions","cancel","save"]],template:function(e,t){1&e&&(f.TgZ(0,"app-plane-form",0),f.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),f.ALo(1,"async"),f.ALo(2,"async"),f.qZA()),2&e&&f.Q6J("airportOptions",f.lcZ(1,2,t.planeOptionsService.airportOptions$))("planeTypeOptions",f.lcZ(2,4,t.planeOptionsService.planeTypeOptions$))},directives:[Ae],pipes:[se.Ov],styles:[""]}),e})(),Te=(()=>{class e{constructor(e){this.store=e,this.sub=new $.w,this.InitSub(),this.loading$=this.store.select(x),this.plane$=this.store.select(P)}get currentPlane(){var e;return(null===(e=this._currentPlane)||void 0===e?void 0:e.id)===this._currentPlaneId?this._currentPlane:null}get currentPlaneId(){return this._currentPlaneId}set currentPlaneId(e){this._currentPlaneId=Number(e),this.store.dispatch(y.load({id:e}))}InitSub(){this.sub=new $.w,this.sub.add(this.store.select(P).subscribe(e=>{e&&(this._currentPlane=e)}))}}return e.\u0275fac=function(t){return new(t||e)(f.LFG(i.yh))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ze=a(79373);function we(e,t){1&e&&f._UZ(0,"bia-spinner",2),2&e&&f.Q6J("overlay",!0)}let Oe=(()=>{class e{constructor(e,t,a,n,i,s){this.store=e,this.router=t,this.activatedRoute=a,this.planeOptionsService=n,this.planeService=i,this.biaTranslationService=s,this.displayChange=new f.vpe,this.sub=new $.w}ngOnInit(){this.sub.add(this.biaTranslationService.currentCulture$.subscribe(e=>{this.planeOptionsService.loadAllOptions()}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch(y.update({plane:e})),this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}onCancelled(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(i.yh),f.Y36(n.F0),f.Y36(n.gz),f.Y36(W),f.Y36(Te),f.Y36(G.P6))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-plane-edit"]],outputs:{displayChange:"displayChange"},decls:6,vars:12,consts:[[3,"plane","airportOptions","planeTypeOptions","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(f.TgZ(0,"app-plane-form",0),f.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),f.ALo(1,"async"),f.ALo(2,"async"),f.ALo(3,"async"),f.qZA(),f.YNc(4,we,1,1,"bia-spinner",1),f.ALo(5,"async")),2&e&&(f.Q6J("plane",f.lcZ(1,4,t.planeService.plane$))("airportOptions",f.lcZ(2,6,t.planeOptionsService.airportOptions$))("planeTypeOptions",f.lcZ(3,8,t.planeOptionsService.planeTypeOptions$)),f.xp6(4),f.Q6J("ngIf",f.lcZ(5,10,t.planeService.loading$)))},directives:[Ae,se.O5,Ze.O],pipes:[se.Ov],styles:[""]}),e})();var Le=a(16249),Pe=a(30466);function De(e,t){1&e&&f._UZ(0,"bia-spinner",1),2&e&&f.Q6J("overlay",!0)}let xe=(()=>{class e{constructor(e,t,a,n){this.store=e,this.route=t,this.planeService=a,this.layoutService=n,this.sub=new $.w}ngOnInit(){this.planeService.currentPlaneId=this.route.snapshot.params.planeId,this.sub.add(this.store.select(P).subscribe(e=>{(null==e?void 0:e.msn)&&(this.route.data.pipe((0,U.P)()).subscribe(t=>{t.breadcrumb=e.msn}),this.layoutService.refreshBreadcrumb())}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(i.yh),f.Y36(n.gz),f.Y36(Te),f.Y36(Pe.N))},e.\u0275cmp=f.Xpm({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(f._UZ(0,"router-outlet"),f.YNc(1,De,1,1,"bia-spinner",0),f.ALo(2,"async")),2&e&&(f.xp6(1),f.Q6J("ngIf",f.lcZ(2,1,t.planeService.loading$)))},directives:[n.lC,se.O5,Ze.O],pipes:[se.Ov],styles:[""]}),e})();var qe=a(98832),Me=a(53460),ze=a(63364),Ie=a(23291);const $e=[{path:"",data:{breadcrumb:null,permission:Y.y.Plane_List_Access,InjectComponent:re},component:Me.e,canActivate:[Le.n],children:[{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:Y.y.Plane_Create,title:"plane.add",InjectComponent:Ce},component:qe._,canActivate:[Le.n]},{path:":planeId",data:{breadcrumb:"",canNavigate:!0},component:xe,canActivate:[Le.n],children:[{path:"edit",data:{breadcrumb:"bia.edit",canNavigate:!0,permission:Y.y.Plane_Update,title:"plane.edit",InjectComponent:Oe},component:qe._,canActivate:[Le.n]},{path:"",redirectTo:"edit"}]}]},{path:"**",redirectTo:""}];let Re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[ce.m,n.Bz.forChild($e),i.Aw.forFeature(g,Z),s.sQ.forFeature([I]),ze.i,Ie.O]]}),e})()}}]);