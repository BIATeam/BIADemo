!function(){function t(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var i,o,a=[],r=!0,s=!1;try{for(e=e.call(t);!(r=(i=e.next()).done)&&(a.push(i.value),!n||a.length!==n);r=!0);}catch(c){s=!0,o=c}finally{try{r||null==e.return||e.return()}finally{if(s)throw o}}return a}(t,n)||e(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function o(t){if(null==t)throw new TypeError("Cannot destructure undefined")}function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}function r(t,n){return(r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var e,i=l(t);if(n){var o=l(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return c(this,e)}}function c(t,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function f(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,n,e){return n&&f(t.prototype,n),e&&f(t,e),t}(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[978],{49457:function(t,n){var e,i;void 0!==(i="function"==typeof(e=function(){"use strict";function n(t,n,e){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){r(i.response,n,e)},i.onerror=function(){console.error("could not download file")},i.send()}function e(t){var n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch(e){}return 200<=n.status&&299>=n.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,a,r){var s=o.URL||o.webkitURL,c=document.createElement("a");c.download=a=a||t.name||"download",c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?i(c):e(c.href)?n(t,a,r):i(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){i(c)},0))}:"msSaveOrOpenBlob"in navigator?function(t,o,a){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,n){return void 0===n?n={autoBom:!1}:"object"!=typeof n&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,a),o);else if(e(t))n(t,o,a);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){i(r)})}}:function(t,e,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,i);var s="application/octet-stream"===t.type,c=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var f=o.URL||o.webkitURL,d=f.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});o.saveAs=r.saveAs=r,t.exports=r})?e.apply(n,[]):e)&&(t.exports=i)},16249:function(t,n,e){"use strict";e.d(n,{n:function(){return c}});var i,o=e(8340),a=e(92340),r=e(68307),s=e(37716),c=((i=function(){function t(n){u(this,t),this.authService=n}return d(t,[{key:"canActivate",value:function(t,n){return this.authService.hasPermissionObs(t.data.permission).pipe((0,r.b)(function(t){!0!==t&&(window.location.href=a.N.urlErrorPage+"?num=403")}))}}]),t}()).\u0275fac=function(t){return new(t||i)(s.LFG(o.e))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},11466:function(t,n,e){"use strict";e.d(n,{P:function(){return o}});var i=e(16244),o=function(){function t(){u(this,t)}return d(t,null,[{key:"Clone",value:function(t){return t?Object.assign({},t):null}},{key:"Differential",value:function(t,n){var e=[];if(n&&Array.isArray(n)){var o=n.filter(function(n){return!t||!t.map(function(t){return t.id}).includes(n.id)}).map(function(t){return Object.assign(Object.assign({},t),{dtoState:i.e.Deleted})});o&&(e=e.concat(o))}if(t){var a=null==t?void 0:t.filter(function(t){return!n||!n.map(function(t){return t.id}).includes(t.id)}).map(function(t){return Object.assign(Object.assign({},t),{dtoState:i.e.Added})});a&&(e=e.concat(a))}return e}}]),t}()},82762:function(t,n,e){"use strict";e.d(n,{b:function(){return i}});var i=(0,e(86710).PH)("[Bia] Success the refresh of the list will be done by signalR.")},33978:function(e,i,r){"use strict";r.r(i),r.d(i,{NotificationModule:function(){return Ve}});var c,l=r(2694),f=r(86710),p=r(91601),g=r(25917),h=r(92996),v=r(43190),y=r(88002),m=r(5304),b=r(94612),w=r(57057),x=(0,f.PH)("[Notifications] Load all by post",(0,f.Ky)()),S=(0,f.PH)("[Notifications] Load",(0,f.Ky)()),Z=(0,f.PH)("[Notifications] Create",(0,f.Ky)()),A=(0,f.PH)("[Notifications] Update",(0,f.Ky)()),C=(0,f.PH)("[Notifications] Remove",(0,f.Ky)()),T=(0,f.PH)("[Notifications] Multi Remove",(0,f.Ky)()),O=(0,f.PH)("[Notifications] Load all by post success",(0,f.Ky)()),L=(0,f.PH)("[Notifications] Load success",(0,f.Ky)()),N=(0,f.PH)("[Notifications] Failure",(0,f.Ky)()),k=r(74147),M=r(37716),q=((c=function(t){a(e,t);var n=s(e);function e(t){return u(this,e),n.call(this,t,"Notifications")}return e}(k.Z)).\u0275fac=function(t){return new(t||c)(M.LFG(M.zs3))},c.\u0275prov=M.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c),I=r(80273),D=(0,I.H)({selectId:function(t){return t.id},sortComparer:!1}),J=D.getInitialState({totalCount:0,currentNotification:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),Q=(0,f.Lq)(J,(0,f.on)(x,function(t,n){return o(n),Object.assign(Object.assign({},t),{loadingGetAll:!0})}),(0,f.on)(S,function(t){return Object.assign(Object.assign({},t),{loadingGet:!0})}),(0,f.on)(O,function(t,n){var e=n.result,i=n.event,o=D.setAll(e.data,t);return o.totalCount=e.totalCount,o.lastLazyLoadEvent=i,o.loadingGetAll=!1,o}),(0,f.on)(L,function(t,n){var e=n.notification;return Object.assign(Object.assign({},t),{currentNotification:e,loadingGet:!1})}),(0,f.on)(N,function(t,n){return o(n),Object.assign(Object.assign({},t),{loadingGetAll:!1,loadingGet:!1})}));function $(t,n){return(0,f.UY)({notifications:Q})(t,n)}var U=(0,f.ZF)("notifications"),Y=(0,f.P1)(U,function(t){return t.notifications}),P=(0,f.P1)(Y,function(t){return t.totalCount}),F=(0,f.P1)(Y,function(t){return t.currentNotification}),E=(0,f.P1)(Y,function(t){return t.lastLazyLoadEvent}),B=(0,f.P1)(Y,function(t){return t.loadingGet}),_=(0,f.P1)(Y,function(t){return t.loadingGetAll}),j=D.getSelectors(Y).selectAll,R=r(82762),H=r(42),z=function(){var t=function t(e,i,o,a){var r=this;u(this,t),this.actions$=e,this.notificationDas=i,this.biaMessageService=o,this.store=a,this.loadAllByPost$=(0,p.GW)(function(){return r.actions$.pipe((0,p.l4)(x),(0,h.j)("event"),(0,v.w)(function(t){return r.notificationDas.getListByPost(t).pipe((0,y.U)(function(n){return O({result:n,event:t})}),(0,m.K)(function(t){return r.biaMessageService.showError(),(0,g.of)(N({error:t}))}))}))}),this.load$=(0,p.GW)(function(){return r.actions$.pipe((0,p.l4)(S),(0,h.j)("id"),(0,v.w)(function(t){return r.notificationDas.get(t).pipe((0,y.U)(function(t){return L({notification:t})}),(0,m.K)(function(t){return r.biaMessageService.showError(),(0,g.of)(N({error:t}))}))}))}),this.create$=(0,p.GW)(function(){return r.actions$.pipe((0,p.l4)(Z),(0,h.j)("notification"),(0,b.b)(function(t){return(0,g.of)(t).pipe((0,w.M)(r.store.select(E)))}),(0,v.w)(function(e){var i=n(e,2),o=i[0],a=i[1];return r.notificationDas.post(o).pipe((0,y.U)(function(){return r.biaMessageService.showAddSuccess(),t.useSignalR?(0,R.b)():x({event:a})}),(0,m.K)(function(t){return r.biaMessageService.showError(),(0,g.of)(N({error:t}))}))}))}),this.update$=(0,p.GW)(function(){return r.actions$.pipe((0,p.l4)(A),(0,h.j)("notification"),(0,b.b)(function(t){return(0,g.of)(t).pipe((0,w.M)(r.store.select(E)))}),(0,v.w)(function(e){var i=n(e,2),o=i[0],a=i[1];return r.notificationDas.put(o,o.id).pipe((0,y.U)(function(){return r.biaMessageService.showUpdateSuccess(),t.useSignalR?(0,R.b)():x({event:a})}),(0,m.K)(function(t){return r.biaMessageService.showError(),(0,g.of)(N({error:t}))}))}))}),this.destroy$=(0,p.GW)(function(){return r.actions$.pipe((0,p.l4)(C),(0,h.j)("id"),(0,b.b)(function(t){return(0,g.of)(t).pipe((0,w.M)(r.store.select(E)))}),(0,v.w)(function(e){var i=n(e,2),o=i[0],a=i[1];return r.notificationDas.delete(o).pipe((0,y.U)(function(){return r.biaMessageService.showDeleteSuccess(),t.useSignalR?(0,R.b)():x({event:a})}),(0,m.K)(function(t){return r.biaMessageService.showError(),(0,g.of)(N({error:t}))}))}))}),this.multiDestroy$=(0,p.GW)(function(){return r.actions$.pipe((0,p.l4)(T),(0,h.j)("ids"),(0,b.b)(function(t){return(0,g.of)(t).pipe((0,w.M)(r.store.select(E)))}),(0,v.w)(function(e){var i=n(e,2),o=i[0],a=i[1];return r.notificationDas.deletes(o).pipe((0,y.U)(function(){return r.biaMessageService.showDeleteSuccess(),t.useSignalR?(0,R.b)():x({event:a})}),(0,m.K)(function(t){return r.biaMessageService.showError(),(0,g.of)(N({error:t}))}))}))})};return t.useSignalR=!1,t.\u0275fac=function(n){return new(n||t)(M.LFG(p.eX),M.LFG(q),M.LFG(H.X),M.LFG(f.yh))},t.\u0275prov=M.Yz7({token:t,factory:t.\u0275fac}),t}(),G=r(75319),K=r(88385),V=r(79090),X=r(40136),W=r(8340),tt=r(49457),nt=r(38042),et=r(29206),it=r(28049),ot=r(59142),at=function(){var t=function(){function t(n,e,i){u(this,t),this.store=n,this.signalRService=e,this.authService=i}return d(t,[{key:"initialize",value:function(){var t=this;console.log("%c [Notifications] Register SignalR : refresh-notifications","color: purple; font-weight: bold"),this.signalRService.addMethod("refresh-notifications",function(n){var e=JSON.parse(n);t.IsInMyDisplay(e)&&t.store.select(E).pipe((0,it.P)()).subscribe(function(n){console.log("%c [Notifications] RefreshSuccess","color: green; font-weight: bold"),t.store.dispatch(x({event:n}))})}),this.signalRService.addMethod("refresh-notifications-several",function(n){JSON.parse(n).some(function(n){return t.IsInMyDisplay(n)})&&t.store.select(E).pipe((0,it.P)()).subscribe(function(n){console.log("%c [Notifications] RefreshSuccess","color: green; font-weight: bold"),t.store.dispatch(x({event:n}))})}),this.targetedFeature={parentKey:this.authService.getAdditionalInfos().userData.currentSiteId.toString(),featureName:"notifications"},this.signalRService.joinGroup(this.targetedFeature)}},{key:"IsInMyDisplay",value:function(t){var n=this,e=this.authService.getAdditionalInfos(),i=t.siteId===e.userData.currentSiteId,o=null==t.notifiedUsers||0===t.notifiedUsers.length||t.notifiedUsers.some(function(t){return t.id===e.userInfo.id}),a=null==t.notifiedPermissions||0===t.notifiedPermissions.length||t.notifiedPermissions.some(function(t){return n.authService.hasPermission(t.id.toString())});return i&&o&&a}},{key:"destroy",value:function(){console.log("%c [Notifications] Unregister SignalR : refresh-notifications","color: purple; font-weight: bold"),this.signalRService.removeMethod("refresh-notifications"),this.signalRService.leaveGroup(this.targetedFeature)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(M.LFG(f.yh),M.LFG(ot.Y),M.LFG(W.e))},t.\u0275prov=M.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),rt=r(46468),st=r(9112),ct=(0,f.PH)("[Domain Language Options] Load all"),lt=(0,f.PH)("[Domain Language Options] Load all success",(0,f.Ky)()),ut=(0,f.PH)("[Domain Language Options] Failure",(0,f.Ky)()),ft=(0,I.H)({selectId:function(t){return t.id},sortComparer:!1}),dt=ft.getInitialState({}),pt=(0,f.Lq)(dt,(0,f.on)(lt,function(t,n){var e=n.languages;return ft.setAll(e,t)}));function gt(t,n){return(0,f.UY)({languageOptions:pt})(t,n)}var ht=(0,f.ZF)("domain-language-options"),vt=(0,f.P1)(ht,function(t){return t.languageOptions}),yt=ft.getSelectors(vt).selectAll,mt=(0,f.PH)("[Domain Notification Type Options] Load all"),bt=(0,f.PH)("[Domain Notification Type Options] Load all success",(0,f.Ky)()),wt=(0,f.PH)("[Domain Notification Type Options] Failure",(0,f.Ky)()),xt=(0,I.H)({selectId:function(t){return t.id},sortComparer:!1}),St=xt.getInitialState({}),Zt=(0,f.Lq)(St,(0,f.on)(bt,function(t,n){var e=n.notificationTypes;return xt.setAll(e,t)}));function At(t,n){return(0,f.UY)({notificationTypeOptions:Zt})(t,n)}var Ct=(0,f.ZF)("domain-notification-type-options"),Tt=(0,f.P1)(Ct,function(t){return t.notificationTypeOptions}),Ot=xt.getSelectors(Tt).selectAll,Lt=(0,f.PH)("[Domain Permission Options] Load all"),Nt=(0,f.PH)("[Domain Permission Options] Load all success",(0,f.Ky)()),kt=(0,f.PH)("[Domain Permission Options] Failure",(0,f.Ky)()),Mt=(0,I.H)({selectId:function(t){return t.id},sortComparer:!1}),qt=Mt.getInitialState({}),It=(0,f.Lq)(qt,(0,f.on)(Nt,function(t,n){var e=n.permissions;return Mt.setAll(e,t)}));function Dt(t,n){return(0,f.UY)({permissionOptions:It})(t,n)}var Jt=(0,f.ZF)("domain-permission-options"),Qt=(0,f.P1)(Jt,function(t){return t.permissionOptions}),$t=Mt.getSelectors(Qt).selectAll,Ut=r(43590),Yt=r(71585),Pt=r(94529),Ft=function(){var t=function(){function t(n){u(this,t),this.store=n,this.notificationTypeOptions$=this.store.select(Ot),this.permissionOptions$=this.store.select($t),this.userOptions$=this.store.select(Ut.yp),this.languageOptions$=this.store.select(yt),this.dictOptionDtos$=(0,st.aj)([this.notificationTypeOptions$,this.permissionOptions$,this.userOptions$]).pipe((0,y.U)(function(t){return[new Pt.b("type",t[0]),new Pt.b("notifiedPermissions",t[1]),new Pt.b("notifiedUsers",t[2]),new Pt.b("createdBy",t[2])]}))}return d(t,[{key:"loadAllOptions",value:function(){this.store.dispatch(mt()),this.store.dispatch(Lt()),this.store.dispatch((0,Yt.Ae)()),this.store.dispatch(ct())}}]),t}();return t.\u0275fac=function(n){return new(n||t)(M.LFG(f.yh))},t.\u0275prov=M.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Et=r(81780),Bt=r(35618),_t=r(81606),jt=r(76743),Rt=r(38583),Ht=r(3679),zt=r(11466),Gt=r(86320),Kt=r(70667),Vt=r(33013),Xt=r(13928),Wt=r(88030),tn=r(50103),nn=r(36949),en=r(12332),on=r(88598),an=r(45862),rn=r(49067);function sn(t,n){1&t&&(M.TgZ(0,"th",10),M._UZ(1,"p-tableHeaderCheckbox"),M.qZA())}function cn(t,n){if(1&t&&(M.TgZ(0,"th",12),M._uU(1),M.ALo(2,"translate"),M._UZ(3,"p-sortIcon",13),M.qZA()),2&t){var e=M.oxw().$implicit;M.Q6J("pSortableColumn",e.field),M.xp6(1),M.hij(" ",M.lcZ(2,3,null==e?null:e.header)," "),M.xp6(2),M.Q6J("field",e.field)}}function ln(t,n){if(1&t&&(M.TgZ(0,"th"),M._uU(1),M.ALo(2,"translate"),M.qZA()),2&t){var e=M.oxw().$implicit;M.xp6(1),M.hij(" ",M.lcZ(2,1,null==e?null:e.header)," ")}}function un(t,n){if(1&t&&(M.ynx(0),M.YNc(1,cn,4,5,"th",11),M.YNc(2,ln,3,3,"th",9),M.BQk()),2&t){var e=n.$implicit;M.xp6(1),M.Q6J("ngIf",!0===(null==e?null:e.isSortable)),M.xp6(1),M.Q6J("ngIf",!0!==(null==e?null:e.isSortable))}}function fn(t,n){1&t&&M._UZ(0,"th")}var dn=function(t){return{"p-state-filled":t}};function pn(t,n){if(1&t){var e=M.EpF();M.TgZ(0,"span",17),M.TgZ(1,"input",18),M.NdJ("input",function(t){M.CHM(e);var n=M.oxw().$implicit;return M.oxw(3),M.MAs(1).filter(t.target.value,n.field,n.filterMode)}),M.ALo(2,"translate"),M.qZA(),M.qZA()}if(2&t){var i=M.oxw().$implicit;M.oxw(3);var o=M.MAs(1);M.xp6(1),M.s9C("type","Number"===i.type?"number":"text"),M.s9C("placeholder",void 0!==i.searchPlaceholder?i.searchPlaceholder:!0===i.isDate?M.lcZ(2,4,"bia.dateIso8601"):""),M.Q6J("value",null==o.filters[i.field]?null:o.filters[i.field].value)("ngClass",M.VKq(6,dn,""!==(null==o.filters[i.field]?null:o.filters[i.field].value)))}}function gn(t,n){if(1&t&&(M.TgZ(0,"th",15),M.YNc(1,pn,3,8,"span",16),M.qZA()),2&t){var e=n.$implicit;M.Q6J("ngSwitch",e.field),M.xp6(1),M.Q6J("ngIf",!0===e.isSearchable)}}function hn(t,n){if(1&t&&(M.TgZ(0,"tr"),M.YNc(1,fn,1,0,"th",9),M.YNc(2,gn,2,2,"th",14),M.qZA()),2&t){var e=M.oxw().$implicit,i=M.oxw(2);M.xp6(1),M.Q6J("ngIf",i.canSelectElement),M.xp6(1),M.Q6J("ngForOf",e)}}function vn(t,n){if(1&t&&(M.TgZ(0,"tr"),M.YNc(1,sn,2,0,"th",7),M.YNc(2,un,3,2,"ng-container",8),M.qZA(),M.YNc(3,hn,3,2,"tr",9)),2&t){var e=n.$implicit,i=M.oxw(2);M.xp6(1),M.Q6J("ngIf",i.canSelectElement),M.xp6(1),M.Q6J("ngForOf",e),M.xp6(1),M.Q6J("ngIf",i.showColSearch)}}function yn(t,n){if(1&t&&M._UZ(0,"p-tableCheckbox",23),2&t){var e=M.oxw(2).$implicit;M.Q6J("value",e)}}function mn(t,n){1&t&&M._UZ(0,"i",24)}function bn(t,n){if(1&t&&(M.TgZ(0,"td"),M.YNc(1,yn,1,1,"p-tableCheckbox",21),M.YNc(2,mn,1,0,"i",22),M.qZA()),2&t){var e=M.oxw().$implicit,i=M.oxw(2);M.xp6(1),M.Q6J("ngIf",!0!==i.isFooter(e)&&e.id>0),M.xp6(1),M.Q6J("ngIf",!0===i.isFooter(e))}}function wn(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"input",29),M.NdJ("change",function(){return M.CHM(e),M.oxw(6).onChange()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(3).$implicit;M.xp6(1),M.Q6J("formControlName",i.field)}}function xn(t,n){1&t&&(M.TgZ(0,"span",30),M._uU(1,"*"),M.qZA())}function Sn(t,n){if(1&t&&(M.ynx(0,15),M.YNc(1,wn,2,1,"ng-container",27),M.BQk(),M.YNc(2,xn,2,0,"span",28)),2&t){var e=M.oxw(2).$implicit,i=M.oxw(3);M.Q6J("ngSwitch",e.field),M.xp6(2),M.Q6J("ngIf",!0===i.isRequired(e.field))}}function Zn(t,n){1&t&&M.YNc(0,Sn,3,2,"ng-template",26)}function An(t,n){if(1&t&&(M.ynx(0),M._uU(1),M.BQk()),2&t){var e=M.oxw(3).$implicit,i=M.oxw().$implicit;M.xp6(1),M.hij(" ",i[e.field]," ")}}function Cn(t,n){if(1&t&&(M.ynx(0,15),M.YNc(1,An,2,1,"ng-container",27),M.BQk()),2&t){var e=M.oxw(2).$implicit;M.Q6J("ngSwitch",e.field)}}function Tn(t,n){1&t&&M.YNc(0,Cn,2,1,"ng-template",31)}var On=function(){return{width:"100%"}};function Ln(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"p-dropdown",35),M.NdJ("onChange",function(){return M.CHM(e),M.oxw(7).onChange()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(4).$implicit,o=M.oxw(3);M.xp6(1),M.Akn(M.DdM(4,On)),M.Q6J("formControlName",i.field)("options",o.getOptionDto(i.field))}}function Nn(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"p-multiSelect",36),M.NdJ("onChange",function(){return M.CHM(e),M.oxw(7).onChange()})("onPanelShow",function(){return M.CHM(e),M.oxw(7).onPanelShowMultiSelect()})("onPanelHide",function(){return M.CHM(e),M.oxw(7).onPanelHideMultiSelect()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(4).$implicit,o=M.oxw(3);M.xp6(1),M.Akn(M.DdM(4,On)),M.Q6J("formControlName",i.field)("options",o.getOptionDto(i.field))}}function kn(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"p-checkbox",37),M.NdJ("onChange",function(){return M.CHM(e),M.oxw(7).onChange()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(4).$implicit;M.xp6(1),M.Q6J("binary",!0)("formControlName",i.field)}}function Mn(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"input",38),M.NdJ("change",function(){return M.CHM(e),M.oxw(7).onChange()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(4).$implicit;M.xp6(1),M.Q6J("formControlName",i.field)}}function qn(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"p-calendar",39),M.NdJ("onShow",function(){return M.CHM(e),M.oxw(7).onShowCalendar()})("onSelect",function(){return M.CHM(e),M.oxw(7).onChange()})("onBlur",function(){return M.CHM(e),M.oxw(7).onBlurCalendar()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(4).$implicit;M.xp6(1),M.Akn(M.DdM(5,On)),M.Q6J("formControlName",i.field)("showButtonBar",!0)("inputStyle",M.DdM(6,On))}}function In(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"p-calendar",40),M.NdJ("onShow",function(){return M.CHM(e),M.oxw(7).onShowCalendar()})("onSelect",function(){return M.CHM(e),M.oxw(7).onChange()})("onBlur",function(){return M.CHM(e),M.oxw(7).onBlurCalendar()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(4).$implicit;M.xp6(1),M.Akn(M.DdM(5,On)),M.Q6J("formControlName",i.field)("inputStyle",M.DdM(6,On))("timeOnly",!0)}}function Dn(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"p-calendar",41),M.NdJ("onShow",function(){return M.CHM(e),M.oxw(7).onShowCalendar()})("onSelect",function(){return M.CHM(e),M.oxw(7).onChange()})("onBlur",function(){return M.CHM(e),M.oxw(7).onBlurCalendar()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(4).$implicit;M.xp6(1),M.Akn(M.DdM(5,On)),M.Q6J("formControlName",i.field)("inputStyle",M.DdM(6,On))("timeOnly",!0)}}function Jn(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"p-calendar",42),M.NdJ("onShow",function(){return M.CHM(e),M.oxw(7).onShowCalendar()})("onSelect",function(){return M.CHM(e),M.oxw(7).onChange()})("onBlur",function(){return M.CHM(e),M.oxw(7).onBlurCalendar()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(4).$implicit;M.xp6(1),M.Akn(M.DdM(5,On)),M.Q6J("formControlName",i.field)("inputStyle",M.DdM(6,On))("timeOnly",!0)}}function Qn(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"p-calendar",43),M.NdJ("onShow",function(){return M.CHM(e),M.oxw(7).onShowCalendar()})("onSelect",function(){return M.CHM(e),M.oxw(7).onChange()})("onBlur",function(){return M.CHM(e),M.oxw(7).onBlurCalendar()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(4).$implicit;M.xp6(1),M.Akn(M.DdM(5,On)),M.Q6J("formControlName",i.field)("showButtonBar",!0)("inputStyle",M.DdM(6,On))}}function $n(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.TgZ(1,"input",44),M.NdJ("change",function(){return M.CHM(e),M.oxw(7).onChange()}),M.qZA(),M.BQk()}if(2&t){var i=M.oxw(4).$implicit;M.xp6(1),M.Q6J("maxlength",i.maxlength)("formControlName",i.field)}}function Un(t,n){1&t&&(M.TgZ(0,"span",30),M._uU(1,"*"),M.qZA())}function Yn(t,n){if(1&t&&(M.ynx(0,15),M.YNc(1,Ln,2,5,"ng-container",34),M.YNc(2,Nn,2,5,"ng-container",34),M.YNc(3,kn,2,2,"ng-container",34),M.YNc(4,Mn,2,1,"ng-container",34),M.YNc(5,qn,2,7,"ng-container",34),M.YNc(6,In,2,7,"ng-container",34),M.YNc(7,Dn,2,7,"ng-container",34),M.YNc(8,Jn,2,7,"ng-container",34),M.YNc(9,Qn,2,7,"ng-container",34),M.YNc(10,$n,2,2,"ng-container",27),M.BQk(),M.YNc(11,Un,2,0,"span",28)),2&t){var e=M.oxw(3).$implicit,i=M.oxw(3);M.Q6J("ngSwitch",e.type),M.xp6(1),M.Q6J("ngSwitchCase","OneToMany"),M.xp6(1),M.Q6J("ngSwitchCase","ManyToMany"),M.xp6(1),M.Q6J("ngSwitchCase","Boolean"),M.xp6(1),M.Q6J("ngSwitchCase","Number"),M.xp6(1),M.Q6J("ngSwitchCase","Date"),M.xp6(1),M.Q6J("ngSwitchCase","Time"),M.xp6(1),M.Q6J("ngSwitchCase","TimeOnly"),M.xp6(1),M.Q6J("ngSwitchCase","TimeSecOnly"),M.xp6(1),M.Q6J("ngSwitchCase","DateTime"),M.xp6(2),M.Q6J("ngIf",!0===i.isRequired(e.field))}}function Pn(t,n){if(1&t&&(M.ynx(0),M._uU(1),M.BQk()),2&t){var e=M.oxw(5).$implicit,i=M.oxw().$implicit;M.xp6(1),M.hij(" ",null==i[e.field]?null:i[e.field].display," ")}}function Fn(t,n){if(1&t&&(M.ynx(0),M._uU(1),M.BQk()),2&t){var e=M.oxw(5).$implicit,i=M.oxw().$implicit,o=M.oxw(2);M.xp6(1),M.hij(" ",o.formatDisplayName(i[e.field])," ")}}function En(t,n){if(1&t&&(M.ynx(0),M._uU(1),M.ALo(2,"formatValue"),M.BQk()),2&t){var e=M.oxw(5).$implicit,i=M.oxw().$implicit;M.xp6(1),M.hij(" ",M.xi3(2,1,i[e.field],e)," ")}}function Bn(t,n){if(1&t&&(M.ynx(0),M.ynx(1,15),M.YNc(2,Pn,2,1,"ng-container",34),M.YNc(3,Fn,2,1,"ng-container",34),M.YNc(4,En,3,4,"ng-container",27),M.BQk(),M.BQk()),2&t){var e=M.oxw(4).$implicit;M.xp6(1),M.Q6J("ngSwitch",e.type),M.xp6(1),M.Q6J("ngSwitchCase","OneToMany"),M.xp6(1),M.Q6J("ngSwitchCase","ManyToMany")}}function _n(t,n){if(1&t&&M.YNc(0,Bn,5,3,"ng-container",9),2&t){var e=M.oxw(4).$implicit,i=M.oxw(2);M.Q6J("ngIf",!0!==i.isFooter(e))}}function jn(t,n){if(1&t&&(M.YNc(0,Yn,12,11,"ng-template",32),M.YNc(1,_n,1,1,"ng-template",null,33,M.W1O)),2&t){var e=M.MAs(2),i=M.oxw(2).$implicit;M.Q6J("ngIf",!0===i.isEditable)("ngIfElse",e)}}function Rn(t,n){1&t&&M.YNc(0,jn,3,2,"ng-template",26)}function Hn(t,n){1&t&&(M.TgZ(0,"label"),M._uU(1,"-"),M.qZA())}function zn(t,n){if(1&t&&M.YNc(0,Hn,2,0,"label",9),2&t){var e=M.oxw(3).$implicit;M.Q6J("ngIf",!0===e.isEditable)}}function Gn(t,n){if(1&t&&(M.ynx(0),M._uU(1),M.BQk()),2&t){var e=M.oxw(4).$implicit,i=M.oxw().$implicit;M.xp6(1),M.hij(" ",null==i[e.field]?null:i[e.field].display," ")}}function Kn(t,n){if(1&t&&(M.ynx(0),M._uU(1),M.BQk()),2&t){var e=M.oxw(4).$implicit,i=M.oxw().$implicit,o=M.oxw(2);M.xp6(1),M.hij(" ",o.formatDisplayName(i[e.field])," ")}}function Vn(t,n){1&t&&M._UZ(0,"i",47)}function Xn(t,n){if(1&t&&(M.ynx(0),M.YNc(1,Vn,1,0,"i",46),M.BQk()),2&t){var e=M.oxw(4).$implicit,i=M.oxw().$implicit;M.xp6(1),M.Q6J("ngIf",!0===i[e.field])}}function Wn(t,n){if(1&t&&(M.ynx(0),M._uU(1),M.ALo(2,"formatValue"),M.BQk()),2&t){var e=M.oxw(4).$implicit,i=M.oxw().$implicit;M.xp6(1),M.hij(" ",M.xi3(2,1,i[e.field],e)," ")}}function te(t,n){if(1&t&&(M.ynx(0,15),M.YNc(1,Gn,2,1,"ng-container",34),M.YNc(2,Kn,2,1,"ng-container",34),M.YNc(3,Xn,2,1,"ng-container",34),M.YNc(4,Wn,3,4,"ng-container",27),M.BQk()),2&t){var e=M.oxw(3).$implicit;M.Q6J("ngSwitch",e.type),M.xp6(1),M.Q6J("ngSwitchCase","OneToMany"),M.xp6(1),M.Q6J("ngSwitchCase","ManyToMany"),M.xp6(1),M.Q6J("ngSwitchCase","Boolean")}}function ne(t,n){if(1&t&&(M.YNc(0,zn,1,1,"ng-template",32),M.YNc(1,te,5,4,"ng-template",null,45,M.W1O)),2&t){var e=M.MAs(2),i=M.oxw(3).$implicit,o=M.oxw(2);M.Q6J("ngIf",!0===o.isFooter(i))("ngIfElse",e)}}function ee(t,n){1&t&&M.YNc(0,ne,3,2,"ng-template",31)}function ie(t,n){if(1&t){var e=M.EpF();M.TgZ(0,"td",25),M.NdJ("click",function(){M.CHM(e);var t=M.oxw().$implicit;return M.oxw(2).initEditableRow(t)}),M.TgZ(1,"p-cellEditor"),M.YNc(2,Zn,1,0,void 0,9),M.YNc(3,Tn,1,0,void 0,9),M.YNc(4,Rn,1,0,void 0,9),M.YNc(5,ee,1,0,void 0,9),M.qZA(),M.qZA()}if(2&t){var i=n.$implicit,o=M.oxw(3);M.xp6(2),M.Q6J("ngIf",!0===o.isSpecificInput(i.field)),M.xp6(1),M.Q6J("ngIf",!0===o.isSpecificInput(i.field)),M.xp6(1),M.Q6J("ngIf",!0!==o.isSpecificInput(i.field)),M.xp6(1),M.Q6J("ngIf",!0!==o.isSpecificInput(i.field))}}function oe(t,n){if(1&t){var e=M.EpF();M.TgZ(0,"tr",19),M.NdJ("focusout",function(){return M.CHM(e),M.oxw(2).onFocusout()})("keyup.enter",function(){return M.CHM(e),M.oxw(2).initEditableRow(null)})("keyup.escape",function(){return M.CHM(e),M.oxw(2).cancel()}),M.YNc(1,bn,3,2,"td",9),M.YNc(2,ie,6,4,"td",20),M.qZA()}if(2&t){var i=n.$implicit,o=n.columns,a=M.oxw(2);M.Q6J("pSelectableRow",!0!==a.isFooter(i)?i:null)("pEditableRow",i),M.xp6(1),M.Q6J("ngIf",a.canSelectElement),M.xp6(1),M.Q6J("ngForOf",o)}}function ae(t,n){if(1&t&&(M.TgZ(0,"tr"),M.TgZ(1,"td",48),M._uU(2),M.ALo(3,"translate"),M.qZA(),M.qZA()),2&t){var e=n.$implicit;M.xp6(1),M.uIk("colspan",e.length+1),M.xp6(1),M.hij(" ",M.lcZ(3,2,"bia.NoRecordsFound")," ")}}function re(t,n){if(1&t){var e=M.EpF();M.TgZ(0,"p-table",2,3),M.NdJ("onFilter",function(){return M.CHM(e),M.oxw().onFilter()})("onLazyLoad",function(t){return M.CHM(e),M.oxw().onLoadLazy(t)})("onStateSave",function(t){return M.CHM(e),M.oxw().onStateSave(t)})("selectionChange",function(){return M.CHM(e),M.oxw().onSelectionChange()}),M.ALo(2,"async"),M.YNc(3,vn,4,3,"ng-template",4),M.YNc(4,oe,3,4,"ng-template",5),M.YNc(5,ae,4,4,"ng-template",6),M.qZA()}if(2&t){var i=M.oxw();M.Q6J("autoLayout",!0)("reorderableColumns",!0)("columns",i.displayedColumns)("value",i.elements)("paginator",i.paginator)("rows",i.pageSize)("totalRecords",i.totalRecord)("lazy",!0)("loading",i.loading&&null!==M.lcZ(2,14,i.showLoading$))("stateStorage","session")("stateKey",i.tableStateKey)("lazyLoadOnInit",i.getLazyLoadOnInit())("sortField",i.sortFieldValue)("sortOrder",i.sortOrderValue)}}var se=function(){var t=function(t){a(e,t);var n=s(e);function e(t,i,o,a){var r;return u(this,e),(r=n.call(this,t,i,o,a)).formBuilder=t,r.authService=i,r.biaMessageService=o,r.translateService=a,r.initForm(),r}return d(e,[{key:"initForm",value:function(){var t,n;this.form=this.formBuilder.group({id:[this.element.id],title:[this.element.title,Ht.kI.required],description:[this.element.description,Ht.kI.required],type:[null===(t=this.element.type)||void 0===t?void 0:t.id,Ht.kI.required],read:[this.element.read],createdDate:[this.element.createdDate,Ht.kI.required],createdBy:[null===(n=this.element.createdBy)||void 0===n?void 0:n.id],notifiedPermissions:[this.element.notifiedPermissions],notifiedUsers:[this.element.notifiedUsers],jData:[this.element.jData]})}},{key:"onSubmit",value:function(){var t,n;if(this.form.valid){var e=this.form.value;e.id=e.id>0?e.id:0,e.read=!!e.read&&e.read,e.createdBy=zt.P.Clone(e.createdBy),e.notifiedPermissions=zt.P.Differential(e.notifiedPermissions,null===(t=this.element)||void 0===t?void 0:t.notifiedPermissions),e.notifiedUsers=zt.P.Differential(e.notifiedUsers,null===(n=this.element)||void 0===n?void 0:n.notifiedUsers),e.type=Object.assign({},e.type),this.save.emit(e),this.form.reset()}}}]),e}(Gt.l);return t.\u0275fac=function(n){return new(n||t)(M.Y36(Ht.qu),M.Y36(W.e),M.Y36(H.X),M.Y36(Et.sK))},t.\u0275cmp=M.Xpm({type:t,selectors:[["app-notification-table"]],features:[M.qOj],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","p-float-label",4,"ngIf"],[1,"p-float-label"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","showSeconds","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","pi pi-check",4,"ngIf"],[1,"pi","pi-check"],[1,"app-empty-message"]],template:function(t,n){1&t&&(M.TgZ(0,"form",0),M.YNc(1,re,6,16,"p-table",1),M.qZA()),2&t&&(M.Q6J("formGroup",n.form),M.xp6(1),M.Q6J("ngIf",n.configuration))},directives:[Ht._Y,Ht.JL,Ht.sg,Rt.O5,Kt.iA,Vt.jx,Rt.sg,Kt.Mo,Kt.lQ,Kt.fz,Rt.RF,Xt.o,Rt.mk,Wt.oO,Kt.Ei,Kt.D$,Kt.UA,Kt.YL,Rt.ED,Ht.Fj,Ht.JJ,Ht.u,Rt.n9,tn.Lt,nn.NU,en.XZ,Ht.wV,on.f,an.D,Ht.nD],pipes:[Rt.Ov,Et.X$,rn.c],styles:["[_nghost-%COMP%]{flex-direction:column}[_nghost-%COMP%]     p-table .searchTR .p-float-label .p-inputtext{padding-top:2px!important}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),t}();function ce(t,n){if(1&t){var e=M.EpF();M.TgZ(0,"bia-table",6),M.NdJ("edit",function(t){return M.CHM(e),M.oxw().onDetail(t)})("loadLazy",function(t){return M.CHM(e),M.oxw().onLoadLazy(t)})("selectedElementsChanged",function(t){return M.CHM(e),M.oxw().onSelectedElementsChanged(t)}),M.ALo(1,"async"),M.ALo(2,"async"),M.ALo(3,"async"),M.qZA()}if(2&t){var i=M.oxw();M.Q6J("elements",M.lcZ(1,12,i.notifications$))("totalRecord",M.lcZ(2,14,i.totalCount$))("columnToDisplays",i.displayedColumns)("pageSize",i.pageSize)("configuration",i.tableConfiguration)("showColSearch",i.showColSearch)("globalSearchValue",i.globalSearchValue)("canEdit",i.canEdit)("canSelectElement",i.canDelete)("loading",M.lcZ(3,16,i.loading$))("viewPreference",i.viewPreference)("tableStateKey",i.tableStateKey)}}function le(t,n){if(1&t){var e=M.EpF();M.TgZ(0,"app-notification-table",7),M.NdJ("loadLazy",function(t){return M.CHM(e),M.oxw().onLoadLazy(t)})("selectedElementsChanged",function(t){return M.CHM(e),M.oxw().onSelectedElementsChanged(t)})("save",function(t){return M.CHM(e),M.oxw().onSave(t)}),M.ALo(1,"async"),M.ALo(2,"async"),M.ALo(3,"async"),M.ALo(4,"async"),M.qZA()}if(2&t){var i=M.oxw();M.Q6J("elements",M.lcZ(1,14,i.notifications$))("dictOptionDtos",M.lcZ(2,16,i.notificationOptionsService.dictOptionDtos$))("totalRecord",M.lcZ(3,18,i.totalCount$))("columnToDisplays",i.displayedColumns)("pageSize",i.pageSize)("configuration",i.tableConfiguration)("showColSearch",i.showColSearch)("globalSearchValue",i.globalSearchValue)("canEdit",i.canEdit)("canAdd",i.canAdd)("canSelectElement",i.canDelete)("loading",M.lcZ(4,20,i.loading$))("viewPreference",i.viewPreference)("tableStateKey",i.tableStateKey)}}var ue=function(){var n=function(){function n(t,e,i,o,a,r,s,c,l){u(this,n),this.store=t,this.router=e,this.activatedRoute=i,this.authService=o,this.notificationDas=a,this.translateService=r,this.biaTranslationService=s,this.notificationsSignalRService=c,this.notificationOptionsService=l,this.useCalcMode=!1,this.useSignalR=!0,this.useView=!0,this.useRefreshAtLanguageChange=!0,this.flex=!0,this.sub=new G.w,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=X.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.tableStateKey=this.useView?"notificationsGrid":void 0}return d(n,[{key:"ngOnInit",value:function(){var t=this;if(this.parentIds=[],this.sub=new G.w,this.initTableConfiguration(),this.setPermissions(),this.notifications$=this.store.select(j),this.totalCount$=this.store.select(P),this.loading$=this.store.select(_),this.OnDisplay(),this.useCalcMode&&this.sub.add(this.biaTranslationService.currentCulture$.subscribe(function(n){t.notificationOptionsService.loadAllOptions()})),this.useRefreshAtLanguageChange){var n=!0;this.sub.add(this.biaTranslationService.currentCulture$.subscribe(function(e){n?n=!1:t.onLoadLazy(t.notificationListComponent.getLazyLoadMetadata())}))}}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe(),this.OnHide()}},{key:"OnDisplay",value:function(){this.useView&&this.store.dispatch((0,rt.Tx)()),this.useSignalR&&(this.notificationsSignalRService.initialize(),z.useSignalR=!0)}},{key:"OnHide",value:function(){this.useSignalR&&(z.useSignalR=!1,this.notificationsSignalRService.destroy())}},{key:"onCreate",value:function(){this.useCalcMode||this.router.navigate(["./create"],{relativeTo:this.activatedRoute})}},{key:"onEdit",value:function(t){this.useCalcMode||this.router.navigate(["./"+t+"/edit"],{relativeTo:this.activatedRoute})}},{key:"onDetail",value:function(t){this.useCalcMode||this.router.navigate(["./"+t+"/detail"],{relativeTo:this.activatedRoute})}},{key:"onSave",value:function(t){this.useCalcMode&&((null==t?void 0:t.id)>0?this.canEdit&&this.store.dispatch(A({notification:t})):this.canAdd&&this.store.dispatch(Z({notification:t})))}},{key:"onDelete",value:function(){this.selectedNotifications&&this.canDelete&&this.store.dispatch(T({ids:this.selectedNotifications.map(function(t){return t.id})}))}},{key:"onSelectedElementsChanged",value:function(t){this.selectedNotifications=t}},{key:"onPageSizeChange",value:function(t){this.pageSize=t}},{key:"onLoadLazy",value:function(t){var n=Object.assign({parentIds:this.parentIds},t);this.store.dispatch(x({event:n}))}},{key:"searchGlobalChanged",value:function(t){this.globalSearchValue=t}},{key:"displayedColumnsChanged",value:function(t){this.displayedColumns=t}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(t){this.viewPreference=t}},{key:"onExportCSV",value:function(){var t=this,n={};this.columns.map(function(e){return n[e.value.split(".")[1]]=t.translateService.instant(e.value)});var e=Object.assign({parentIds:this.parentIds,columns:n},this.notificationListComponent.getLazyLoadMetadata());this.notificationDas.getFile(e).subscribe(function(n){tt.saveAs(n,t.translateService.instant("app.notifications")+".csv")})}},{key:"setPermissions",value:function(){this.canEdit=this.authService.hasPermission(et.y.Notification_Update),this.canDelete=this.authService.hasPermission(et.y.Notification_Delete),this.canAdd=this.authService.hasPermission(et.y.Notification_Create)}},{key:"initTableConfiguration",value:function(){var n=this;this.biaTranslationService.currentCultureDateFormat$.subscribe(function(e){n.tableConfiguration={columns:[new V.ML("titleTranslated","notification.title"),new V.ML("descriptionTranslated","notification.description"),Object.assign(new V.ML("type","notification.type.title"),{type:V.d5.OneToMany}),Object.assign(new V.ML("read","notification.read"),{isSearchable:!1,type:V.d5.Boolean}),Object.assign(new V.ML("createdDate","notification.createdDate"),{type:V.d5.Date,formatDate:e.dateFormat}),Object.assign(new V.ML("createdBy","notification.createdBy"),{type:V.d5.OneToMany}),Object.assign(new V.ML("notifiedPermissions","notification.notifiedPermissions"),{type:V.d5.ManyToMany}),Object.assign(new V.ML("notifiedUsers","notification.notifiedUsers"),{type:V.d5.ManyToMany}),new V.ML("jData","notification.jData")]},n.columns=n.tableConfiguration.columns.map(function(t){return{key:t.field,value:t.header}}),n.displayedColumns=t(n.columns)})}}]),n}();return n.\u0275fac=function(t){return new(t||n)(M.Y36(f.yh),M.Y36(l.F0),M.Y36(l.gz),M.Y36(W.e),M.Y36(q),M.Y36(Et.sK),M.Y36(nt.P6),M.Y36(at),M.Y36(Ft))},n.\u0275cmp=M.Xpm({type:n,selectors:[["app-notifications-index"]],viewQuery:function(t,n){var e;(1&t&&M.Gf(K.$,5),2&t)&&(M.iGM(e=M.CRH())&&(n.notificationListComponent=e.first))},hostVars:2,hostBindings:function(t,n){2&t&&M.ekj("bia-flex",n.flex)},decls:8,vars:16,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","tableStateKey","edit","loadLazy","selectedElementsChanged",4,"ngIf"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save",4,"ngIf"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","tableStateKey","edit","loadLazy","selectedElementsChanged"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save"]],template:function(t,n){1&t&&(M.TgZ(0,"div",0),M.TgZ(1,"div",1),M.TgZ(2,"bia-table-header",2),M.NdJ("create",function(){return n.onCreate()})("exportCSV",function(){return n.onExportCSV()})("delete",function(){return n.onDelete()}),M.ALo(3,"translate"),M.qZA(),M.TgZ(4,"bia-table-controller",3),M.NdJ("displayedColumnsChange",function(t){return n.displayedColumnsChanged(t)})("filter",function(t){return n.searchGlobalChanged(t)})("pageSizeChange",function(t){return n.onPageSizeChange(t)})("toggleSearch",function(){return n.onToggleSearch()})("viewChange",function(t){return n.onViewChange(t)}),M.ALo(5,"async"),M.qZA(),M.YNc(6,ce,4,18,"bia-table",4),M.YNc(7,le,5,22,"app-notification-table",5),M.qZA(),M.qZA()),2&t&&(M.xp6(2),M.Q6J("headerTitle",M.lcZ(3,12,"notification.listOf"))("canAdd",n.canAdd&&!n.useCalcMode)("canDelete",n.canDelete)("canExportCSV",!0)("selectedElements",n.selectedNotifications),M.xp6(2),M.Q6J("defaultPageSize",n.defaultPageSize)("length",M.lcZ(5,14,n.totalCount$))("columns",n.columns)("columnToDisplays",n.displayedColumns)("tableStateKey",n.tableStateKey),M.xp6(2),M.Q6J("ngIf",!n.useCalcMode),M.xp6(1),M.Q6J("ngIf",n.useCalcMode))},directives:[Bt.xw,Bt.yH,_t.l,jt.B,Rt.O5,K.$,se],pipes:[Et.X$,Rt.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),n}(),fe=r(84594),de=r(16244),pe=r(80014),ge=r(44748),he=r(4207),ve=r(46543);function ye(t,n){if(1&t){var e=M.EpF();M.ynx(0,27),M.TgZ(1,"p-tabPanel",4),M.TgZ(2,"div",28),M._UZ(3,"input",29),M.TgZ(4,"div",5),M.TgZ(5,"div",6),M.TgZ(6,"span",7),M.TgZ(7,"input",30),M.NdJ("change",function(){var t=M.CHM(e).index;return M.oxw().changeTranslation(t)}),M.qZA(),M.TgZ(8,"label"),M.TgZ(9,"span",9),M._uU(10,"*"),M.qZA(),M._uU(11),M.ALo(12,"translate"),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(13,"div",5),M.TgZ(14,"div",6),M.TgZ(15,"span",7),M.TgZ(16,"input",31),M.NdJ("change",function(){var t=M.CHM(e).index;return M.oxw().changeTranslation(t)}),M.qZA(),M.TgZ(17,"label"),M.TgZ(18,"span",9),M._uU(19,"*"),M.qZA(),M._uU(20),M.ALo(21,"translate"),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(22,"div",11),M.TgZ(23,"button",32),M.NdJ("click",function(){var t=M.CHM(e).index;return M.oxw().removeTranslation(t)}),M.ALo(24,"translate"),M.qZA(),M.qZA(),M.qZA(),M.BQk()}if(2&t){var i=n.$implicit,o=n.index,a=M.oxw();M.xp6(1),M.Q6J("header",a.labelTranslation(i.value.languageId)),M.xp6(1),M.Q6J("formGroupName",o),M.xp6(9),M.Oqu(M.lcZ(12,5,"notification.title")),M.xp6(9),M.Oqu(M.lcZ(21,7,"notification.description")),M.xp6(3),M.s9C("label",M.lcZ(24,9,"bia.translation.delete"))}}function me(t,n){1&t&&M._UZ(0,"i",37)}var be=function(){return{width:"100%"}};function we(t,n){if(1&t){var e=M.EpF();M.TgZ(0,"p-tabPanel",33),M.YNc(1,me,1,0,"ng-template",34),M.TgZ(2,"div",5),M.TgZ(3,"div",6),M.TgZ(4,"span",7),M.TgZ(5,"p-dropdown",35),M.NdJ("onChange",function(){return M.CHM(e),M.oxw().onSelectionLanguage()}),M.qZA(),M.TgZ(6,"label"),M.TgZ(7,"span",9),M._uU(8,"*"),M.qZA(),M._uU(9),M.ALo(10,"translate"),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(11,"div",11),M.TgZ(12,"button",36),M.NdJ("click",function(){return M.CHM(e),M.oxw().addTranslation()}),M.ALo(13,"translate"),M.qZA(),M.qZA(),M.qZA()}if(2&t){var i=M.oxw();M.xp6(5),M.Akn(M.DdM(10,be)),M.Q6J("options",i.missingLanguageOptions),M.xp6(4),M.Oqu(M.lcZ(10,6,"bia.translation.language")),M.xp6(3),M.s9C("label",M.lcZ(13,8,"bia.translation.add")),M.Q6J("disabled",!i.selectionLanguage)}}var xe=function(){return{width:"100%"}},Se=function(){var t=function(){function t(n){u(this,t),this.formBuilder=n,this.notification={},this.save=new M.vpe,this.cancel=new M.vpe,this.missingTranslation=!1,this.selectionLanguage=!1,this.initForm()}return d(t,[{key:"ngOnChanges",value:function(t){var n=this;this.notification&&(this.form.reset(),this.notification&&(this.form.patchValue(Object.assign({},this.notification)),this.notificationTranslations.clear(),this.notification.notificationTranslations&&(this.notification.notificationTranslations.forEach(function(t){n.notificationTranslations.push(n.createTranslation(t))}),this.computeMissingTranslation())))}},{key:"initForm",value:function(){var t={id:[this.notification.id],title:[this.notification.title,Ht.kI.required],description:[this.notification.description,Ht.kI.required],type:[this.notification.type,Ht.kI.required],read:[this.notification.read],createdDate:[this.notification.createdDate,Ht.kI.required],createdBy:[this.notification.createdBy],notifiedPermissions:[this.notification.notifiedPermissions],notifiedUsers:[this.notification.notifiedUsers],jData:[this.notification.jData],notificationTranslations:this.formBuilder.array([]),languageToAdd:[]};this.form=this.formBuilder.group(t),this.notificationTranslations=this.form.get("notificationTranslations")}},{key:"onSelectionLanguage",value:function(){this.selectionLanguage=!0}},{key:"createTranslation",value:function(t){return this.formBuilder.group({id:t.id,dtoState:t.dtoState,languageId:t.languageId,description:[t.description,Ht.kI.required],title:[t.title,Ht.kI.required]})}},{key:"addTranslation",value:function(){this.notificationTranslations.push(this.createTranslation({id:0,languageId:this.form.value.languageToAdd.id,title:"",description:"",dtoState:de.e.Added})),this.computeMissingTranslation()}},{key:"addAllTranslation",value:function(){var t=this;this.missingLanguageOptions.forEach(function(n){return t.notificationTranslations.push(t.createTranslation({id:0,languageId:n.id,title:"",description:"",dtoState:de.e.Added}))}),this.computeMissingTranslation()}},{key:"removeTranslation",value:function(t){this.notificationTranslations.removeAt(t),this.computeMissingTranslation()}},{key:"changeTranslation",value:function(t){this.notificationTranslations.at(t).value.dtoState===de.e.Unchanged&&(this.notificationTranslations.at(t).value.dtoState=de.e.Modified),this.computeMissingTranslation()}},{key:"computeMissingTranslation",value:function(){var t=this;this.missingLanguageOptions=this.languageOptions.filter(function(n){return!t.notificationTranslations.value.find(function(t){return t.languageId===n.id})&&!X.Nf.find(function(t){return t===n.id})}),this.missingTranslation=this.missingLanguageOptions.length>0}},{key:"labelTranslation",value:function(t){var n;return null===(n=this.languageOptions.find(function(n){return n.id===t}))||void 0===n?void 0:n.display}},{key:"onCancel",value:function(){this.form.reset(),this.cancel.next()}},{key:"onSubmit",value:function(){var n,e,i;if(this.form.valid){var o=this.form.value;o.id=o.id>0?o.id:0,o.read=!!o.read&&o.read,o.createdBy=zt.P.Clone(o.createdBy),o.notifiedPermissions=zt.P.Differential(o.notifiedPermissions,null===(n=this.notification)||void 0===n?void 0:n.notifiedPermissions),o.notifiedUsers=zt.P.Differential(o.notifiedUsers,null===(e=this.notification)||void 0===e?void 0:e.notifiedUsers),o.type=Object.assign({},o.type),o.notificationTranslations=t.Differential(o.notificationTranslations,null===(i=this.notification)||void 0===i?void 0:i.notificationTranslations),this.save.emit(o),this.form.reset()}}},{key:"lang",value:function(t){console.log(t)}}],[{key:"Differential",value:function(t,n){var e=[];if(n&&Array.isArray(n)){var i=n.filter(function(n){return!t||!t.map(function(t){return t.id}).includes(n.id)}).map(function(t){return Object.assign(Object.assign({},t),{dtoState:de.e.Deleted})});i&&(e=e.concat(i))}if(t&&Array.isArray(t)){var o=null==t?void 0:t.filter(function(t){return t.dtoState===de.e.Added||t.dtoState===de.e.Modified});o&&(e=e.concat(o))}return e}}]),t}();return t.\u0275fac=function(n){return new(n||t)(M.Y36(Ht.qu))},t.\u0275cmp=M.Xpm({type:t,selectors:[["app-notification-form"]],inputs:{notification:"notification",userOptions:"userOptions",permissionOptions:"permissionOptions",notificationTypeOptions:"notificationTypeOptions",languageOptions:"languageOptions"},outputs:{save:"save",cancel:"cancel"},features:[M.TTD],decls:86,vars:73,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center","fxFlex","100"],["fxLayout","column","fxLayoutAlign","top","fxFlex","50"],[3,"legend"],[3,"header"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"md-inputfield"],["formControlName","title","type","text","pInputText","","maxlength","64",2,"width","100%"],[1,"bia-star-mandatory"],["formControlName","description","type","text","pInputText","","maxlength","256",2,"width","100%"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","button",3,"label","disabled","click"],["formArrayName","notificationTranslations",4,"ngFor","ngForOf"],["header","+",4,"ngIf"],["placeholder","\xa0","formControlName","type","optionLabel","display","datakey","id",3,"options"],["binary","true","formControlName","read",3,"label"],["biaLocale","","formControlName","createdDate","placeholder","\xa0","dateFormat","yy-mm-dd",3,"showButtonBar","inputStyle"],["placeholder","\xa0","formControlName","createdBy","optionLabel","display","datakey","id",3,"options","showClear"],["defaultLabel","\xa0","formControlName","notifiedPermissions","optionLabel","display","datakey","id",3,"options","virtualScroll"],["defaultLabel","\xa0","formControlName","notifiedUsers","optionLabel","display","datakey","id",3,"options","virtualScroll"],["fxFlex","90"],[2,"left","5px","top","-20px","font-size","12px","color","#00839b"],[1,"p-float-label"],["formControlName","jData","rows","5","autoResize","autoResize","pInputTextarea","",2,"width","100%",3,"cols"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"ui-button-secondary",3,"label","click"],["formArrayName","notificationTranslations"],[3,"formGroupName"],["formControlName","languageId","type","hidden"],["formControlName","title","type","text","pInputText","","maxlength","64",2,"width","100%",3,"change"],["formControlName","description","type","text","pInputText","","maxlength","256",2,"width","100%",3,"change"],["pButton","","type","button",3,"label","click"],["header","+"],["pTemplate","header"],["placeholder","\xa0","formControlName","languageToAdd","optionLabel","display","datakey","id",3,"options","onChange"],["pButton","","type","button",1,"ui-button-secondary",3,"label","disabled","click"],[1,"pi","pi-plus"]],template:function(t,n){1&t&&(M.TgZ(0,"form",0),M.NdJ("submit",function(){return n.onSubmit()}),M.TgZ(1,"div",1),M.TgZ(2,"div",2),M.TgZ(3,"p-fieldset",3),M.ALo(4,"translate"),M.TgZ(5,"p-tabView"),M.TgZ(6,"p-tabPanel",4),M.ALo(7,"translate"),M.TgZ(8,"div",5),M.TgZ(9,"div",6),M.TgZ(10,"span",7),M._UZ(11,"input",8),M.TgZ(12,"label"),M.TgZ(13,"span",9),M._uU(14,"*"),M.qZA(),M._uU(15),M.ALo(16,"translate"),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(17,"div",5),M.TgZ(18,"div",6),M.TgZ(19,"span",7),M._UZ(20,"input",10),M.TgZ(21,"label"),M.TgZ(22,"span",9),M._uU(23,"*"),M.qZA(),M._uU(24),M.ALo(25,"translate"),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(26,"div",11),M.TgZ(27,"button",12),M.NdJ("click",function(){return n.addAllTranslation()}),M.ALo(28,"translate"),M.qZA(),M.qZA(),M.qZA(),M.YNc(29,ye,25,11,"ng-container",13),M.YNc(30,we,14,11,"p-tabPanel",14),M.qZA(),M.qZA(),M.TgZ(31,"div",5),M.TgZ(32,"div",6),M.TgZ(33,"span",7),M._UZ(34,"p-dropdown",15),M.TgZ(35,"label"),M.TgZ(36,"span",9),M._uU(37,"*"),M.qZA(),M._uU(38),M.ALo(39,"translate"),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(40,"div",5),M.TgZ(41,"div",6),M._UZ(42,"p-checkbox",16),M.ALo(43,"translate"),M.qZA(),M.qZA(),M.TgZ(44,"div",5),M.TgZ(45,"div",6),M.TgZ(46,"span",7),M._UZ(47,"p-calendar",17),M.TgZ(48,"label"),M.TgZ(49,"span",9),M._uU(50,"*"),M.qZA(),M._uU(51),M.ALo(52,"translate"),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(53,"div",5),M.TgZ(54,"div",6),M.TgZ(55,"span",7),M._UZ(56,"p-dropdown",18),M.TgZ(57,"label"),M._uU(58),M.ALo(59,"translate"),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(60,"div",5),M.TgZ(61,"div",6),M.TgZ(62,"span",7),M._UZ(63,"p-multiSelect",19),M.TgZ(64,"label"),M._uU(65),M.ALo(66,"translate"),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(67,"div",5),M.TgZ(68,"div",6),M.TgZ(69,"span",7),M._UZ(70,"p-multiSelect",20),M.TgZ(71,"label"),M._uU(72),M.ALo(73,"translate"),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(74,"div",5),M.TgZ(75,"div",21),M.TgZ(76,"span",22),M._uU(77),M.ALo(78,"translate"),M.qZA(),M.TgZ(79,"span",23),M._UZ(80,"textarea",24),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.qZA(),M.TgZ(81,"div",11),M._UZ(82,"button",25),M.ALo(83,"translate"),M.TgZ(84,"button",26),M.NdJ("click",function(){return n.onCancel()}),M.ALo(85,"translate"),M.qZA(),M.qZA(),M.qZA()),2&t&&(M.Q6J("formGroup",n.form),M.xp6(3),M.s9C("legend",M.lcZ(4,39,"bia.translation.translatedFields")),M.xp6(3),M.s9C("header",M.lcZ(7,41,"translation.defaultLanguage")),M.xp6(9),M.Oqu(M.lcZ(16,43,"notification.title")),M.xp6(9),M.Oqu(M.lcZ(25,45,"notification.description")),M.xp6(3),M.s9C("label",M.lcZ(28,47,"bia.translation.addAll")),M.Q6J("disabled",!n.missingTranslation),M.xp6(2),M.Q6J("ngForOf",n.notificationTranslations.controls),M.xp6(1),M.Q6J("ngIf",(null==n.missingLanguageOptions?null:n.missingLanguageOptions.length)>0),M.xp6(4),M.Akn(M.DdM(67,be)),M.Q6J("options",n.notificationTypeOptions),M.xp6(4),M.Oqu(M.lcZ(39,49,"notification.type.title")),M.xp6(4),M.s9C("label",M.lcZ(43,51,"notification.read")),M.xp6(5),M.Akn(M.DdM(68,xe)),M.Q6J("showButtonBar",!0)("inputStyle",M.DdM(69,xe)),M.xp6(4),M.Oqu(M.lcZ(52,53,"notification.createdDate")),M.xp6(5),M.Akn(M.DdM(70,be)),M.Q6J("options",n.userOptions)("showClear",!0),M.xp6(2),M.Oqu(M.lcZ(59,55,"notification.createdBy")),M.xp6(5),M.Akn(M.DdM(71,be)),M.Q6J("options",n.permissionOptions)("virtualScroll",!0),M.xp6(2),M.Oqu(M.lcZ(66,57,"notification.notifiedPermissions")),M.xp6(5),M.Akn(M.DdM(72,be)),M.Q6J("options",n.userOptions)("virtualScroll",!0),M.xp6(2),M.Oqu(M.lcZ(73,59,"notification.notifiedUsers")),M.xp6(5),M.Oqu(M.lcZ(78,61,"notification.jData")),M.xp6(3),M.Q6J("cols",60),M.xp6(2),M.s9C("label",M.lcZ(83,63,"bia.save")),M.Q6J("disabled",!n.form.valid),M.xp6(2),M.s9C("label",M.lcZ(85,65,"bia.cancel")))},directives:[Ht._Y,Ht.JL,Bt.xw,Ht.sg,Bt.Wh,Bt.yH,pe.p,ge.xf,ge.x4,Ht.Fj,Ht.JJ,Ht.u,Xt.o,Ht.nD,Bt.SQ,he.Hq,Rt.sg,Rt.O5,tn.Lt,en.XZ,on.f,an.D,nn.NU,ve.g,Ht.CE,Ht.x0,Vt.jx],pipes:[Et.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}"]}),t}(),Ze=function(){var t=function(){function t(n,e,i,o,a){u(this,t),this.store=n,this.router=e,this.activatedRoute=i,this.notificationOptionsService=o,this.biaTranslationService=a,this.sub=new G.w}return d(t,[{key:"ngOnInit",value:function(){var t=this;this.sub.add(this.biaTranslationService.currentCulture$.subscribe(function(n){t.notificationOptionsService.loadAllOptions()}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(t){this.store.dispatch(Z({notification:t})),this.router.navigate(["../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}]),t}();return t.\u0275fac=function(n){return new(n||t)(M.Y36(f.yh),M.Y36(l.F0),M.Y36(l.gz),M.Y36(Ft),M.Y36(nt.P6))},t.\u0275cmp=M.Xpm({type:t,selectors:[["app-notification-new"]],decls:5,vars:12,consts:[[3,"notificationTypeOptions","permissionOptions","userOptions","languageOptions","cancel","save"]],template:function(t,n){1&t&&(M.TgZ(0,"app-notification-form",0),M.NdJ("cancel",function(){return n.onCancelled()})("save",function(t){return n.onSubmitted(t)}),M.ALo(1,"async"),M.ALo(2,"async"),M.ALo(3,"async"),M.ALo(4,"async"),M.qZA()),2&t&&M.Q6J("notificationTypeOptions",M.lcZ(1,4,n.notificationOptionsService.notificationTypeOptions$))("permissionOptions",M.lcZ(2,6,n.notificationOptionsService.permissionOptions$))("userOptions",M.lcZ(3,8,n.notificationOptionsService.userOptions$))("languageOptions",M.lcZ(4,10,n.notificationOptionsService.languageOptions$))},directives:[Se],pipes:[Rt.Ov],styles:[""]}),t}(),Ae=function(){var t=function(){function t(n){u(this,t),this.store=n,this.sub=new G.w,this.InitSub(),this.loading$=this.store.select(B),this.notification$=this.store.select(F)}return d(t,[{key:"currentNotification",get:function(){var t;return(null===(t=this._currentNotification)||void 0===t?void 0:t.id)===this._currentNotificationId?this._currentNotification:null}},{key:"currentNotificationId",get:function(){return this._currentNotificationId},set:function(t){this._currentNotificationId=Number(t),this.store.dispatch(S({id:t}))}},{key:"currentNotificationData",get:function(){return this._currentNotification.jData}},{key:"InitSub",value:function(){var t=this;this.sub=new G.w,this.sub.add(this.store.select(F).subscribe(function(n){n&&(t._currentNotification=n)}))}}]),t}();return t.\u0275fac=function(n){return new(n||t)(M.LFG(f.yh))},t.\u0275prov=M.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ce=r(79373);function Te(t,n){1&t&&M._UZ(0,"bia-spinner",2),2&t&&M.Q6J("overlay",!0)}var Oe=function(){var t=function(){function t(n,e,i,o,a,r){u(this,t),this.store=n,this.router=e,this.activatedRoute=i,this.notificationOptionsService=o,this.notificationService=a,this.biaTranslationService=r,this.displayChange=new M.vpe,this.sub=new G.w}return d(t,[{key:"ngOnInit",value:function(){var t=this;this.sub.add(this.biaTranslationService.currentCulture$.subscribe(function(n){t.notificationOptionsService.loadAllOptions()}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(t){this.store.dispatch(A({notification:t})),this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}}]),t}();return t.\u0275fac=function(n){return new(n||t)(M.Y36(f.yh),M.Y36(l.F0),M.Y36(l.gz),M.Y36(Ft),M.Y36(Ae),M.Y36(nt.P6))},t.\u0275cmp=M.Xpm({type:t,selectors:[["app-notification-edit"]],outputs:{displayChange:"displayChange"},decls:8,vars:18,consts:[[3,"notification","notificationTypeOptions","permissionOptions","userOptions","languageOptions","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(t,n){1&t&&(M.TgZ(0,"app-notification-form",0),M.NdJ("cancel",function(){return n.onCancelled()})("save",function(t){return n.onSubmitted(t)}),M.ALo(1,"async"),M.ALo(2,"async"),M.ALo(3,"async"),M.ALo(4,"async"),M.ALo(5,"async"),M.qZA(),M.YNc(6,Te,1,1,"bia-spinner",1),M.ALo(7,"async")),2&t&&(M.Q6J("notification",M.lcZ(1,6,n.notificationService.notification$))("notificationTypeOptions",M.lcZ(2,8,n.notificationOptionsService.notificationTypeOptions$))("permissionOptions",M.lcZ(3,10,n.notificationOptionsService.permissionOptions$))("userOptions",M.lcZ(4,12,n.notificationOptionsService.userOptions$))("languageOptions",M.lcZ(5,14,n.notificationOptionsService.languageOptions$)),M.xp6(6),M.Q6J("ngIf",M.lcZ(7,16,n.notificationService.loading$)))},directives:[Se,Rt.O5,Ce.O],pipes:[Rt.Ov],styles:[""]}),t}(),Le=r(16249),Ne=r(30466);function ke(t,n){1&t&&M._UZ(0,"bia-spinner",1),2&t&&M.Q6J("overlay",!0)}var Me=function(){var t=function(){function t(n,e,i,o,a){u(this,t),this.store=n,this.route=e,this.notificationService=i,this.layoutService=o,this.biaTranslationService=a,this.sub=new G.w}return d(t,[{key:"ngOnInit",value:function(){var t=this;this.sub.add(this.biaTranslationService.currentCulture$.subscribe(function(n){t.notificationService.currentNotificationId=t.route.snapshot.params.notificationId})),this.sub.add(this.store.select(F).subscribe(function(n){(null==n?void 0:n.title)&&(t.route.data.pipe((0,it.P)()).subscribe(function(t){t.breadcrumb=n.title}),t.layoutService.refreshBreadcrumb())}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}}]),t}();return t.\u0275fac=function(n){return new(n||t)(M.Y36(f.yh),M.Y36(l.gz),M.Y36(Ae),M.Y36(Ne.N),M.Y36(nt.P6))},t.\u0275cmp=M.Xpm({type:t,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(t,n){1&t&&(M._UZ(0,"router-outlet"),M.YNc(1,ke,1,1,"bia-spinner",0),M.ALo(2,"async")),2&t&&(M.xp6(1),M.Q6J("ngIf",M.lcZ(2,1,n.notificationService.loading$)))},directives:[l.lC,Rt.O5,Ce.O],pipes:[Rt.Ov],styles:[""]}),t}(),qe=r(98832),Ie=r(53460),De=function(){var t=function(t){a(e,t);var n=s(e);function e(t){return u(this,e),n.call(this,t,"Permissions")}return e}(k.Z);return t.\u0275fac=function(n){return new(n||t)(M.LFG(M.zs3))},t.\u0275prov=M.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Je=function(){var t=function t(n,e,i){var o=this;u(this,t),this.actions$=n,this.permissionDas=e,this.biaMessageService=i,this.loadAll$=(0,p.GW)(function(){return o.actions$.pipe((0,p.l4)(Lt),(0,v.w)(function(){return o.permissionDas.getList("allOptions").pipe((0,y.U)(function(t){return Nt({permissions:t})}),(0,m.K)(function(t){return o.biaMessageService.showError(),(0,g.of)(kt({error:t}))}))}))})};return t.\u0275fac=function(n){return new(n||t)(M.LFG(p.eX),M.LFG(De),M.LFG(H.X))},t.\u0275prov=M.Yz7({token:t,factory:t.\u0275fac}),t}(),Qe=function(){var t=function t(){u(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=M.oAB({type:t}),t.\u0275inj=M.cJS({providers:[],imports:[[f.Aw.forFeature("domain-permission-options",Dt),p.sQ.forFeature([Je])]]}),t}(),$e=r(62439),Ue=function(){var t=function(t){a(e,t);var n=s(e);function e(t){return u(this,e),n.call(this,t,"NotificationTypes")}return e}(k.Z);return t.\u0275fac=function(n){return new(n||t)(M.LFG(M.zs3))},t.\u0275prov=M.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ye=function(){var t=function t(n,e,i){var o=this;u(this,t),this.actions$=n,this.notificationTypeDas=e,this.biaMessageService=i,this.loadAll$=(0,p.GW)(function(){return o.actions$.pipe((0,p.l4)(mt),(0,v.w)(function(){return o.notificationTypeDas.getList("allOptions").pipe((0,y.U)(function(t){return bt({notificationTypes:t})}),(0,m.K)(function(t){return o.biaMessageService.showError(),(0,g.of)(wt({error:t}))}))}))})};return t.\u0275fac=function(n){return new(n||t)(M.LFG(p.eX),M.LFG(Ue),M.LFG(H.X))},t.\u0275prov=M.Yz7({token:t,factory:t.\u0275fac}),t}(),Pe=function(){var t=function t(){u(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=M.oAB({type:t}),t.\u0275inj=M.cJS({imports:[[f.Aw.forFeature("domain-notification-type-options",At),p.sQ.forFeature([Ye])]]}),t}();function Fe(t,n){if(1&t&&(M.TgZ(0,"div",7),M.TgZ(1,"div"),M.TgZ(2,"b"),M._uU(3),M.ALo(4,"translate"),M.qZA(),M._UZ(5,"br"),M._uU(6),M.ALo(7,"translate"),M.qZA(),M.TgZ(8,"div"),M.TgZ(9,"b"),M._uU(10),M.ALo(11,"translate"),M.qZA(),M._UZ(12,"br"),M._uU(13),M.ALo(14,"translate"),M.qZA(),M.TgZ(15,"div"),M.TgZ(16,"b"),M._uU(17),M.ALo(18,"translate"),M.qZA(),M._UZ(19,"br"),M._uU(20),M.ALo(21,"date"),M.qZA(),M.TgZ(22,"div"),M.TgZ(23,"b"),M._uU(24),M.ALo(25,"translate"),M.qZA(),M._UZ(26,"br"),M._uU(27),M.qZA(),M.qZA()),2&t){var e=M.oxw().ngIf;M.xp6(3),M.Oqu(M.lcZ(4,8,"notification.title")),M.xp6(3),M.Oqu(M.lcZ(7,10,e.titleTranslated)),M.xp6(4),M.Oqu(M.lcZ(11,12,"notification.description")),M.xp6(3),M.hij("",M.lcZ(14,14,e.descriptionTranslated)," "),M.xp6(4),M.Oqu(M.lcZ(18,16,"notification.createdDate")),M.xp6(3),M.Oqu(M.xi3(21,18,e.createdDate,"short")),M.xp6(4),M.Oqu(M.lcZ(25,21,"notification.type.title")),M.xp6(3),M.Oqu(e.type.display)}}function Ee(t,n){if(1&t){var e=M.EpF();M.TgZ(0,"button",8),M.NdJ("click",function(){M.CHM(e);var t=M.oxw().ngIf;return M.oxw().onAction(t)}),M.ALo(1,"translate"),M.qZA()}2&t&&M.s9C("label",M.lcZ(1,1,"notification.action"))}function Be(t,n){if(1&t){var e=M.EpF();M.TgZ(0,"button",6),M.NdJ("click",function(){return M.CHM(e),M.oxw(2).onEdit()}),M.ALo(1,"translate"),M.qZA()}2&t&&M.s9C("label",M.lcZ(1,1,"bia.edit"))}function _e(t,n){if(1&t){var e=M.EpF();M.ynx(0),M.YNc(1,Fe,28,23,"div",2),M.TgZ(2,"div",3),M.YNc(3,Ee,2,3,"button",4),M.YNc(4,Be,2,3,"button",5),M.TgZ(5,"button",6),M.NdJ("click",function(){return M.CHM(e),M.oxw().onCancelled()}),M.ALo(6,"translate"),M.qZA(),M.qZA(),M.BQk()}if(2&t){var i=n.ngIf,o=M.oxw();M.xp6(1),M.Q6J("ngIf",i&&i.id),M.xp6(2),M.Q6J("ngIf",o.canAction(i)),M.xp6(1),M.Q6J("ngIf",o.canEdit),M.xp6(1),M.s9C("label",M.lcZ(6,4,"bia.cancel"))}}function je(t,n){1&t&&M._UZ(0,"bia-spinner",9),2&t&&M.Q6J("overlay",!0)}var Re=function(){var t=function(){function t(n,e,i,o,a){u(this,t),this.store=n,this.router=e,this.activatedRoute=i,this.authService=o,this.notificationService=a,this.displayChange=new M.vpe,this.sub=new G.w}return d(t,[{key:"ngOnInit",value:function(){this.notification$=this.notificationService.notification$,this.canEdit=this.authService.hasPermission(et.y.Notification_Update)}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(t){this.store.dispatch(A({notification:t})),this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}},{key:"onEdit",value:function(){this.router.navigate(["../edit"],{relativeTo:this.activatedRoute})}},{key:"canAction",value:function(t){if(t.jData){var n=JSON.parse(t.jData);if(null==n?void 0:n.route)return!0}return!1}},{key:"onAction",value:function(t){if(t.jData){var n=JSON.parse(t.jData);(null==n?void 0:n.route)&&this.router.navigate(n.route)}}}]),t}();return t.\u0275fac=function(n){return new(n||t)(M.Y36(f.yh),M.Y36(l.F0),M.Y36(l.gz),M.Y36(W.e),M.Y36(Ae))},t.\u0275cmp=M.Xpm({type:t,selectors:[["app-notification-detail"]],outputs:{displayChange:"displayChange"},decls:4,vars:6,consts:[[4,"ngIf"],[3,"overlay",4,"ngIf"],["fxLayout","column","fxLayoutWrap","","fxLayoutAlign","space-evenly",4,"ngIf"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","button","class","p-button-primary",3,"label","click",4,"ngIf"],["pButton","","type","button","class","p-button-secondary",3,"label","click",4,"ngIf"],["pButton","","type","button",1,"p-button-secondary",3,"label","click"],["fxLayout","column","fxLayoutWrap","","fxLayoutAlign","space-evenly"],["pButton","","type","button",1,"p-button-primary",3,"label","click"],[3,"overlay"]],template:function(t,n){1&t&&(M.YNc(0,_e,7,6,"ng-container",0),M.ALo(1,"async"),M.YNc(2,je,1,1,"bia-spinner",1),M.ALo(3,"async")),2&t&&(M.Q6J("ngIf",M.lcZ(1,2,n.notification$)),M.xp6(2),M.Q6J("ngIf",M.lcZ(3,4,n.loading$)))},directives:[Rt.O5,Bt.xw,Bt.SQ,Bt.Wh,he.Hq,Ce.O],pipes:[Rt.Ov,Et.X$,Rt.uU],styles:[""]}),t}(),He=function(){var t=function(t){a(e,t);var n=s(e);function e(t){return u(this,e),n.call(this,t,"Languages")}return e}(k.Z);return t.\u0275fac=function(n){return new(n||t)(M.LFG(M.zs3))},t.\u0275prov=M.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ze=function(){var t=function t(n,e,i){var o=this;u(this,t),this.actions$=n,this.languageDas=e,this.biaMessageService=i,this.loadAll$=(0,p.GW)(function(){return o.actions$.pipe((0,p.l4)(ct),(0,v.w)(function(){return o.languageDas.getList("allOptions").pipe((0,y.U)(function(t){return lt({languages:t})}),(0,m.K)(function(t){return o.biaMessageService.showError(),(0,g.of)(ut({error:t}))}))}))})};return t.\u0275fac=function(n){return new(n||t)(M.LFG(p.eX),M.LFG(He),M.LFG(H.X))},t.\u0275prov=M.Yz7({token:t,factory:t.\u0275fac}),t}(),Ge=function(){var t=function t(){u(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=M.oAB({type:t}),t.\u0275inj=M.cJS({imports:[[f.Aw.forFeature("domain-language-options",gt),p.sQ.forFeature([ze])]]}),t}(),Ke=[{path:"",data:{breadcrumb:null,permission:et.y.Notification_List_Access,InjectComponent:ue},component:Ie.e,canActivate:[Le.n],children:[{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:et.y.Notification_Create,title:"notification.add",InjectComponent:Ze},component:qe._,canActivate:[Le.n]},{path:":notificationId",data:{breadcrumb:"",canNavigate:!0},component:Me,canActivate:[Le.n],children:[{path:"edit",data:{breadcrumb:"bia.edit",canNavigate:!0,permission:et.y.Notification_Update,title:"notification.edit",InjectComponent:Oe},component:Ie.e,canActivate:[Le.n]},{path:"detail",data:{breadcrumb:"bia.detail",canNavigate:!0,permission:et.y.Notification_Read,title:"notification.detail",InjectComponent:Re},component:qe._,canActivate:[Le.n]},{path:"",redirectTo:"edit"}]}]},{path:"**",redirectTo:""}],Ve=function(){var t=function t(){u(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=M.oAB({type:t}),t.\u0275inj=M.cJS({imports:[[fe.m,Ht.UX,l.Bz.forChild(Ke),f.Aw.forFeature("notifications",$),p.sQ.forFeature([z]),Qe,Pe,$e.U,Ge]]}),t}()},94529:function(t,n,e){"use strict";e.d(n,{b:function(){return i}});var i=function t(n,e){u(this,t),this.key=n,this.value=e}},16244:function(t,n,e){"use strict";e.d(n,{e:function(){return o}});var i,o=((i=o||(o={}))[i.Unchanged=0]="Unchanged",i[i.Added=1]="Added",i[i.Modified=2]="Modified",i[i.Deleted=3]="Deleted",o)}}])}();