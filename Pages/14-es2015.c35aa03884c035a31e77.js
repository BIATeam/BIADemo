(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{xnCH:function(e,t,n){"use strict";n.r(t),n.d(t,"PlaneModule",(function(){return Ut}));var i=n("tyNb"),a=n("kt0X"),c=n("snw9"),o=n("LRne"),l=n("wO+i"),s=n("eIep"),r=n("lJxs"),b=n("JIr8"),p=n("bOdf"),d=n("zp1y");const u=Object(a.h)("[Planes] Load all by post",Object(a.m)()),h=Object(a.h)("[Planes] Load",Object(a.m)()),f=Object(a.h)("[Planes] Create",Object(a.m)()),g=Object(a.h)("[Planes] Update",Object(a.m)()),m=Object(a.h)("[Planes] Remove",Object(a.m)()),S=Object(a.h)("[Planes] Multi Remove",Object(a.m)()),y=Object(a.h)("[Planes] Load all by post success",Object(a.m)()),v=Object(a.h)("[Planes] Load success",Object(a.m)()),O=Object(a.h)("[Planes] Failure",Object(a.m)());var C=n("dlt+"),T=n("fXoL");let w=(()=>{class e extends C.a{constructor(e){super(e,"Planes")}}return e.\u0275fac=function(t){return new(t||e)(T.Xb(T.r))},e.\u0275prov=T.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var j=n("EVqC");const F=Object(j.a)({selectId:e=>e.id,sortComparer:!1}),k=F.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),B=Object(a.j)(k,Object(a.l)(u,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!0})),Object(a.l)(h,e=>Object.assign(Object.assign({},e),{loadingGet:!0})),Object(a.l)(y,(e,{result:t,event:n})=>{const i=F.setAll(t.data,e);return i.totalCount=t.totalCount,i.lastLazyLoadEvent=n,i.loadingGetAll=!1,i}),Object(a.l)(v,(e,{plane:t})=>Object.assign(Object.assign({},e),{currentPlane:t,loadingGet:!1})),Object(a.l)(O,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})));function I(e,t){return Object(a.f)({planes:B})(e,t)}const D=Object(a.i)("planes"),$=Object(a.k)(D,e=>e.planes),P=Object(a.k)($,e=>e.totalCount),R=Object(a.k)($,e=>e.currentPlane),L=Object(a.k)($,e=>e.lastLazyLoadEvent),N=Object(a.k)($,e=>e.loadingGet),x=Object(a.k)($,e=>e.loadingGetAll),{selectAll:E}=F.getSelectors($);var A=n("Fx2S"),z=n("basH");let M=(()=>{class e{constructor(t,n,i,a){this.actions$=t,this.planeDas=n,this.biaMessageService=i,this.store=a,this.loadAllByPost$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(u),Object(l.a)("event"),Object(s.a)(e=>this.planeDas.getListByPost(e).pipe(Object(r.a)(t=>y({result:t,event:e})),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(O({error:e})))))))),this.load$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(h),Object(l.a)("id"),Object(s.a)(e=>this.planeDas.get(e).pipe(Object(r.a)(e=>v({plane:e})),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(O({error:e})))))))),this.create$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(f),Object(l.a)("plane"),Object(p.a)(e=>Object(o.a)(e).pipe(Object(d.a)(this.store.select(L)))),Object(s.a)(([t,n])=>this.planeDas.post(t).pipe(Object(r.a)(()=>(this.biaMessageService.showAddSuccess(),e.useSignalR?Object(z.a)():u({event:n}))),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(O({error:e})))))))),this.update$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(g),Object(l.a)("plane"),Object(p.a)(e=>Object(o.a)(e).pipe(Object(d.a)(this.store.select(L)))),Object(s.a)(([t,n])=>this.planeDas.put(t,t.id).pipe(Object(r.a)(()=>(this.biaMessageService.showUpdateSuccess(),e.useSignalR?Object(z.a)():u({event:n}))),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(O({error:e})))))))),this.destroy$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(m),Object(l.a)("id"),Object(p.a)(e=>Object(o.a)(e).pipe(Object(d.a)(this.store.select(L)))),Object(s.a)(([t,n])=>this.planeDas.delete(t).pipe(Object(r.a)(()=>(this.biaMessageService.showDeleteSuccess(),e.useSignalR?Object(z.a)():u({event:n}))),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(O({error:e})))))))),this.multiDestroy$=Object(c.c)(()=>this.actions$.pipe(Object(c.d)(S),Object(l.a)("ids"),Object(p.a)(e=>Object(o.a)(e).pipe(Object(d.a)(this.store.select(L)))),Object(s.a)(([t,n])=>this.planeDas.deletes(t).pipe(Object(r.a)(()=>(this.biaMessageService.showDeleteSuccess(),e.useSignalR?Object(z.a)():u({event:n}))),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(O({error:e}))))))))}}return e.useSignalR=!1,e.\u0275fac=function(t){return new(t||e)(T.Xb(c.a),T.Xb(w),T.Xb(A.a),T.Xb(a.b))},e.\u0275prov=T.Jb({token:e,factory:e.\u0275fac}),e})();var H=n("Sa1B"),V=n("VfrA"),Q=n("s0Cq"),U=n("E6Oa"),J=n("Iab2"),K=n("RoCi"),_=n("RdrV"),G=n("SxV6"),q=n("yOL8");let X=(()=>{class e{constructor(e,t){this.store=e,this.signalRService=t}initialize(){console.log("%c [Planes] Register SignalR : refresh-planes","color: purple; font-weight: bold"),this.signalRService.addMethod("refresh-planes",()=>{this.store.select(L).pipe(Object(G.a)()).subscribe(e=>{console.log("%c [Planes] RefreshSuccess","color: green; font-weight: bold"),this.store.dispatch(u({event:e}))})})}destroy(){console.log("%c [Planes] Unregister SignalR : refresh-planes","color: purple; font-weight: bold"),this.signalRService.removeMethod("refresh-planes")}}return e.\u0275fac=function(t){return new(t||e)(T.Xb(a.b),T.Xb(q.a))},e.\u0275prov=T.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var W=n("P5II"),Y=n("itXk"),Z=n("oIZ+"),ee=n("UONQ"),te=n("060v"),ne=n("i0YE"),ie=n("dnD0");let ae=(()=>{class e{constructor(e){this.store=e,this.planeTypeOptions$=this.store.select(te.a).pipe(),this.airportOptions$=this.store.select(Z.a).pipe(),this.dictOptionDtos$=Object(Y.a)([this.planeTypeOptions$,this.airportOptions$]).pipe(Object(r.a)(e=>[new ie.a("planeType",e[0]),new ie.a("connectingAirports",e[1])]))}loadAllOptions(){this.store.dispatch(Object(ne.b)()),this.store.dispatch(Object(ee.b)())}}return e.\u0275fac=function(t){return new(t||e)(T.Xb(a.b))},e.\u0275prov=T.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ce=n("sYmb"),oe=n("XiUz"),le=n("jIms"),se=n("v8MJ"),re=n("ofXK"),be=n("3Pt+"),pe=n("gT8a"),de=n("/ZTc"),ue=n("rEr+"),he=n("7zfz"),fe=n("7kUa"),ge=n("znSr"),me=n("arFO"),Se=n("lVkt"),ye=n("Ji6n"),ve=n("eO1q"),Oe=n("PjIi");function Ce(e,t){1&e&&(T.Tb(0,"th",10),T.Ob(1,"p-tableHeaderCheckbox"),T.Sb())}function Te(e,t){if(1&e&&(T.Tb(0,"th",12),T.Hc(1),T.ec(2,"translate"),T.Ob(3,"p-sortIcon",13),T.Sb()),2&e){const e=T.dc().$implicit;T.kc("pSortableColumn",e.field),T.Bb(1),T.Jc(" ",T.fc(2,3,null==e?null:e.header)," "),T.Bb(2),T.kc("field",e.field)}}function we(e,t){if(1&e&&(T.Tb(0,"th"),T.Hc(1),T.ec(2,"translate"),T.Sb()),2&e){const e=T.dc().$implicit;T.Bb(1),T.Jc(" ",T.fc(2,1,null==e?null:e.header)," ")}}function je(e,t){if(1&e&&(T.Rb(0),T.Fc(1,Te,4,5,"th",11),T.Fc(2,we,3,3,"th",9),T.Qb()),2&e){const e=t.$implicit;T.Bb(1),T.kc("ngIf",!0===(null==e?null:e.isSortable)),T.Bb(1),T.kc("ngIf",!0!==(null==e?null:e.isSortable))}}function Fe(e,t){1&e&&T.Ob(0,"th")}const ke=function(e){return{"ui-state-filled":e}};function Be(e,t){if(1&e){const e=T.Ub();T.Tb(0,"span",17),T.Tb(1,"input",18),T.bc("input",(function(t){T.yc(e);const n=T.dc().$implicit;return T.dc(3),T.xc(1).filter(t.target.value,n.field,n.filterMode)})),T.ec(2,"translate"),T.Sb(),T.Sb()}if(2&e){const e=T.dc().$implicit;T.dc(3);const t=T.xc(1);T.Bb(1),T.lc("type","Number"===e.type?"number":"text"),T.lc("placeholder",!0===e.isDate?T.fc(2,4,"bia.dateIso8601"):""),T.kc("value",null==t.filters[e.field]?null:t.filters[e.field].value)("ngClass",T.oc(6,ke,""!=(null==t.filters[e.field]?null:t.filters[e.field].value)))}}function Ie(e,t){if(1&e&&(T.Tb(0,"th",15),T.Fc(1,Be,3,8,"span",16),T.Sb()),2&e){const e=t.$implicit;T.kc("ngSwitch",e.field),T.Bb(1),T.kc("ngIf",!0===e.isSearchable)}}function De(e,t){if(1&e&&(T.Tb(0,"tr"),T.Fc(1,Fe,1,0,"th",9),T.Fc(2,Ie,2,2,"th",14),T.Sb()),2&e){const e=T.dc().$implicit,t=T.dc(2);T.Bb(1),T.kc("ngIf",t.canSelectElement),T.Bb(1),T.kc("ngForOf",e)}}function $e(e,t){if(1&e&&(T.Tb(0,"tr"),T.Fc(1,Ce,2,0,"th",7),T.Fc(2,je,3,2,"ng-container",8),T.Sb(),T.Fc(3,De,3,2,"tr",9)),2&e){const e=t.$implicit,n=T.dc(2);T.Bb(1),T.kc("ngIf",n.canSelectElement),T.Bb(1),T.kc("ngForOf",e),T.Bb(1),T.kc("ngIf",n.showColSearch)}}function Pe(e,t){if(1&e&&T.Ob(0,"p-tableCheckbox",23),2&e){const e=T.dc(2).$implicit;T.kc("value",e)}}function Re(e,t){1&e&&T.Ob(0,"i",24)}function Le(e,t){if(1&e&&(T.Tb(0,"td"),T.Fc(1,Pe,1,1,"p-tableCheckbox",21),T.Fc(2,Re,1,0,"i",22),T.Sb()),2&e){const e=T.dc().$implicit,t=T.dc(2);T.Bb(1),T.kc("ngIf",!0!==t.isFooter(e)&&e.id>0),T.Bb(1),T.kc("ngIf",!0===t.isFooter(e))}}function Ne(e,t){if(1&e){const e=T.Ub();T.Rb(0),T.Tb(1,"input",29),T.bc("change",(function(){return T.yc(e),T.dc(6).onChange()})),T.Sb(),T.Qb()}if(2&e){const e=T.dc(3).$implicit;T.Bb(1),T.kc("formControlName",e.field)}}function xe(e,t){1&e&&(T.Tb(0,"span",30),T.Hc(1,"*"),T.Sb())}function Ee(e,t){if(1&e&&(T.Rb(0,15),T.Fc(1,Ne,2,1,"ng-container",27),T.Qb(),T.Fc(2,xe,2,0,"span",28)),2&e){const e=T.dc(2).$implicit,t=T.dc(3);T.kc("ngSwitch",e.field),T.Bb(2),T.kc("ngIf",!0===t.isRequired(e.field))}}function Ae(e,t){1&e&&T.Fc(0,Ee,3,2,"ng-template",26)}function ze(e,t){if(1&e&&(T.Rb(0),T.Hc(1),T.Qb()),2&e){const e=T.dc(3).$implicit,t=T.dc().$implicit;T.Bb(1),T.Jc(" ",t[e.field]," ")}}function Me(e,t){if(1&e&&(T.Rb(0,15),T.Fc(1,ze,2,1,"ng-container",27),T.Qb()),2&e){const e=T.dc(2).$implicit;T.kc("ngSwitch",e.field)}}function He(e,t){1&e&&T.Fc(0,Me,2,1,"ng-template",31)}const Ve=function(){return{width:"100%"}};function Qe(e,t){if(1&e){const e=T.Ub();T.Rb(0),T.Tb(1,"p-dropdown",35),T.bc("onChange",(function(){return T.yc(e),T.dc(7).onChange()})),T.Sb(),T.Qb()}if(2&e){const e=T.dc(4).$implicit,t=T.dc(3);T.Bb(1),T.Dc(T.nc(4,Ve)),T.kc("formControlName",e.field)("options",t.getOptionDto(e.field))}}function Ue(e,t){if(1&e){const e=T.Ub();T.Rb(0),T.Tb(1,"p-multiSelect",36),T.bc("onChange",(function(){return T.yc(e),T.dc(7).onChange()}))("onPanelShow",(function(){return T.yc(e),T.dc(7).onPanelShowMultiSelect()}))("onPanelHide",(function(){return T.yc(e),T.dc(7).onPanelHideMultiSelect()})),T.Sb(),T.Qb()}if(2&e){const e=T.dc(4).$implicit,t=T.dc(3);T.Bb(1),T.Dc(T.nc(4,Ve)),T.kc("formControlName",e.field)("options",t.getOptionDto(e.field))}}function Je(e,t){if(1&e){const e=T.Ub();T.Rb(0),T.Tb(1,"p-checkbox",37),T.bc("onChange",(function(){return T.yc(e),T.dc(7).onChange()})),T.Sb(),T.Qb()}if(2&e){const e=T.dc(4).$implicit;T.Bb(1),T.kc("binary",!0)("formControlName",e.field)}}function Ke(e,t){if(1&e){const e=T.Ub();T.Rb(0),T.Tb(1,"input",38),T.bc("change",(function(){return T.yc(e),T.dc(7).onChange()})),T.Sb(),T.Qb()}if(2&e){const e=T.dc(4).$implicit;T.Bb(1),T.kc("formControlName",e.field)}}function _e(e,t){if(1&e){const e=T.Ub();T.Rb(0),T.Tb(1,"p-calendar",39),T.bc("onShow",(function(){return T.yc(e),T.dc(7).onShowCalendar()}))("onSelect",(function(){return T.yc(e),T.dc(7).onChange()}))("onBlur",(function(){return T.yc(e),T.dc(7).onBlurCalendar()})),T.Sb(),T.Qb()}if(2&e){const e=T.dc(4).$implicit;T.Bb(1),T.Dc(T.nc(5,Ve)),T.kc("formControlName",e.field)("showButtonBar",!0)("inputStyle",T.nc(6,Ve))}}function Ge(e,t){if(1&e){const e=T.Ub();T.Rb(0),T.Tb(1,"p-calendar",40),T.bc("onShow",(function(){return T.yc(e),T.dc(7).onShowCalendar()}))("onSelect",(function(){return T.yc(e),T.dc(7).onChange()}))("onBlur",(function(){return T.yc(e),T.dc(7).onBlurCalendar()})),T.Sb(),T.Qb()}if(2&e){const e=T.dc(4).$implicit;T.Bb(1),T.Dc(T.nc(5,Ve)),T.kc("formControlName",e.field)("inputStyle",T.nc(6,Ve))("timeOnly",!0)}}function qe(e,t){if(1&e){const e=T.Ub();T.Rb(0),T.Tb(1,"p-calendar",41),T.bc("onShow",(function(){return T.yc(e),T.dc(7).onShowCalendar()}))("onSelect",(function(){return T.yc(e),T.dc(7).onChange()}))("onBlur",(function(){return T.yc(e),T.dc(7).onBlurCalendar()})),T.Sb(),T.Qb()}if(2&e){const e=T.dc(4).$implicit;T.Bb(1),T.Dc(T.nc(5,Ve)),T.kc("formControlName",e.field)("showButtonBar",!0)("inputStyle",T.nc(6,Ve))}}function Xe(e,t){if(1&e){const e=T.Ub();T.Rb(0),T.Tb(1,"input",42),T.bc("change",(function(){return T.yc(e),T.dc(7).onChange()})),T.Sb(),T.Qb()}if(2&e){const e=T.dc(4).$implicit;T.Bb(1),T.kc("maxlength",e.maxlength)("formControlName",e.field)}}function We(e,t){1&e&&(T.Tb(0,"span",30),T.Hc(1,"*"),T.Sb())}function Ye(e,t){if(1&e&&(T.Rb(0,15),T.Fc(1,Qe,2,5,"ng-container",34),T.Fc(2,Ue,2,5,"ng-container",34),T.Fc(3,Je,2,2,"ng-container",34),T.Fc(4,Ke,2,1,"ng-container",34),T.Fc(5,_e,2,7,"ng-container",34),T.Fc(6,Ge,2,7,"ng-container",34),T.Fc(7,qe,2,7,"ng-container",34),T.Fc(8,Xe,2,2,"ng-container",27),T.Qb(),T.Fc(9,We,2,0,"span",28)),2&e){const e=T.dc(3).$implicit,t=T.dc(3);T.kc("ngSwitch",e.type),T.Bb(1),T.kc("ngSwitchCase","OneToMany"),T.Bb(1),T.kc("ngSwitchCase","ManyToMany"),T.Bb(1),T.kc("ngSwitchCase","Boolean"),T.Bb(1),T.kc("ngSwitchCase","Number"),T.Bb(1),T.kc("ngSwitchCase","Date"),T.Bb(1),T.kc("ngSwitchCase","Time"),T.Bb(1),T.kc("ngSwitchCase","DateTime"),T.Bb(2),T.kc("ngIf",!0===t.isRequired(e.field))}}function Ze(e,t){if(1&e&&(T.Rb(0),T.Hc(1),T.Qb()),2&e){const e=T.dc(5).$implicit,t=T.dc().$implicit;T.Bb(1),T.Jc(" ",null==t[e.field]?null:t[e.field].display," ")}}function et(e,t){if(1&e&&(T.Rb(0),T.Hc(1),T.Qb()),2&e){const e=T.dc(5).$implicit,t=T.dc().$implicit,n=T.dc(2);T.Bb(1),T.Jc(" ",n.formatDisplayName(t[e.field])," ")}}function tt(e,t){if(1&e&&(T.Rb(0),T.Hc(1),T.ec(2,"date"),T.Qb()),2&e){const e=T.dc(5).$implicit,t=T.dc().$implicit;T.Bb(1),T.Jc(" ",!0===e.isDate?T.gc(2,1,t[e.field],e.formatDate):t[e.field]," ")}}function nt(e,t){if(1&e&&(T.Rb(0),T.Rb(1,15),T.Fc(2,Ze,2,1,"ng-container",34),T.Fc(3,et,2,1,"ng-container",34),T.Fc(4,tt,3,4,"ng-container",27),T.Qb(),T.Qb()),2&e){const e=T.dc(4).$implicit;T.Bb(1),T.kc("ngSwitch",e.type),T.Bb(1),T.kc("ngSwitchCase","OneToMany"),T.Bb(1),T.kc("ngSwitchCase","ManyToMany")}}function it(e,t){if(1&e&&T.Fc(0,nt,5,3,"ng-container",9),2&e){const e=T.dc(4).$implicit,t=T.dc(2);T.kc("ngIf",!0!==t.isFooter(e))}}function at(e,t){if(1&e&&(T.Fc(0,Ye,10,9,"ng-template",32),T.Fc(1,it,1,1,"ng-template",null,33,T.Gc)),2&e){const e=T.xc(2),t=T.dc(2).$implicit;T.kc("ngIf",!0===t.isEditable)("ngIfElse",e)}}function ct(e,t){1&e&&T.Fc(0,at,3,2,"ng-template",26)}function ot(e,t){1&e&&(T.Tb(0,"label"),T.Hc(1,"-"),T.Sb())}function lt(e,t){if(1&e&&T.Fc(0,ot,2,0,"label",9),2&e){const e=T.dc(3).$implicit;T.kc("ngIf",!0===e.isEditable)}}function st(e,t){if(1&e&&(T.Rb(0),T.Hc(1),T.Qb()),2&e){const e=T.dc(4).$implicit,t=T.dc().$implicit;T.Bb(1),T.Jc(" ",null==t[e.field]?null:t[e.field].display," ")}}function rt(e,t){if(1&e&&(T.Rb(0),T.Hc(1),T.Qb()),2&e){const e=T.dc(4).$implicit,t=T.dc().$implicit,n=T.dc(2);T.Bb(1),T.Jc(" ",n.formatDisplayName(t[e.field])," ")}}function bt(e,t){1&e&&T.Ob(0,"i",45)}function pt(e,t){if(1&e&&(T.Rb(0),T.Fc(1,bt,1,0,"i",44),T.Qb()),2&e){const e=T.dc(4).$implicit,t=T.dc().$implicit;T.Bb(1),T.kc("ngIf",!0===t[e.field])}}function dt(e,t){if(1&e&&(T.Rb(0),T.Hc(1),T.ec(2,"date"),T.Qb()),2&e){const e=T.dc(4).$implicit,t=T.dc().$implicit;T.Bb(1),T.Jc(" ",!0===e.isDate?T.gc(2,1,t[e.field],e.formatDate):t[e.field]," ")}}function ut(e,t){if(1&e&&(T.Rb(0,15),T.Fc(1,st,2,1,"ng-container",34),T.Fc(2,rt,2,1,"ng-container",34),T.Fc(3,pt,2,1,"ng-container",34),T.Fc(4,dt,3,4,"ng-container",27),T.Qb()),2&e){const e=T.dc(3).$implicit;T.kc("ngSwitch",e.type),T.Bb(1),T.kc("ngSwitchCase","OneToMany"),T.Bb(1),T.kc("ngSwitchCase","ManyToMany"),T.Bb(1),T.kc("ngSwitchCase","Boolean")}}function ht(e,t){if(1&e&&(T.Fc(0,lt,1,1,"ng-template",32),T.Fc(1,ut,5,4,"ng-template",null,43,T.Gc)),2&e){const e=T.xc(2),t=T.dc(3).$implicit,n=T.dc(2);T.kc("ngIf",!0===n.isFooter(t))("ngIfElse",e)}}function ft(e,t){1&e&&T.Fc(0,ht,3,2,"ng-template",31)}function gt(e,t){if(1&e){const e=T.Ub();T.Tb(0,"td",25),T.bc("click",(function(){T.yc(e);const t=T.dc().$implicit;return T.dc(2).initEditableRow(t)})),T.Tb(1,"p-cellEditor"),T.Fc(2,Ae,1,0,void 0,9),T.Fc(3,He,1,0,void 0,9),T.Fc(4,ct,1,0,void 0,9),T.Fc(5,ft,1,0,void 0,9),T.Sb(),T.Sb()}if(2&e){const e=t.$implicit,n=T.dc(3);T.Bb(2),T.kc("ngIf",!0===n.isSpecificInput(e.field)),T.Bb(1),T.kc("ngIf",!0===n.isSpecificInput(e.field)),T.Bb(1),T.kc("ngIf",!0!==n.isSpecificInput(e.field)),T.Bb(1),T.kc("ngIf",!0!==n.isSpecificInput(e.field))}}function mt(e,t){if(1&e){const e=T.Ub();T.Tb(0,"tr",19),T.bc("focusout",(function(){return T.yc(e),T.dc(2).onFocusout()}))("keyup.enter",(function(){return T.yc(e),T.dc(2).initEditableRow(null)}))("keyup.escape",(function(){return T.yc(e),T.dc(2).cancel()})),T.Fc(1,Le,3,2,"td",9),T.Fc(2,gt,6,4,"td",20),T.Sb()}if(2&e){const e=t.$implicit,n=t.columns,i=T.dc(2);T.kc("pSelectableRow",!0!==i.isFooter(e)?e:null)("pEditableRow",e),T.Bb(1),T.kc("ngIf",i.canSelectElement),T.Bb(1),T.kc("ngForOf",n)}}function St(e,t){if(1&e&&(T.Tb(0,"tr"),T.Tb(1,"td",46),T.Hc(2),T.ec(3,"translate"),T.Sb(),T.Sb()),2&e){const e=t.$implicit;T.Bb(1),T.Cb("colspan",e.length+1),T.Bb(1),T.Jc(" ",T.fc(3,2,"bia.NoRecordsFound")," ")}}function yt(e,t){if(1&e){const e=T.Ub();T.Tb(0,"p-table",2,3),T.bc("onFilter",(function(){return T.yc(e),T.dc().onFilter()}))("onLazyLoad",(function(t){return T.yc(e),T.dc().onLoadLazy(t)}))("onStateSave",(function(t){return T.yc(e),T.dc().onStateSave(t)}))("selectionChange",(function(){return T.yc(e),T.dc().onSelectionChange()})),T.ec(2,"async"),T.Fc(3,$e,4,3,"ng-template",4),T.Fc(4,mt,3,4,"ng-template",5),T.Fc(5,St,4,4,"ng-template",6),T.Sb()}if(2&e){const e=T.dc();T.kc("autoLayout",!0)("reorderableColumns",!0)("columns",e.displayedColumns)("value",e.elements)("paginator",e.paginator)("rows",e.pageSize)("totalRecords",e.totalRecord)("lazy",!0)("loading",e.loading&&null!==T.fc(2,14,e.showLoading$))("stateStorage","session")("stateKey",e.tableStateKey)("lazyLoadOnInit",e.getLazyLoadOnInit())("sortField",e.sortFieldValue)("sortOrder",e.sortOrderValue)}}let vt=(()=>{class e extends de.a{constructor(e,t,n,i){super(e,t,n,i),this.formBuilder=e,this.authService=t,this.biaMessageService=n,this.translateService=i,this.initForm()}initForm(){var e;this.form=this.formBuilder.group({id:[this.element.id],msn:[this.element.msn,be.o.required],isActive:[this.element.isActive],firstFlightDate:[this.element.firstFlightDate,be.o.required],firstFlightTime:[this.element.firstFlightTime,be.o.required],lastFlightDate:[this.element.lastFlightDate],capacity:[this.element.capacity,be.o.required],connectingAirports:[this.element.connectingAirports],planeType:[null===(e=this.element.planeType)||void 0===e?void 0:e.id]})}onSubmit(){var e;if(this.form.valid){const t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=pe.a.Differential(t.connectingAirports,null===(e=this.element)||void 0===e?void 0:e.connectingAirports),t.planeType=pe.a.Clone(t.planeType),this.save.emit(t),this.form.reset()}}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(be.b),T.Nb(U.a),T.Nb(A.a),T.Nb(ce.d))},e.\u0275cmp=T.Hb({type:e,selectors:[["app-plane-table"]],features:[T.yb],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","md-inputfield",4,"ngIf"],[1,"md-inputfield"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","ui-icon-check",4,"ngIf"],[1,"ui-icon-check"],[1,"app-empty-message"]],template:function(e,t){1&e&&(T.Tb(0,"form",0),T.Fc(1,yt,6,16,"p-table",1),T.Sb()),2&e&&(T.kc("formGroup",t.form),T.Bb(1),T.kc("ngIf",t.configuration))},directives:[be.p,be.k,be.f,re.m,ue.f,he.e,re.l,ue.h,ue.e,ue.d,re.o,fe.a,re.k,ge.a,ue.c,ue.b,ue.g,ue.a,re.q,be.a,be.j,be.e,re.p,me.a,Se.a,ye.a,be.m,ve.a,Oe.a,be.h],pipes:[re.b,ce.c,re.e],styles:["[_nghost-%COMP%]{flex-direction:column}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),e})();function Ot(e,t){if(1&e){const e=T.Ub();T.Tb(0,"bia-table",6),T.bc("edit",(function(t){return T.yc(e),T.dc().onEdit(t)}))("loadLazy",(function(t){return T.yc(e),T.dc().onLoadLazy(t)}))("selectedElementsChanged",(function(t){return T.yc(e),T.dc().onSelectedElementsChanged(t)})),T.ec(1,"async"),T.ec(2,"async"),T.ec(3,"async"),T.Sb()}if(2&e){const e=T.dc();T.kc("elements",T.fc(1,12,e.planes$))("totalRecord",T.fc(2,14,e.totalCount$))("columnToDisplays",e.displayedColumns)("pageSize",e.pageSize)("configuration",e.tableConfiguration)("showColSearch",e.showColSearch)("globalSearchValue",e.globalSearchValue)("canEdit",e.canEdit)("canSelectElement",e.canDelete)("loading",T.fc(3,16,e.loading$))("viewPreference",e.viewPreference)("tableStateKey",e.tableStateKey)}}function Ct(e,t){if(1&e){const e=T.Ub();T.Tb(0,"app-plane-table",7),T.bc("loadLazy",(function(t){return T.yc(e),T.dc().onLoadLazy(t)}))("selectedElementsChanged",(function(t){return T.yc(e),T.dc().onSelectedElementsChanged(t)}))("save",(function(t){return T.yc(e),T.dc().onSave(t)})),T.ec(1,"async"),T.ec(2,"async"),T.ec(3,"async"),T.ec(4,"async"),T.Sb()}if(2&e){const e=T.dc();T.kc("elements",T.fc(1,14,e.planes$))("dictOptionDtos",T.fc(2,16,e.planeOptionsService.dictOptionDtos$))("totalRecord",T.fc(3,18,e.totalCount$))("columnToDisplays",e.displayedColumns)("pageSize",e.pageSize)("configuration",e.tableConfiguration)("showColSearch",e.showColSearch)("globalSearchValue",e.globalSearchValue)("canEdit",e.canEdit)("canAdd",e.canAdd)("canSelectElement",e.canDelete)("loading",T.fc(4,20,e.loading$))("viewPreference",e.viewPreference)("tableStateKey",e.tableStateKey)}}let Tt=(()=>{class e{constructor(e,t,n,i,a,c,o,l,s){this.store=e,this.router=t,this.activatedRoute=n,this.authService=i,this.planeDas=a,this.translateService=c,this.biaTranslationService=o,this.planesSignalRService=l,this.planeOptionsService=s,this.useCalcMode=!0,this.useSignalR=!1,this.useView=!1,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=Q.b,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.tableStateKey=this.useView?"planesGrid":""}ngOnInit(){this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(E).pipe(),this.totalCount$=this.store.select(P).pipe(),this.loading$=this.store.select(x).pipe(),this.OnDisplay(),this.useCalcMode&&this.planeOptionsService.loadAllOptions()}ngOnDestroy(){this.OnHide()}OnDisplay(){void 0!==this.planeListComponent&&this.store.dispatch(u({event:this.planeListComponent.getLazyLoadMetadata()})),this.useView&&this.store.dispatch(Object(W.g)()),this.useSignalR&&(this.planesSignalRService.initialize(),M.useSignalR=!0)}OnHide(){this.useSignalR&&(M.useSignalR=!1,this.planesSignalRService.destroy())}onCreate(){this.useCalcMode||this.router.navigate(["../create"],{relativeTo:this.activatedRoute})}onEdit(e){this.useCalcMode||this.router.navigate(["../"+e+"/edit"],{relativeTo:this.activatedRoute})}onSave(e){this.useCalcMode&&((null==e?void 0:e.id)>0?this.canEdit&&this.store.dispatch(g({plane:e})):this.canAdd&&this.store.dispatch(f({plane:e})))}onDelete(){this.selectedPlanes&&this.canDelete&&this.store.dispatch(S({ids:this.selectedPlanes.map(e=>e.id)}))}onSelectedElementsChanged(e){this.selectedPlanes=e}onPageSizeChange(e){this.pageSize=e}onLoadLazy(e){this.store.dispatch(u({event:e}))}searchGlobalChanged(e){this.globalSearchValue=e}displayedColumnsChanged(e){this.displayedColumns=e}onToggleSearch(){this.showColSearch=!this.showColSearch}onViewChange(e){this.viewPreference=e}onExportCSV(){const e={};this.columns.map(t=>e[t.value.split(".")[1]]=this.translateService.instant(t.value));const t=Object.assign({columns:e},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(t).subscribe(e=>{J.saveAs(e,this.translateService.instant("app.planes")+".csv")})}setPermissions(){this.canEdit=this.authService.hasPermission(_.a.Plane_Update),this.canDelete=this.authService.hasPermission(_.a.Plane_Delete),this.canAdd=this.authService.hasPermission(_.a.Plane_Create)}initTableConfiguration(){this.biaTranslationService.culture$.subscribe(e=>{this.tableConfiguration={columns:[new V.b("msn","plane.msn"),Object.assign(new V.b("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:V.c.Boolean}),Object.assign(new V.b("firstFlightDate","plane.firstFlightDate"),{type:V.c.Date,formatDate:e.dateFormat}),Object.assign(new V.b("firstFlightTime","plane.firstFlightTime"),{isSearchable:!1,isSortable:!1,type:V.c.Time,formatDate:e.timeFormat}),Object.assign(new V.b("lastFlightDate","plane.lastFlightDate"),{type:V.c.DateTime,formatDate:e.dateTimeFormat}),Object.assign(new V.b("capacity","plane.capacity"),{type:V.c.Number,filterMode:V.a.Equals}),Object.assign(new V.b("planeType","plane.planeType"),{type:V.c.OneToMany}),Object.assign(new V.b("connectingAirports","plane.connectingAirports"),{type:V.c.ManyToMany})]},this.columns=this.tableConfiguration.columns.map(e=>({key:e.field,value:e.header})),this.displayedColumns=[...this.columns]})}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(a.b),T.Nb(i.c),T.Nb(i.a),T.Nb(U.a),T.Nb(w),T.Nb(ce.d),T.Nb(K.a),T.Nb(X),T.Nb(ae))},e.\u0275cmp=T.Hb({type:e,selectors:[["app-planes-index"]],viewQuery:function(e,t){var n;1&e&&T.Lc(H.a,!0),2&e&&T.wc(n=T.cc())&&(t.planeListComponent=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&T.Fb("bia-flex",t.flex)},decls:8,vars:16,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","tableStateKey","edit","loadLazy","selectedElementsChanged",4,"ngIf"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save",4,"ngIf"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","tableStateKey","edit","loadLazy","selectedElementsChanged"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save"]],template:function(e,t){1&e&&(T.Tb(0,"div",0),T.Tb(1,"div",1),T.Tb(2,"bia-table-header",2),T.bc("create",(function(){return t.onCreate()}))("exportCSV",(function(){return t.onExportCSV()}))("delete",(function(){return t.onDelete()})),T.ec(3,"translate"),T.Sb(),T.Tb(4,"bia-table-controller",3),T.bc("displayedColumnsChange",(function(e){return t.displayedColumnsChanged(e)}))("filter",(function(e){return t.searchGlobalChanged(e)}))("pageSizeChange",(function(e){return t.onPageSizeChange(e)}))("toggleSearch",(function(){return t.onToggleSearch()}))("viewChange",(function(e){return t.onViewChange(e)})),T.ec(5,"async"),T.Sb(),T.Fc(6,Ot,4,18,"bia-table",4),T.Fc(7,Ct,5,22,"app-plane-table",5),T.Sb(),T.Sb()),2&e&&(T.Bb(2),T.kc("headerTitle",T.fc(3,12,"plane.listOf"))("canAdd",t.canAdd&&!t.useCalcMode)("canDelete",t.canDelete)("canExportCSV",!0)("selectedElements",t.selectedPlanes),T.Bb(2),T.kc("defaultPageSize",t.defaultPageSize)("length",T.fc(5,14,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns)("tableStateKey",t.tableStateKey),T.Bb(2),T.kc("ngIf",!t.useCalcMode),T.Bb(1),T.kc("ngIf",t.useCalcMode))},directives:[oe.d,oe.b,le.a,se.a,re.m,H.a,vt],pipes:[ce.c,re.b],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),e})();var wt=n("PCNd"),jt=n("jIHw");const Ft=function(){return{width:"100%"}},kt=function(){return{width:"100%"}};let Bt=(()=>{class e{constructor(e){this.formBuilder=e,this.plane={},this.save=new T.n,this.cancel=new T.n,this.initForm()}ngOnInit(){}ngOnChanges(e){this.plane&&(this.form.reset(),this.plane&&this.form.patchValue(Object.assign({},this.plane)))}initForm(){var e;this.form=this.formBuilder.group({id:[this.plane.id],msn:[this.plane.msn,be.o.required],isActive:[this.plane.isActive],firstFlightDate:[this.plane.firstFlightDate,be.o.required],firstFlightTime:[this.plane.firstFlightTime,be.o.required],lastFlightDate:[this.plane.lastFlightDate],capacity:[this.plane.capacity,be.o.required],connectingAirports:[this.plane.connectingAirports],planeType:[null===(e=this.plane.planeType)||void 0===e?void 0:e.id]})}onCancel(){this.form.reset(),this.cancel.next()}onSubmit(){var e;if(this.form.valid){const t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=pe.a.Differential(t.connectingAirports,null===(e=this.plane)||void 0===e?void 0:e.connectingAirports),t.planeType=pe.a.Clone(t.planeType),this.save.emit(t),this.form.reset()}}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(be.b))},e.\u0275cmp=T.Hb({type:e,selectors:[["app-plane-form"]],inputs:{plane:"plane",airportOptions:"airportOptions",planeTypeOptions:"planeTypeOptions"},outputs:{save:"save",cancel:"cancel"},features:[T.zb],decls:67,vars:59,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"md-inputfield"],["formControlName","msn","type","text","pInputText","","maxlength","64",2,"width","100%"],[1,"bia-star-mandatory"],["binary","true","formControlName","isActive",3,"label"],["biaLocale","","formControlName","firstFlightDate","placeholder","\xa0","dateFormat","yy-mm-dd",3,"showButtonBar","inputStyle"],["formControlName","firstFlightTime","showTime","true","placeholder","\xa0",3,"timeOnly","inputStyle"],["biaLocale","","formControlName","lastFlightDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0",3,"inputStyle"],["formControlName","capacity","type","number","pInputText","",2,"width","100%"],["placeholder","\xa0","formControlName","planeType","optionLabel","display","datakey","id",3,"options","showClear"],["defaultLabel","\xa0","formControlName","connectingAirports","optionLabel","display","datakey","id",3,"options","virtualScroll"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"ui-button-secondary",3,"label","click"]],template:function(e,t){1&e&&(T.Tb(0,"form",0),T.bc("submit",(function(){return t.onSubmit()})),T.Tb(1,"div",1),T.Tb(2,"div",2),T.Tb(3,"span",3),T.Ob(4,"input",4),T.Tb(5,"label"),T.Tb(6,"span",5),T.Hc(7,"*"),T.Sb(),T.Hc(8),T.ec(9,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Tb(10,"div",1),T.Tb(11,"div",2),T.Ob(12,"p-checkbox",6),T.ec(13,"translate"),T.Sb(),T.Sb(),T.Tb(14,"div",1),T.Tb(15,"div",2),T.Tb(16,"span",3),T.Ob(17,"p-calendar",7),T.Tb(18,"label"),T.Tb(19,"span",5),T.Hc(20,"*"),T.Sb(),T.Hc(21),T.ec(22,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Tb(23,"div",1),T.Tb(24,"div",2),T.Tb(25,"span",3),T.Ob(26,"p-calendar",8),T.Tb(27,"label"),T.Tb(28,"span",5),T.Hc(29,"*"),T.Sb(),T.Hc(30),T.ec(31,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Tb(32,"div",1),T.Tb(33,"div",2),T.Tb(34,"span",3),T.Ob(35,"p-calendar",9),T.Tb(36,"label"),T.Hc(37),T.ec(38,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Tb(39,"div",1),T.Tb(40,"div",2),T.Tb(41,"span",3),T.Ob(42,"input",10),T.Tb(43,"label"),T.Tb(44,"span",5),T.Hc(45,"*"),T.Sb(),T.Hc(46),T.ec(47,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Tb(48,"div",1),T.Tb(49,"div",2),T.Tb(50,"span",3),T.Ob(51,"p-dropdown",11),T.Tb(52,"label"),T.Hc(53),T.ec(54,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Tb(55,"div",1),T.Tb(56,"div",2),T.Tb(57,"span",3),T.Ob(58,"p-multiSelect",12),T.Tb(59,"label"),T.Hc(60),T.ec(61,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Tb(62,"div",13),T.Ob(63,"button",14),T.ec(64,"translate"),T.Tb(65,"button",15),T.bc("click",(function(){return t.onCancel()})),T.ec(66,"translate"),T.Sb(),T.Sb(),T.Sb()),2&e&&(T.kc("formGroup",t.form),T.Bb(8),T.Ic(T.fc(9,31,"plane.msn")),T.Bb(4),T.lc("label",T.fc(13,33,"plane.isActive")),T.Bb(5),T.Dc(T.nc(51,Ft)),T.kc("showButtonBar",!0)("inputStyle",T.nc(52,Ft)),T.Bb(4),T.Ic(T.fc(22,35,"plane.firstFlightDate")),T.Bb(5),T.Dc(T.nc(53,Ft)),T.kc("timeOnly",!0)("inputStyle",T.nc(54,Ft)),T.Bb(4),T.Ic(T.fc(31,37,"plane.firstFlightTime")),T.Bb(5),T.Dc(T.nc(55,Ft)),T.kc("inputStyle",T.nc(56,Ft)),T.Bb(2),T.Ic(T.fc(38,39,"plane.lastFlightDate")),T.Bb(9),T.Ic(T.fc(47,41,"plane.capacity")),T.Bb(5),T.Dc(T.nc(57,kt)),T.kc("options",t.planeTypeOptions)("showClear",!0),T.Bb(2),T.Ic(T.fc(54,43,"plane.planeType")),T.Bb(5),T.Dc(T.nc(58,kt)),T.kc("options",t.airportOptions)("virtualScroll",!0),T.Bb(2),T.Ic(T.fc(61,45,"plane.connectingAirports")),T.Bb(3),T.lc("label",T.fc(64,47,"bia.save")),T.kc("disabled",!t.form.valid),T.Bb(2),T.lc("label",T.fc(66,49,"bia.cancel")))},directives:[be.p,be.k,oe.d,be.f,oe.c,oe.b,be.a,be.j,be.e,fe.a,be.h,ye.a,ve.a,Oe.a,be.m,me.a,Se.a,oe.e,jt.b],pipes:[ce.c],styles:[".app-field-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}"]}),e})(),It=(()=>{class e{constructor(e,t,n,i){this.store=e,this.router=t,this.activatedRoute=n,this.planeOptionsService=i}ngOnInit(){this.planeOptionsService.loadAllOptions()}onSubmitted(e){this.store.dispatch(f({plane:e})),this.router.navigate(["../"],{relativeTo:this.activatedRoute})}onCancelled(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(a.b),T.Nb(i.c),T.Nb(i.a),T.Nb(ae))},e.\u0275cmp=T.Hb({type:e,selectors:[["app-plane-new"]],decls:3,vars:6,consts:[[3,"airportOptions","planeTypeOptions","cancel","save"]],template:function(e,t){1&e&&(T.Tb(0,"app-plane-form",0),T.bc("cancel",(function(){return t.onCancelled()}))("save",(function(e){return t.onSubmitted(e)})),T.ec(1,"async"),T.ec(2,"async"),T.Sb()),2&e&&T.kc("airportOptions",T.fc(1,2,t.planeOptionsService.airportOptions$))("planeTypeOptions",T.fc(2,4,t.planeOptionsService.planeTypeOptions$))},directives:[Bt],pipes:[re.b],styles:[""]}),e})();var Dt=n("quSY");let $t=(()=>{class e{constructor(e){this.store=e,this.sub=new Dt.a,this.InitSub(),this.loading$=this.store.select(N),this.plane$=this.store.select(R)}get currentPlane(){var e;return(null===(e=this._currentPlane)||void 0===e?void 0:e.id)===this._currentPlaneId?this._currentPlane:null}get currentPlaneId(){return this._currentPlaneId}set currentPlaneId(e){this._currentPlaneId=Number(e),this.store.dispatch(h({id:e}))}InitSub(){this.sub=new Dt.a,this.sub.add(this.store.select(R).subscribe(e=>{e&&(this._currentPlane=e)}))}}return e.\u0275fac=function(t){return new(t||e)(T.Xb(a.b))},e.\u0275prov=T.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Pt=n("y0gQ");function Rt(e,t){1&e&&T.Ob(0,"bia-spinner",2),2&e&&T.kc("overlay",!0)}let Lt=(()=>{class e{constructor(e,t,n,i,a){this.store=e,this.router=t,this.activatedRoute=n,this.planeOptionsService=i,this.planeService=a,this.displayChange=new T.n,this.sub=new Dt.a}ngOnInit(){this.planeOptionsService.loadAllOptions()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch(g({plane:e})),this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}onCancelled(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(a.b),T.Nb(i.c),T.Nb(i.a),T.Nb(ae),T.Nb($t))},e.\u0275cmp=T.Hb({type:e,selectors:[["app-plane-edit"]],outputs:{displayChange:"displayChange"},decls:6,vars:12,consts:[[3,"plane","airportOptions","planeTypeOptions","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(T.Tb(0,"app-plane-form",0),T.bc("cancel",(function(){return t.onCancelled()}))("save",(function(e){return t.onSubmitted(e)})),T.ec(1,"async"),T.ec(2,"async"),T.ec(3,"async"),T.Sb(),T.Fc(4,Rt,1,1,"bia-spinner",1),T.ec(5,"async")),2&e&&(T.kc("plane",T.fc(1,4,t.planeService.plane$))("airportOptions",T.fc(2,6,t.planeOptionsService.airportOptions$))("planeTypeOptions",T.fc(3,8,t.planeOptionsService.planeTypeOptions$)),T.Bb(4),T.kc("ngIf",T.fc(5,10,t.planeService.loading$)))},directives:[Bt,re.m,Pt.a],pipes:[re.b],styles:[""]}),e})();var Nt=n("+dww"),xt=n("95+j");function Et(e,t){1&e&&T.Ob(0,"bia-spinner",1),2&e&&T.kc("overlay",!0)}let At=(()=>{class e{constructor(e,t,n,i){this.store=e,this.route=t,this.planeService=n,this.layoutService=i,this.sub=new Dt.a}ngOnInit(){this.planeService.currentPlaneId=this.route.snapshot.params.planeId,this.sub.add(this.store.select(R).subscribe(e=>{(null==e?void 0:e.msn)&&(this.route.data.pipe(Object(G.a)()).subscribe(t=>{t.breadcrumb=e.msn}),this.layoutService.refreshBreadcrumb())}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(T.Nb(a.b),T.Nb(i.a),T.Nb($t),T.Nb(xt.a))},e.\u0275cmp=T.Hb({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(T.Ob(0,"router-outlet"),T.Fc(1,Et,1,1,"bia-spinner",0),T.ec(2,"async")),2&e&&(T.Bb(1),T.kc("ngIf",T.fc(2,1,t.planeService.loading$)))},directives:[i.g,re.m,Pt.a],pipes:[re.b],styles:[""]}),e})();var zt=n("PW2p"),Mt=n("iW9+"),Ht=n("ONFI"),Vt=n("8NO8");const Qt=[{path:"",data:{breadcrumb:null,permission:_.a.Plane_List_Access,InjectComponent:Tt},component:Mt.a,canActivate:[Nt.a],children:[{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:_.a.Plane_Create,title:"plane.add",InjectComponent:It},component:zt.a,canActivate:[Nt.a]},{path:":planeId",data:{breadcrumb:"",canNavigate:!0},component:At,canActivate:[Nt.a],children:[{path:"edit",data:{breadcrumb:"bia.edit",canNavigate:!0,permission:_.a.Plane_Update,title:"plane.edit",InjectComponent:Lt},component:zt.a,canActivate:[Nt.a]},{path:"",redirectTo:"edit"}]}]},{path:"**",redirectTo:""}];let Ut=(()=>{class e{}return e.\u0275mod=T.Lb({type:e}),e.\u0275inj=T.Kb({factory:function(t){return new(t||e)},imports:[[wt.a,i.f.forChild(Qt),a.d.forFeature("planes",I),c.b.forFeature([M]),Ht.a,Vt.a]]}),e})()}}]);