function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,a=!1,c=void 0;try{for(var o,r=e[Symbol.iterator]();!(i=(o=r.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){a=!0,c=l}finally{try{i||null==r.return||r.return()}finally{if(a)throw c}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{xnCH:function(e,t,n){"use strict";n.r(t),n.d(t,"PlaneModule",(function(){return nn}));var i,a=n("tyNb"),c=n("kt0X"),o=n("snw9"),r=n("LRne"),l=n("wO+i"),s=n("eIep"),u=n("lJxs"),b=n("JIr8"),p=n("bOdf"),d=n("zp1y"),f=Object(c.h)("[Planes] Load all by post",Object(c.m)()),h=Object(c.h)("[Planes] Load",Object(c.m)()),g=Object(c.h)("[Planes] Create",Object(c.m)()),m=Object(c.h)("[Planes] Update",Object(c.m)()),y=Object(c.h)("[Planes] Remove",Object(c.m)()),v=Object(c.h)("[Planes] Multi Remove",Object(c.m)()),S=Object(c.h)("[Planes] Load all by post success",Object(c.m)()),O=Object(c.h)("[Planes] Load success",Object(c.m)()),C=Object(c.h)("[Planes] Failure",Object(c.m)()),T=n("dlt+"),k=n("fXoL"),w=((i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,"Planes")}return n}(T.a)).\u0275fac=function(e){return new(e||i)(k.Xb(k.r))},i.\u0275prov=k.Jb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),j=n("EVqC"),F=Object(j.a)({selectId:function(e){return e.id},sortComparer:!1}),I=F.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),B=Object(c.j)(I,Object(c.l)(f,(function(e,t){return _objectDestructuringEmpty(t),Object.assign(Object.assign({},e),{loadingGetAll:!0})})),Object(c.l)(h,(function(e){return Object.assign(Object.assign({},e),{loadingGet:!0})})),Object(c.l)(S,(function(e,t){var n=t.result,i=t.event,a=F.setAll(n.data,e);return a.totalCount=n.totalCount,a.lastLazyLoadEvent=i,a.loadingGetAll=!1,a})),Object(c.l)(O,(function(e,t){var n=t.plane;return Object.assign(Object.assign({},e),{currentPlane:n,loadingGet:!1})})),Object(c.l)(C,(function(e,t){return _objectDestructuringEmpty(t),Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})})));function _(e,t){return Object(c.f)({planes:B})(e,t)}var P,D,R,$=Object(c.i)("planes"),A=Object(c.k)($,(function(e){return e.planes})),L=Object(c.k)(A,(function(e){return e.totalCount})),E=Object(c.k)(A,(function(e){return e.currentPlane})),N=Object(c.k)(A,(function(e){return e.lastLazyLoadEvent})),x=Object(c.k)(A,(function(e){return e.loadingGet})),z=Object(c.k)(A,(function(e){return e.loadingGetAll})),M=F.getSelectors(A).selectAll,H=n("Fx2S"),V=n("basH"),Q=((P=function e(t,n,i,a){var c=this;_classCallCheck(this,e),this.actions$=t,this.planeDas=n,this.biaMessageService=i,this.store=a,this.loadAllByPost$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(f),Object(l.a)("event"),Object(s.a)((function(e){return c.planeDas.getListByPost(e).pipe(Object(u.a)((function(t){return S({result:t,event:e})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))})),this.load$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(h),Object(l.a)("id"),Object(s.a)((function(e){return c.planeDas.get(e).pipe(Object(u.a)((function(e){return O({plane:e})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))})),this.create$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(g),Object(l.a)("plane"),Object(p.a)((function(e){return Object(r.a)(e).pipe(Object(d.a)(c.store.select(N)))})),Object(s.a)((function(t){var n=_slicedToArray(t,2),i=n[0],a=n[1];return c.planeDas.post(i).pipe(Object(u.a)((function(){return c.biaMessageService.showAddSuccess(),e.useSignalR?Object(V.a)():f({event:a})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))})),this.update$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(m),Object(l.a)("plane"),Object(p.a)((function(e){return Object(r.a)(e).pipe(Object(d.a)(c.store.select(N)))})),Object(s.a)((function(t){var n=_slicedToArray(t,2),i=n[0],a=n[1];return c.planeDas.put(i,i.id).pipe(Object(u.a)((function(){return c.biaMessageService.showUpdateSuccess(),e.useSignalR?Object(V.a)():f({event:a})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))})),this.destroy$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(y),Object(l.a)("id"),Object(p.a)((function(e){return Object(r.a)(e).pipe(Object(d.a)(c.store.select(N)))})),Object(s.a)((function(t){var n=_slicedToArray(t,2),i=n[0],a=n[1];return c.planeDas.delete(i).pipe(Object(u.a)((function(){return c.biaMessageService.showDeleteSuccess(),e.useSignalR?Object(V.a)():f({event:a})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))})),this.multiDestroy$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(v),Object(l.a)("ids"),Object(p.a)((function(e){return Object(r.a)(e).pipe(Object(d.a)(c.store.select(N)))})),Object(s.a)((function(t){var n=_slicedToArray(t,2),i=n[0],a=n[1];return c.planeDas.deletes(i).pipe(Object(u.a)((function(){return c.biaMessageService.showDeleteSuccess(),e.useSignalR?Object(V.a)():f({event:a})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))}))}).useSignalR=!1,P.\u0275fac=function(e){return new(e||P)(k.Xb(o.a),k.Xb(w),k.Xb(H.a),k.Xb(c.b))},P.\u0275prov=k.Jb({token:P,factory:P.\u0275fac}),P),U=n("Sa1B"),J=n("VfrA"),K=n("s0Cq"),G=n("E6Oa"),q=n("Iab2"),X=n("RoCi"),W=n("RdrV"),Y=n("SxV6"),Z=n("yOL8"),ee=((D=function(){function e(t,n){_classCallCheck(this,e),this.store=t,this.signalRService=n}return _createClass(e,[{key:"initialize",value:function(){var e=this;console.log("%c [Planes] Register SignalR : refresh-planes","color: purple; font-weight: bold"),this.signalRService.addMethod("refresh-planes",(function(){e.store.select(N).pipe(Object(Y.a)()).subscribe((function(t){console.log("%c [Planes] RefreshSuccess","color: green; font-weight: bold"),e.store.dispatch(f({event:t}))}))}))}},{key:"destroy",value:function(){console.log("%c [Planes] Unregister SignalR : refresh-planes","color: purple; font-weight: bold"),this.signalRService.removeMethod("refresh-planes")}}]),e}()).\u0275fac=function(e){return new(e||D)(k.Xb(c.b),k.Xb(Z.a))},D.\u0275prov=k.Jb({token:D,factory:D.\u0275fac,providedIn:"root"}),D),te=n("P5II"),ne=n("itXk"),ie=n("oIZ+"),ae=n("UONQ"),ce=n("060v"),oe=n("i0YE"),re=n("dnD0"),le=((R=function(){function e(t){_classCallCheck(this,e),this.store=t,this.planeTypeOptions$=this.store.select(ce.a).pipe(),this.airportOptions$=this.store.select(ie.a).pipe(),this.dictOptionDtos$=Object(ne.a)([this.planeTypeOptions$,this.airportOptions$]).pipe(Object(u.a)((function(e){return[new re.a("planeType",e[0]),new re.a("connectingAirports",e[1])]})))}return _createClass(e,[{key:"loadAllOptions",value:function(){this.store.dispatch(Object(oe.b)()),this.store.dispatch(Object(ae.b)())}}]),e}()).\u0275fac=function(e){return new(e||R)(k.Xb(c.b))},R.\u0275prov=k.Jb({token:R,factory:R.\u0275fac,providedIn:"root"}),R),se=n("sYmb"),ue=n("XiUz"),be=n("jIms"),pe=n("v8MJ"),de=n("ofXK"),fe=n("3Pt+"),he=n("gT8a"),ge=n("/ZTc"),me=n("rEr+"),ye=n("7zfz"),ve=n("7kUa"),Se=n("znSr"),Oe=n("arFO"),Ce=n("lVkt"),Te=n("Ji6n"),ke=n("eO1q"),we=n("PjIi");function je(e,t){1&e&&(k.Tb(0,"th",10),k.Ob(1,"p-tableHeaderCheckbox"),k.Sb())}function Fe(e,t){if(1&e&&(k.Tb(0,"th",12),k.Hc(1),k.ec(2,"translate"),k.Ob(3,"p-sortIcon",13),k.Sb()),2&e){var n=k.dc().$implicit;k.kc("pSortableColumn",n.field),k.Bb(1),k.Jc(" ",k.fc(2,3,null==n?null:n.header)," "),k.Bb(2),k.kc("field",n.field)}}function Ie(e,t){if(1&e&&(k.Tb(0,"th"),k.Hc(1),k.ec(2,"translate"),k.Sb()),2&e){var n=k.dc().$implicit;k.Bb(1),k.Jc(" ",k.fc(2,1,null==n?null:n.header)," ")}}function Be(e,t){if(1&e&&(k.Rb(0),k.Fc(1,Fe,4,5,"th",11),k.Fc(2,Ie,3,3,"th",9),k.Qb()),2&e){var n=t.$implicit;k.Bb(1),k.kc("ngIf",!0===(null==n?null:n.isSortable)),k.Bb(1),k.kc("ngIf",!0!==(null==n?null:n.isSortable))}}function _e(e,t){1&e&&k.Ob(0,"th")}var Pe=function(e){return{"ui-state-filled":e}};function De(e,t){if(1&e){var n=k.Ub();k.Tb(0,"span",17),k.Tb(1,"input",18),k.bc("input",(function(e){k.yc(n);var t=k.dc().$implicit;return k.dc(3),k.xc(1).filter(e.target.value,t.field,t.filterMode)})),k.ec(2,"translate"),k.Sb(),k.Sb()}if(2&e){var i=k.dc().$implicit;k.dc(3);var a=k.xc(1);k.Bb(1),k.lc("type","Number"===i.type?"number":"text"),k.lc("placeholder",!0===i.isDate?k.fc(2,4,"bia.dateIso8601"):""),k.kc("value",null==a.filters[i.field]?null:a.filters[i.field].value)("ngClass",k.oc(6,Pe,""!=(null==a.filters[i.field]?null:a.filters[i.field].value)))}}function Re(e,t){if(1&e&&(k.Tb(0,"th",15),k.Fc(1,De,3,8,"span",16),k.Sb()),2&e){var n=t.$implicit;k.kc("ngSwitch",n.field),k.Bb(1),k.kc("ngIf",!0===n.isSearchable)}}function $e(e,t){if(1&e&&(k.Tb(0,"tr"),k.Fc(1,_e,1,0,"th",9),k.Fc(2,Re,2,2,"th",14),k.Sb()),2&e){var n=k.dc().$implicit,i=k.dc(2);k.Bb(1),k.kc("ngIf",i.canSelectElement),k.Bb(1),k.kc("ngForOf",n)}}function Ae(e,t){if(1&e&&(k.Tb(0,"tr"),k.Fc(1,je,2,0,"th",7),k.Fc(2,Be,3,2,"ng-container",8),k.Sb(),k.Fc(3,$e,3,2,"tr",9)),2&e){var n=t.$implicit,i=k.dc(2);k.Bb(1),k.kc("ngIf",i.canSelectElement),k.Bb(1),k.kc("ngForOf",n),k.Bb(1),k.kc("ngIf",i.showColSearch)}}function Le(e,t){if(1&e&&k.Ob(0,"p-tableCheckbox",23),2&e){var n=k.dc(2).$implicit;k.kc("value",n)}}function Ee(e,t){1&e&&k.Ob(0,"i",24)}function Ne(e,t){if(1&e&&(k.Tb(0,"td"),k.Fc(1,Le,1,1,"p-tableCheckbox",21),k.Fc(2,Ee,1,0,"i",22),k.Sb()),2&e){var n=k.dc().$implicit,i=k.dc(2);k.Bb(1),k.kc("ngIf",!0!==i.isFooter(n)&&n.id>0),k.Bb(1),k.kc("ngIf",!0===i.isFooter(n))}}function xe(e,t){if(1&e){var n=k.Ub();k.Rb(0),k.Tb(1,"input",29),k.bc("change",(function(){return k.yc(n),k.dc(6).onChange()})),k.Sb(),k.Qb()}if(2&e){var i=k.dc(3).$implicit;k.Bb(1),k.kc("formControlName",i.field)}}function ze(e,t){1&e&&(k.Tb(0,"span",30),k.Hc(1,"*"),k.Sb())}function Me(e,t){if(1&e&&(k.Rb(0,15),k.Fc(1,xe,2,1,"ng-container",27),k.Qb(),k.Fc(2,ze,2,0,"span",28)),2&e){var n=k.dc(2).$implicit,i=k.dc(3);k.kc("ngSwitch",n.field),k.Bb(2),k.kc("ngIf",!0===i.isRequired(n.field))}}function He(e,t){1&e&&k.Fc(0,Me,3,2,"ng-template",26)}function Ve(e,t){if(1&e&&(k.Rb(0),k.Hc(1),k.Qb()),2&e){var n=k.dc(3).$implicit,i=k.dc().$implicit;k.Bb(1),k.Jc(" ",i[n.field]," ")}}function Qe(e,t){if(1&e&&(k.Rb(0,15),k.Fc(1,Ve,2,1,"ng-container",27),k.Qb()),2&e){var n=k.dc(2).$implicit;k.kc("ngSwitch",n.field)}}function Ue(e,t){1&e&&k.Fc(0,Qe,2,1,"ng-template",31)}var Je=function(){return{width:"100%"}};function Ke(e,t){if(1&e){var n=k.Ub();k.Rb(0),k.Tb(1,"p-dropdown",35),k.bc("onChange",(function(){return k.yc(n),k.dc(7).onChange()})),k.Sb(),k.Qb()}if(2&e){var i=k.dc(4).$implicit,a=k.dc(3);k.Bb(1),k.Dc(k.nc(4,Je)),k.kc("formControlName",i.field)("options",a.getOptionDto(i.field))}}function Ge(e,t){if(1&e){var n=k.Ub();k.Rb(0),k.Tb(1,"p-multiSelect",36),k.bc("onChange",(function(){return k.yc(n),k.dc(7).onChange()}))("onPanelShow",(function(){return k.yc(n),k.dc(7).onPanelShowMultiSelect()}))("onPanelHide",(function(){return k.yc(n),k.dc(7).onPanelHideMultiSelect()})),k.Sb(),k.Qb()}if(2&e){var i=k.dc(4).$implicit,a=k.dc(3);k.Bb(1),k.Dc(k.nc(4,Je)),k.kc("formControlName",i.field)("options",a.getOptionDto(i.field))}}function qe(e,t){if(1&e){var n=k.Ub();k.Rb(0),k.Tb(1,"p-checkbox",37),k.bc("onChange",(function(){return k.yc(n),k.dc(7).onChange()})),k.Sb(),k.Qb()}if(2&e){var i=k.dc(4).$implicit;k.Bb(1),k.kc("binary",!0)("formControlName",i.field)}}function Xe(e,t){if(1&e){var n=k.Ub();k.Rb(0),k.Tb(1,"input",38),k.bc("change",(function(){return k.yc(n),k.dc(7).onChange()})),k.Sb(),k.Qb()}if(2&e){var i=k.dc(4).$implicit;k.Bb(1),k.kc("formControlName",i.field)}}function We(e,t){if(1&e){var n=k.Ub();k.Rb(0),k.Tb(1,"p-calendar",39),k.bc("onShow",(function(){return k.yc(n),k.dc(7).onShowCalendar()}))("onSelect",(function(){return k.yc(n),k.dc(7).onChange()}))("onBlur",(function(){return k.yc(n),k.dc(7).onBlurCalendar()})),k.Sb(),k.Qb()}if(2&e){var i=k.dc(4).$implicit;k.Bb(1),k.Dc(k.nc(5,Je)),k.kc("formControlName",i.field)("showButtonBar",!0)("inputStyle",k.nc(6,Je))}}function Ye(e,t){if(1&e){var n=k.Ub();k.Rb(0),k.Tb(1,"p-calendar",40),k.bc("onShow",(function(){return k.yc(n),k.dc(7).onShowCalendar()}))("onSelect",(function(){return k.yc(n),k.dc(7).onChange()}))("onBlur",(function(){return k.yc(n),k.dc(7).onBlurCalendar()})),k.Sb(),k.Qb()}if(2&e){var i=k.dc(4).$implicit;k.Bb(1),k.Dc(k.nc(5,Je)),k.kc("formControlName",i.field)("inputStyle",k.nc(6,Je))("timeOnly",!0)}}function Ze(e,t){if(1&e){var n=k.Ub();k.Rb(0),k.Tb(1,"p-calendar",41),k.bc("onShow",(function(){return k.yc(n),k.dc(7).onShowCalendar()}))("onSelect",(function(){return k.yc(n),k.dc(7).onChange()}))("onBlur",(function(){return k.yc(n),k.dc(7).onBlurCalendar()})),k.Sb(),k.Qb()}if(2&e){var i=k.dc(4).$implicit;k.Bb(1),k.Dc(k.nc(5,Je)),k.kc("formControlName",i.field)("showButtonBar",!0)("inputStyle",k.nc(6,Je))}}function et(e,t){if(1&e){var n=k.Ub();k.Rb(0),k.Tb(1,"input",42),k.bc("change",(function(){return k.yc(n),k.dc(7).onChange()})),k.Sb(),k.Qb()}if(2&e){var i=k.dc(4).$implicit;k.Bb(1),k.kc("maxlength",i.maxlength)("formControlName",i.field)}}function tt(e,t){1&e&&(k.Tb(0,"span",30),k.Hc(1,"*"),k.Sb())}function nt(e,t){if(1&e&&(k.Rb(0,15),k.Fc(1,Ke,2,5,"ng-container",34),k.Fc(2,Ge,2,5,"ng-container",34),k.Fc(3,qe,2,2,"ng-container",34),k.Fc(4,Xe,2,1,"ng-container",34),k.Fc(5,We,2,7,"ng-container",34),k.Fc(6,Ye,2,7,"ng-container",34),k.Fc(7,Ze,2,7,"ng-container",34),k.Fc(8,et,2,2,"ng-container",27),k.Qb(),k.Fc(9,tt,2,0,"span",28)),2&e){var n=k.dc(3).$implicit,i=k.dc(3);k.kc("ngSwitch",n.type),k.Bb(1),k.kc("ngSwitchCase","OneToMany"),k.Bb(1),k.kc("ngSwitchCase","ManyToMany"),k.Bb(1),k.kc("ngSwitchCase","Boolean"),k.Bb(1),k.kc("ngSwitchCase","Number"),k.Bb(1),k.kc("ngSwitchCase","Date"),k.Bb(1),k.kc("ngSwitchCase","Time"),k.Bb(1),k.kc("ngSwitchCase","DateTime"),k.Bb(2),k.kc("ngIf",!0===i.isRequired(n.field))}}function it(e,t){if(1&e&&(k.Rb(0),k.Hc(1),k.Qb()),2&e){var n=k.dc(5).$implicit,i=k.dc().$implicit;k.Bb(1),k.Jc(" ",null==i[n.field]?null:i[n.field].display," ")}}function at(e,t){if(1&e&&(k.Rb(0),k.Hc(1),k.Qb()),2&e){var n=k.dc(5).$implicit,i=k.dc().$implicit,a=k.dc(2);k.Bb(1),k.Jc(" ",a.formatDisplayName(i[n.field])," ")}}function ct(e,t){if(1&e&&(k.Rb(0),k.Hc(1),k.ec(2,"date"),k.Qb()),2&e){var n=k.dc(5).$implicit,i=k.dc().$implicit;k.Bb(1),k.Jc(" ",!0===n.isDate?k.gc(2,1,i[n.field],n.formatDate):i[n.field]," ")}}function ot(e,t){if(1&e&&(k.Rb(0),k.Rb(1,15),k.Fc(2,it,2,1,"ng-container",34),k.Fc(3,at,2,1,"ng-container",34),k.Fc(4,ct,3,4,"ng-container",27),k.Qb(),k.Qb()),2&e){var n=k.dc(4).$implicit;k.Bb(1),k.kc("ngSwitch",n.type),k.Bb(1),k.kc("ngSwitchCase","OneToMany"),k.Bb(1),k.kc("ngSwitchCase","ManyToMany")}}function rt(e,t){if(1&e&&k.Fc(0,ot,5,3,"ng-container",9),2&e){var n=k.dc(4).$implicit,i=k.dc(2);k.kc("ngIf",!0!==i.isFooter(n))}}function lt(e,t){if(1&e&&(k.Fc(0,nt,10,9,"ng-template",32),k.Fc(1,rt,1,1,"ng-template",null,33,k.Gc)),2&e){var n=k.xc(2),i=k.dc(2).$implicit;k.kc("ngIf",!0===i.isEditable)("ngIfElse",n)}}function st(e,t){1&e&&k.Fc(0,lt,3,2,"ng-template",26)}function ut(e,t){1&e&&(k.Tb(0,"label"),k.Hc(1,"-"),k.Sb())}function bt(e,t){if(1&e&&k.Fc(0,ut,2,0,"label",9),2&e){var n=k.dc(3).$implicit;k.kc("ngIf",!0===n.isEditable)}}function pt(e,t){if(1&e&&(k.Rb(0),k.Hc(1),k.Qb()),2&e){var n=k.dc(4).$implicit,i=k.dc().$implicit;k.Bb(1),k.Jc(" ",null==i[n.field]?null:i[n.field].display," ")}}function dt(e,t){if(1&e&&(k.Rb(0),k.Hc(1),k.Qb()),2&e){var n=k.dc(4).$implicit,i=k.dc().$implicit,a=k.dc(2);k.Bb(1),k.Jc(" ",a.formatDisplayName(i[n.field])," ")}}function ft(e,t){1&e&&k.Ob(0,"i",45)}function ht(e,t){if(1&e&&(k.Rb(0),k.Fc(1,ft,1,0,"i",44),k.Qb()),2&e){var n=k.dc(4).$implicit,i=k.dc().$implicit;k.Bb(1),k.kc("ngIf",!0===i[n.field])}}function gt(e,t){if(1&e&&(k.Rb(0),k.Hc(1),k.ec(2,"date"),k.Qb()),2&e){var n=k.dc(4).$implicit,i=k.dc().$implicit;k.Bb(1),k.Jc(" ",!0===n.isDate?k.gc(2,1,i[n.field],n.formatDate):i[n.field]," ")}}function mt(e,t){if(1&e&&(k.Rb(0,15),k.Fc(1,pt,2,1,"ng-container",34),k.Fc(2,dt,2,1,"ng-container",34),k.Fc(3,ht,2,1,"ng-container",34),k.Fc(4,gt,3,4,"ng-container",27),k.Qb()),2&e){var n=k.dc(3).$implicit;k.kc("ngSwitch",n.type),k.Bb(1),k.kc("ngSwitchCase","OneToMany"),k.Bb(1),k.kc("ngSwitchCase","ManyToMany"),k.Bb(1),k.kc("ngSwitchCase","Boolean")}}function yt(e,t){if(1&e&&(k.Fc(0,bt,1,1,"ng-template",32),k.Fc(1,mt,5,4,"ng-template",null,43,k.Gc)),2&e){var n=k.xc(2),i=k.dc(3).$implicit,a=k.dc(2);k.kc("ngIf",!0===a.isFooter(i))("ngIfElse",n)}}function vt(e,t){1&e&&k.Fc(0,yt,3,2,"ng-template",31)}function St(e,t){if(1&e){var n=k.Ub();k.Tb(0,"td",25),k.bc("click",(function(){k.yc(n);var e=k.dc().$implicit;return k.dc(2).initEditableRow(e)})),k.Tb(1,"p-cellEditor"),k.Fc(2,He,1,0,void 0,9),k.Fc(3,Ue,1,0,void 0,9),k.Fc(4,st,1,0,void 0,9),k.Fc(5,vt,1,0,void 0,9),k.Sb(),k.Sb()}if(2&e){var i=t.$implicit,a=k.dc(3);k.Bb(2),k.kc("ngIf",!0===a.isSpecificInput(i.field)),k.Bb(1),k.kc("ngIf",!0===a.isSpecificInput(i.field)),k.Bb(1),k.kc("ngIf",!0!==a.isSpecificInput(i.field)),k.Bb(1),k.kc("ngIf",!0!==a.isSpecificInput(i.field))}}function Ot(e,t){if(1&e){var n=k.Ub();k.Tb(0,"tr",19),k.bc("focusout",(function(){return k.yc(n),k.dc(2).onFocusout()}))("keyup.enter",(function(){return k.yc(n),k.dc(2).initEditableRow(null)}))("keyup.escape",(function(){return k.yc(n),k.dc(2).cancel()})),k.Fc(1,Ne,3,2,"td",9),k.Fc(2,St,6,4,"td",20),k.Sb()}if(2&e){var i=t.$implicit,a=t.columns,c=k.dc(2);k.kc("pSelectableRow",!0!==c.isFooter(i)?i:null)("pEditableRow",i),k.Bb(1),k.kc("ngIf",c.canSelectElement),k.Bb(1),k.kc("ngForOf",a)}}function Ct(e,t){if(1&e&&(k.Tb(0,"tr"),k.Tb(1,"td",46),k.Hc(2),k.ec(3,"translate"),k.Sb(),k.Sb()),2&e){var n=t.$implicit;k.Bb(1),k.Cb("colspan",n.length+1),k.Bb(1),k.Jc(" ",k.fc(3,2,"bia.NoRecordsFound")," ")}}function Tt(e,t){if(1&e){var n=k.Ub();k.Tb(0,"p-table",2,3),k.bc("onFilter",(function(){return k.yc(n),k.dc().onFilter()}))("onLazyLoad",(function(e){return k.yc(n),k.dc().onLoadLazy(e)}))("onStateSave",(function(e){return k.yc(n),k.dc().onStateSave(e)}))("selectionChange",(function(){return k.yc(n),k.dc().onSelectionChange()})),k.ec(2,"async"),k.Fc(3,Ae,4,3,"ng-template",4),k.Fc(4,Ot,3,4,"ng-template",5),k.Fc(5,Ct,4,4,"ng-template",6),k.Sb()}if(2&e){var i=k.dc();k.kc("autoLayout",!0)("reorderableColumns",!0)("columns",i.displayedColumns)("value",i.elements)("paginator",i.paginator)("rows",i.pageSize)("totalRecords",i.totalRecord)("lazy",!0)("loading",i.loading&&null!==k.fc(2,14,i.showLoading$))("stateStorage","session")("stateKey",i.tableStateKey)("lazyLoadOnInit",i.getLazyLoadOnInit())("sortField",i.sortFieldValue)("sortOrder",i.sortOrderValue)}}var kt,wt=((kt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,c){var o;return _classCallCheck(this,n),(o=t.call(this,e,i,a,c)).formBuilder=e,o.authService=i,o.biaMessageService=a,o.translateService=c,o.initForm(),o}return _createClass(n,[{key:"initForm",value:function(){var e;this.form=this.formBuilder.group({id:[this.element.id],msn:[this.element.msn,fe.o.required],isActive:[this.element.isActive],firstFlightDate:[this.element.firstFlightDate,fe.o.required],firstFlightTime:[this.element.firstFlightTime,fe.o.required],lastFlightDate:[this.element.lastFlightDate],capacity:[this.element.capacity,fe.o.required],connectingAirports:[this.element.connectingAirports],planeType:[null===(e=this.element.planeType)||void 0===e?void 0:e.id]})}},{key:"onSubmit",value:function(){var e;if(this.form.valid){var t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=he.a.Differential(t.connectingAirports,null===(e=this.element)||void 0===e?void 0:e.connectingAirports),t.planeType=he.a.Clone(t.planeType),this.save.emit(t),this.form.reset()}}}]),n}(ge.a)).\u0275fac=function(e){return new(e||kt)(k.Nb(fe.b),k.Nb(G.a),k.Nb(H.a),k.Nb(se.d))},kt.\u0275cmp=k.Hb({type:kt,selectors:[["app-plane-table"]],features:[k.yb],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","md-inputfield",4,"ngIf"],[1,"md-inputfield"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","ui-icon-check",4,"ngIf"],[1,"ui-icon-check"],[1,"app-empty-message"]],template:function(e,t){1&e&&(k.Tb(0,"form",0),k.Fc(1,Tt,6,16,"p-table",1),k.Sb()),2&e&&(k.kc("formGroup",t.form),k.Bb(1),k.kc("ngIf",t.configuration))},directives:[fe.p,fe.k,fe.f,de.m,me.f,ye.e,de.l,me.h,me.e,me.d,de.o,ve.a,de.k,Se.a,me.c,me.b,me.g,me.a,de.q,fe.a,fe.j,fe.e,de.p,Oe.a,Ce.a,Te.a,fe.m,ke.a,we.a,fe.h],pipes:[de.b,se.c,de.e],styles:["[_nghost-%COMP%]{flex-direction:column}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),kt);function jt(e,t){if(1&e){var n=k.Ub();k.Tb(0,"bia-table",6),k.bc("edit",(function(e){return k.yc(n),k.dc().onEdit(e)}))("loadLazy",(function(e){return k.yc(n),k.dc().onLoadLazy(e)}))("selectedElementsChanged",(function(e){return k.yc(n),k.dc().onSelectedElementsChanged(e)})),k.ec(1,"async"),k.ec(2,"async"),k.ec(3,"async"),k.Sb()}if(2&e){var i=k.dc();k.kc("elements",k.fc(1,12,i.planes$))("totalRecord",k.fc(2,14,i.totalCount$))("columnToDisplays",i.displayedColumns)("pageSize",i.pageSize)("configuration",i.tableConfiguration)("showColSearch",i.showColSearch)("globalSearchValue",i.globalSearchValue)("canEdit",i.canEdit)("canSelectElement",i.canDelete)("loading",k.fc(3,16,i.loading$))("viewPreference",i.viewPreference)("tableStateKey",i.tableStateKey)}}function Ft(e,t){if(1&e){var n=k.Ub();k.Tb(0,"app-plane-table",7),k.bc("loadLazy",(function(e){return k.yc(n),k.dc().onLoadLazy(e)}))("selectedElementsChanged",(function(e){return k.yc(n),k.dc().onSelectedElementsChanged(e)}))("save",(function(e){return k.yc(n),k.dc().onSave(e)})),k.ec(1,"async"),k.ec(2,"async"),k.ec(3,"async"),k.ec(4,"async"),k.Sb()}if(2&e){var i=k.dc();k.kc("elements",k.fc(1,14,i.planes$))("dictOptionDtos",k.fc(2,16,i.planeOptionsService.dictOptionDtos$))("totalRecord",k.fc(3,18,i.totalCount$))("columnToDisplays",i.displayedColumns)("pageSize",i.pageSize)("configuration",i.tableConfiguration)("showColSearch",i.showColSearch)("globalSearchValue",i.globalSearchValue)("canEdit",i.canEdit)("canAdd",i.canAdd)("canSelectElement",i.canDelete)("loading",k.fc(4,20,i.loading$))("viewPreference",i.viewPreference)("tableStateKey",i.tableStateKey)}}var It,Bt,_t,Pt,Dt=((It=function(){function e(t,n,i,a,c,o,r,l,s){_classCallCheck(this,e),this.store=t,this.router=n,this.activatedRoute=i,this.authService=a,this.planeDas=c,this.translateService=o,this.biaTranslationService=r,this.planesSignalRService=l,this.planeOptionsService=s,this.useCalcMode=!0,this.useSignalR=!1,this.useView=!1,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=K.b,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.tableStateKey=this.useView?"planesGrid":""}return _createClass(e,[{key:"ngOnInit",value:function(){this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(M).pipe(),this.totalCount$=this.store.select(L).pipe(),this.loading$=this.store.select(z).pipe(),this.OnDisplay(),this.useCalcMode&&this.planeOptionsService.loadAllOptions()}},{key:"ngOnDestroy",value:function(){this.OnHide()}},{key:"OnDisplay",value:function(){void 0!==this.planeListComponent&&this.store.dispatch(f({event:this.planeListComponent.getLazyLoadMetadata()})),this.useView&&this.store.dispatch(Object(te.g)()),this.useSignalR&&(this.planesSignalRService.initialize(),Q.useSignalR=!0)}},{key:"OnHide",value:function(){this.useSignalR&&(Q.useSignalR=!1,this.planesSignalRService.destroy())}},{key:"onCreate",value:function(){this.useCalcMode||this.router.navigate(["../create"],{relativeTo:this.activatedRoute})}},{key:"onEdit",value:function(e){this.useCalcMode||this.router.navigate(["../"+e+"/edit"],{relativeTo:this.activatedRoute})}},{key:"onSave",value:function(e){this.useCalcMode&&((null==e?void 0:e.id)>0?this.canEdit&&this.store.dispatch(m({plane:e})):this.canAdd&&this.store.dispatch(g({plane:e})))}},{key:"onDelete",value:function(){this.selectedPlanes&&this.canDelete&&this.store.dispatch(v({ids:this.selectedPlanes.map((function(e){return e.id}))}))}},{key:"onSelectedElementsChanged",value:function(e){this.selectedPlanes=e}},{key:"onPageSizeChange",value:function(e){this.pageSize=e}},{key:"onLoadLazy",value:function(e){this.store.dispatch(f({event:e}))}},{key:"searchGlobalChanged",value:function(e){this.globalSearchValue=e}},{key:"displayedColumnsChanged",value:function(e){this.displayedColumns=e}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(e){this.viewPreference=e}},{key:"onExportCSV",value:function(){var e=this,t={};this.columns.map((function(n){return t[n.value.split(".")[1]]=e.translateService.instant(n.value)}));var n=Object.assign({columns:t},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(n).subscribe((function(t){q.saveAs(t,e.translateService.instant("app.planes")+".csv")}))}},{key:"setPermissions",value:function(){this.canEdit=this.authService.hasPermission(W.a.Plane_Update),this.canDelete=this.authService.hasPermission(W.a.Plane_Delete),this.canAdd=this.authService.hasPermission(W.a.Plane_Create)}},{key:"initTableConfiguration",value:function(){var e=this;this.biaTranslationService.culture$.subscribe((function(t){e.tableConfiguration={columns:[new J.b("msn","plane.msn"),Object.assign(new J.b("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:J.c.Boolean}),Object.assign(new J.b("firstFlightDate","plane.firstFlightDate"),{type:J.c.Date,formatDate:t.dateFormat}),Object.assign(new J.b("firstFlightTime","plane.firstFlightTime"),{isSearchable:!1,isSortable:!1,type:J.c.Time,formatDate:t.timeFormat}),Object.assign(new J.b("lastFlightDate","plane.lastFlightDate"),{type:J.c.DateTime,formatDate:t.dateTimeFormat}),Object.assign(new J.b("capacity","plane.capacity"),{type:J.c.Number,filterMode:J.a.Equals}),Object.assign(new J.b("planeType","plane.planeType"),{type:J.c.OneToMany}),Object.assign(new J.b("connectingAirports","plane.connectingAirports"),{type:J.c.ManyToMany})]},e.columns=e.tableConfiguration.columns.map((function(e){return{key:e.field,value:e.header}})),e.displayedColumns=_toConsumableArray(e.columns)}))}}]),e}()).\u0275fac=function(e){return new(e||It)(k.Nb(c.b),k.Nb(a.c),k.Nb(a.a),k.Nb(G.a),k.Nb(w),k.Nb(se.d),k.Nb(X.a),k.Nb(ee),k.Nb(le))},It.\u0275cmp=k.Hb({type:It,selectors:[["app-planes-index"]],viewQuery:function(e,t){var n;1&e&&k.Lc(U.a,!0),2&e&&k.wc(n=k.cc())&&(t.planeListComponent=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&k.Fb("bia-flex",t.flex)},decls:8,vars:16,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","tableStateKey","edit","loadLazy","selectedElementsChanged",4,"ngIf"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save",4,"ngIf"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","tableStateKey","edit","loadLazy","selectedElementsChanged"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save"]],template:function(e,t){1&e&&(k.Tb(0,"div",0),k.Tb(1,"div",1),k.Tb(2,"bia-table-header",2),k.bc("create",(function(){return t.onCreate()}))("exportCSV",(function(){return t.onExportCSV()}))("delete",(function(){return t.onDelete()})),k.ec(3,"translate"),k.Sb(),k.Tb(4,"bia-table-controller",3),k.bc("displayedColumnsChange",(function(e){return t.displayedColumnsChanged(e)}))("filter",(function(e){return t.searchGlobalChanged(e)}))("pageSizeChange",(function(e){return t.onPageSizeChange(e)}))("toggleSearch",(function(){return t.onToggleSearch()}))("viewChange",(function(e){return t.onViewChange(e)})),k.ec(5,"async"),k.Sb(),k.Fc(6,jt,4,18,"bia-table",4),k.Fc(7,Ft,5,22,"app-plane-table",5),k.Sb(),k.Sb()),2&e&&(k.Bb(2),k.kc("headerTitle",k.fc(3,12,"plane.listOf"))("canAdd",t.canAdd&&!t.useCalcMode)("canDelete",t.canDelete)("canExportCSV",!0)("selectedElements",t.selectedPlanes),k.Bb(2),k.kc("defaultPageSize",t.defaultPageSize)("length",k.fc(5,14,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns)("tableStateKey",t.tableStateKey),k.Bb(2),k.kc("ngIf",!t.useCalcMode),k.Bb(1),k.kc("ngIf",t.useCalcMode))},directives:[ue.d,ue.b,be.a,pe.a,de.m,U.a,wt],pipes:[se.c,de.b],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),It),Rt=n("PCNd"),$t=n("jIHw"),At=function(){return{width:"100%"}},Lt=function(){return{width:"100%"}},Et=((_t=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.plane={},this.save=new k.n,this.cancel=new k.n,this.initForm()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.plane&&(this.form.reset(),this.plane&&this.form.patchValue(Object.assign({},this.plane)))}},{key:"initForm",value:function(){var e;this.form=this.formBuilder.group({id:[this.plane.id],msn:[this.plane.msn,fe.o.required],isActive:[this.plane.isActive],firstFlightDate:[this.plane.firstFlightDate,fe.o.required],firstFlightTime:[this.plane.firstFlightTime,fe.o.required],lastFlightDate:[this.plane.lastFlightDate],capacity:[this.plane.capacity,fe.o.required],connectingAirports:[this.plane.connectingAirports],planeType:[null===(e=this.plane.planeType)||void 0===e?void 0:e.id]})}},{key:"onCancel",value:function(){this.form.reset(),this.cancel.next()}},{key:"onSubmit",value:function(){var e;if(this.form.valid){var t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=he.a.Differential(t.connectingAirports,null===(e=this.plane)||void 0===e?void 0:e.connectingAirports),t.planeType=he.a.Clone(t.planeType),this.save.emit(t),this.form.reset()}}}]),e}()).\u0275fac=function(e){return new(e||_t)(k.Nb(fe.b))},_t.\u0275cmp=k.Hb({type:_t,selectors:[["app-plane-form"]],inputs:{plane:"plane",airportOptions:"airportOptions",planeTypeOptions:"planeTypeOptions"},outputs:{save:"save",cancel:"cancel"},features:[k.zb],decls:67,vars:59,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"md-inputfield"],["formControlName","msn","type","text","pInputText","","maxlength","64",2,"width","100%"],[1,"bia-star-mandatory"],["binary","true","formControlName","isActive",3,"label"],["biaLocale","","formControlName","firstFlightDate","placeholder","\xa0","dateFormat","yy-mm-dd",3,"showButtonBar","inputStyle"],["formControlName","firstFlightTime","showTime","true","placeholder","\xa0",3,"timeOnly","inputStyle"],["biaLocale","","formControlName","lastFlightDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0",3,"inputStyle"],["formControlName","capacity","type","number","pInputText","",2,"width","100%"],["placeholder","\xa0","formControlName","planeType","optionLabel","display","datakey","id",3,"options","showClear"],["defaultLabel","\xa0","formControlName","connectingAirports","optionLabel","display","datakey","id",3,"options","virtualScroll"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"ui-button-secondary",3,"label","click"]],template:function(e,t){1&e&&(k.Tb(0,"form",0),k.bc("submit",(function(){return t.onSubmit()})),k.Tb(1,"div",1),k.Tb(2,"div",2),k.Tb(3,"span",3),k.Ob(4,"input",4),k.Tb(5,"label"),k.Tb(6,"span",5),k.Hc(7,"*"),k.Sb(),k.Hc(8),k.ec(9,"translate"),k.Sb(),k.Sb(),k.Sb(),k.Sb(),k.Tb(10,"div",1),k.Tb(11,"div",2),k.Ob(12,"p-checkbox",6),k.ec(13,"translate"),k.Sb(),k.Sb(),k.Tb(14,"div",1),k.Tb(15,"div",2),k.Tb(16,"span",3),k.Ob(17,"p-calendar",7),k.Tb(18,"label"),k.Tb(19,"span",5),k.Hc(20,"*"),k.Sb(),k.Hc(21),k.ec(22,"translate"),k.Sb(),k.Sb(),k.Sb(),k.Sb(),k.Tb(23,"div",1),k.Tb(24,"div",2),k.Tb(25,"span",3),k.Ob(26,"p-calendar",8),k.Tb(27,"label"),k.Tb(28,"span",5),k.Hc(29,"*"),k.Sb(),k.Hc(30),k.ec(31,"translate"),k.Sb(),k.Sb(),k.Sb(),k.Sb(),k.Tb(32,"div",1),k.Tb(33,"div",2),k.Tb(34,"span",3),k.Ob(35,"p-calendar",9),k.Tb(36,"label"),k.Hc(37),k.ec(38,"translate"),k.Sb(),k.Sb(),k.Sb(),k.Sb(),k.Tb(39,"div",1),k.Tb(40,"div",2),k.Tb(41,"span",3),k.Ob(42,"input",10),k.Tb(43,"label"),k.Tb(44,"span",5),k.Hc(45,"*"),k.Sb(),k.Hc(46),k.ec(47,"translate"),k.Sb(),k.Sb(),k.Sb(),k.Sb(),k.Tb(48,"div",1),k.Tb(49,"div",2),k.Tb(50,"span",3),k.Ob(51,"p-dropdown",11),k.Tb(52,"label"),k.Hc(53),k.ec(54,"translate"),k.Sb(),k.Sb(),k.Sb(),k.Sb(),k.Tb(55,"div",1),k.Tb(56,"div",2),k.Tb(57,"span",3),k.Ob(58,"p-multiSelect",12),k.Tb(59,"label"),k.Hc(60),k.ec(61,"translate"),k.Sb(),k.Sb(),k.Sb(),k.Sb(),k.Tb(62,"div",13),k.Ob(63,"button",14),k.ec(64,"translate"),k.Tb(65,"button",15),k.bc("click",(function(){return t.onCancel()})),k.ec(66,"translate"),k.Sb(),k.Sb(),k.Sb()),2&e&&(k.kc("formGroup",t.form),k.Bb(8),k.Ic(k.fc(9,31,"plane.msn")),k.Bb(4),k.lc("label",k.fc(13,33,"plane.isActive")),k.Bb(5),k.Dc(k.nc(51,At)),k.kc("showButtonBar",!0)("inputStyle",k.nc(52,At)),k.Bb(4),k.Ic(k.fc(22,35,"plane.firstFlightDate")),k.Bb(5),k.Dc(k.nc(53,At)),k.kc("timeOnly",!0)("inputStyle",k.nc(54,At)),k.Bb(4),k.Ic(k.fc(31,37,"plane.firstFlightTime")),k.Bb(5),k.Dc(k.nc(55,At)),k.kc("inputStyle",k.nc(56,At)),k.Bb(2),k.Ic(k.fc(38,39,"plane.lastFlightDate")),k.Bb(9),k.Ic(k.fc(47,41,"plane.capacity")),k.Bb(5),k.Dc(k.nc(57,Lt)),k.kc("options",t.planeTypeOptions)("showClear",!0),k.Bb(2),k.Ic(k.fc(54,43,"plane.planeType")),k.Bb(5),k.Dc(k.nc(58,Lt)),k.kc("options",t.airportOptions)("virtualScroll",!0),k.Bb(2),k.Ic(k.fc(61,45,"plane.connectingAirports")),k.Bb(3),k.lc("label",k.fc(64,47,"bia.save")),k.kc("disabled",!t.form.valid),k.Bb(2),k.lc("label",k.fc(66,49,"bia.cancel")))},directives:[fe.p,fe.k,ue.d,fe.f,ue.c,ue.b,fe.a,fe.j,fe.e,ve.a,fe.h,Te.a,ke.a,we.a,fe.m,Oe.a,Ce.a,ue.e,$t.b],pipes:[se.c],styles:[".app-field-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}"]}),_t),Nt=((Bt=function(){function e(t,n,i,a){_classCallCheck(this,e),this.store=t,this.router=n,this.activatedRoute=i,this.planeOptionsService=a}return _createClass(e,[{key:"ngOnInit",value:function(){this.planeOptionsService.loadAllOptions()}},{key:"onSubmitted",value:function(e){this.store.dispatch(g({plane:e})),this.router.navigate(["../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}]),e}()).\u0275fac=function(e){return new(e||Bt)(k.Nb(c.b),k.Nb(a.c),k.Nb(a.a),k.Nb(le))},Bt.\u0275cmp=k.Hb({type:Bt,selectors:[["app-plane-new"]],decls:3,vars:6,consts:[[3,"airportOptions","planeTypeOptions","cancel","save"]],template:function(e,t){1&e&&(k.Tb(0,"app-plane-form",0),k.bc("cancel",(function(){return t.onCancelled()}))("save",(function(e){return t.onSubmitted(e)})),k.ec(1,"async"),k.ec(2,"async"),k.Sb()),2&e&&k.kc("airportOptions",k.fc(1,2,t.planeOptionsService.airportOptions$))("planeTypeOptions",k.fc(2,4,t.planeOptionsService.planeTypeOptions$))},directives:[Et],pipes:[de.b],styles:[""]}),Bt),xt=n("quSY"),zt=((Pt=function(){function e(t){_classCallCheck(this,e),this.store=t,this.sub=new xt.a,this.InitSub(),this.loading$=this.store.select(x),this.plane$=this.store.select(E)}return _createClass(e,[{key:"InitSub",value:function(){var e=this;this.sub=new xt.a,this.sub.add(this.store.select(E).subscribe((function(t){t&&(e._currentPlane=t)})))}},{key:"currentPlane",get:function(){var e;return(null===(e=this._currentPlane)||void 0===e?void 0:e.id)===this._currentPlaneId?this._currentPlane:null}},{key:"currentPlaneId",get:function(){return this._currentPlaneId},set:function(e){this._currentPlaneId=Number(e),this.store.dispatch(h({id:e}))}}]),e}()).\u0275fac=function(e){return new(e||Pt)(k.Xb(c.b))},Pt.\u0275prov=k.Jb({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),Pt),Mt=n("y0gQ");function Ht(e,t){1&e&&k.Ob(0,"bia-spinner",2),2&e&&k.kc("overlay",!0)}var Vt,Qt=((Vt=function(){function e(t,n,i,a,c){_classCallCheck(this,e),this.store=t,this.router=n,this.activatedRoute=i,this.planeOptionsService=a,this.planeService=c,this.displayChange=new k.n,this.sub=new xt.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.planeOptionsService.loadAllOptions()}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(m({plane:e})),this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}}]),e}()).\u0275fac=function(e){return new(e||Vt)(k.Nb(c.b),k.Nb(a.c),k.Nb(a.a),k.Nb(le),k.Nb(zt))},Vt.\u0275cmp=k.Hb({type:Vt,selectors:[["app-plane-edit"]],outputs:{displayChange:"displayChange"},decls:6,vars:12,consts:[[3,"plane","airportOptions","planeTypeOptions","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(k.Tb(0,"app-plane-form",0),k.bc("cancel",(function(){return t.onCancelled()}))("save",(function(e){return t.onSubmitted(e)})),k.ec(1,"async"),k.ec(2,"async"),k.ec(3,"async"),k.Sb(),k.Fc(4,Ht,1,1,"bia-spinner",1),k.ec(5,"async")),2&e&&(k.kc("plane",k.fc(1,4,t.planeService.plane$))("airportOptions",k.fc(2,6,t.planeOptionsService.airportOptions$))("planeTypeOptions",k.fc(3,8,t.planeOptionsService.planeTypeOptions$)),k.Bb(4),k.kc("ngIf",k.fc(5,10,t.planeService.loading$)))},directives:[Et,de.m,Mt.a],pipes:[de.b],styles:[""]}),Vt),Ut=n("+dww"),Jt=n("95+j");function Kt(e,t){1&e&&k.Ob(0,"bia-spinner",1),2&e&&k.kc("overlay",!0)}var Gt,qt,Xt=((Gt=function(){function e(t,n,i,a){_classCallCheck(this,e),this.store=t,this.route=n,this.planeService=i,this.layoutService=a,this.sub=new xt.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.planeService.currentPlaneId=this.route.snapshot.params.planeId,this.sub.add(this.store.select(E).subscribe((function(t){(null==t?void 0:t.msn)&&(e.route.data.pipe(Object(Y.a)()).subscribe((function(e){e.breadcrumb=t.msn})),e.layoutService.refreshBreadcrumb())})))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Gt)(k.Nb(c.b),k.Nb(a.a),k.Nb(zt),k.Nb(Jt.a))},Gt.\u0275cmp=k.Hb({type:Gt,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(k.Ob(0,"router-outlet"),k.Fc(1,Kt,1,1,"bia-spinner",0),k.ec(2,"async")),2&e&&(k.Bb(1),k.kc("ngIf",k.fc(2,1,t.planeService.loading$)))},directives:[a.g,de.m,Mt.a],pipes:[de.b],styles:[""]}),Gt),Wt=n("PW2p"),Yt=n("iW9+"),Zt=n("ONFI"),en=n("8NO8"),tn=[{path:"",data:{breadcrumb:null,permission:W.a.Plane_List_Access,InjectComponent:Dt},component:Yt.a,canActivate:[Ut.a],children:[{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:W.a.Plane_Create,title:"plane.add",InjectComponent:Nt},component:Wt.a,canActivate:[Ut.a]},{path:":planeId",data:{breadcrumb:"",canNavigate:!0},component:Xt,canActivate:[Ut.a],children:[{path:"edit",data:{breadcrumb:"bia.edit",canNavigate:!0,permission:W.a.Plane_Update,title:"plane.edit",InjectComponent:Qt},component:Wt.a,canActivate:[Ut.a]},{path:"",redirectTo:"edit"}]}]},{path:"**",redirectTo:""}],nn=((qt=function e(){_classCallCheck(this,e)}).\u0275mod=k.Lb({type:qt}),qt.\u0275inj=k.Kb({factory:function(e){return new(e||qt)},imports:[[Rt.a,a.f.forChild(tn),c.d.forFeature("planes",_),o.b.forFeature([Q]),Zt.a,en.a]]}),qt)}}]);