function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var c=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(o){c=!0,a=o}finally{try{r||null==s.return||s.return()}finally{if(c)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{hPRj:function(e,t,n){"use strict";n.r(t),n.d(t,"UserModule",(function(){return et}));var r=n("tyNb"),c=n("kt0X"),a=n("snw9"),i=n("LRne"),s=n("wO+i"),o=n("eIep"),u=n("lJxs"),l=n("JIr8"),b=n("bOdf"),f=n("zp1y"),p=Object(c.h)("[Users] Load all by post",Object(c.m)()),d=Object(c.h)("[Users] Load",Object(c.m)()),h=Object(c.h)("[Users] Create",Object(c.m)()),y=Object(c.h)("[Users] Update",Object(c.m)()),m=Object(c.h)("[Users] Remove",Object(c.m)()),v=Object(c.h)("[Users] Multi Remove",Object(c.m)()),g=Object(c.h)("[Users] Save",Object(c.m)()),O=Object(c.h)("[Users] Synchronize"),j=(Object(c.h)("[Users] Load all success",Object(c.m)()),Object(c.h)("[Users] Load all by post success",Object(c.m)())),S=Object(c.h)("[Users] Load success",Object(c.m)()),C=(Object(c.h)("[Users] Create success",Object(c.m)()),Object(c.h)("[Users] Update success",Object(c.m)()),Object(c.h)("[Users] Remove success",Object(c.m)()),Object(c.h)("[Users] Failure",Object(c.m)())),k=n("Fx2S"),w=n("eoMB"),_=n("EVqC"),D=Object(_.a)({selectId:function(e){return e.id},sortComparer:!1}),T=D.getInitialState({totalCount:0,currentUser:{},lastLazyLoadEvent:{}}),A=Object(c.j)(T,Object(c.l)(j,(function(e,t){var n=t.result,r=t.event,c=D.setAll(n.data,e);return c.currentUser={},c.totalCount=n.totalCount,c.lastLazyLoadEvent=r,c})),Object(c.l)(S,(function(e,t){var n=t.user;return Object.assign(Object.assign({},e),{currentUser:n})})));function U(e,t){return Object(c.f)({users:A})(e,t)}var L,E=Object(c.i)("users"),x=Object(c.k)(E,(function(e){return e.users})),z=Object(c.k)(x,(function(e){return e.totalCount})),B=(Object(c.k)(x,(function(e){return e.currentUser})),Object(c.k)(x,(function(e){return e.lastLazyLoadEvent}))),F=D.getSelectors(x).selectAll,P=n("qweb"),I=n("fXoL"),N=((L=function e(t,n,r,c,k){var w=this;_classCallCheck(this,e),this.actions$=t,this.userDas=n,this.userFromADDas=r,this.biaMessageService=c,this.store=k,this.loadAllByPost$=Object(a.c)((function(){return w.actions$.pipe(Object(a.d)(p),Object(s.a)("event"),Object(o.a)((function(e){return w.userDas.getListByPost(e).pipe(Object(u.a)((function(t){return j({result:t,event:e})})),Object(l.a)((function(e){return w.biaMessageService.showError(),Object(i.a)(C({err:{concern:"CREATE",error:e}}))})))})))})),this.load$=Object(a.c)((function(){return w.actions$.pipe(Object(a.d)(d),Object(s.a)("id"),Object(o.a)((function(e){return w.userDas.get(e).pipe(Object(u.a)((function(e){return S({user:e})})))})))})),this.synchronize$=Object(a.c)((function(){return w.actions$.pipe(Object(a.d)(O),Object(b.a)((function(e){return Object(i.a)(e).pipe(Object(f.a)(w.store.select(B)))})),Object(o.a)((function(e){var t=_slicedToArray(e,2),n=(t[0],t[1]);return w.userDas.synchronize().pipe(Object(u.a)((function(){return w.biaMessageService.showSyncSuccess(),p({event:n})})),Object(l.a)((function(e){return w.biaMessageService.showError(),Object(i.a)(C({err:{concern:"CREATE",error:e}}))})))})))})),this.create$=Object(a.c)((function(){return w.actions$.pipe(Object(a.d)(h),Object(s.a)("user"),Object(b.a)((function(e){return Object(i.a)(e).pipe(Object(f.a)(w.store.select(B)))})),Object(o.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return w.userDas.post(n).pipe(Object(u.a)((function(){return w.biaMessageService.showAddSuccess(),p({event:r})})),Object(l.a)((function(e){return w.biaMessageService.showError(),Object(i.a)(C({err:{concern:"CREATE",error:e}}))})))})))})),this.update$=Object(a.c)((function(){return w.actions$.pipe(Object(a.d)(y),Object(s.a)("user"),Object(b.a)((function(e){return Object(i.a)(e).pipe(Object(f.a)(w.store.select(B)))})),Object(o.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return w.userDas.put(n,n.id).pipe(Object(u.a)((function(){return w.biaMessageService.showUpdateSuccess(),p({event:r})})),Object(l.a)((function(e){return w.biaMessageService.showError(),Object(i.a)(C({err:{concern:"CREATE",error:e}}))})))})))})),this.destroy$=Object(a.c)((function(){return w.actions$.pipe(Object(a.d)(m),Object(s.a)("id"),Object(b.a)((function(e){return Object(i.a)(e).pipe(Object(f.a)(w.store.select(B)))})),Object(o.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return w.userDas.delete(n).pipe(Object(u.a)((function(){return w.biaMessageService.showDeleteSuccess(),p({event:r})})),Object(l.a)((function(e){return w.biaMessageService.showError(),Object(i.a)(C({err:{concern:"CREATE",error:e}}))})))})))})),this.multiDestroy$=Object(a.c)((function(){return w.actions$.pipe(Object(a.d)(v),Object(s.a)("ids"),Object(b.a)((function(e){return Object(i.a)(e).pipe(Object(f.a)(w.store.select(B)))})),Object(o.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return w.userDas.deletes(n).pipe(Object(u.a)((function(){return w.biaMessageService.showDeleteSuccess(),p({event:r})})),Object(l.a)((function(e){return w.biaMessageService.showError(),Object(i.a)(C({err:{concern:"CREATE",error:e}}))})))})))})),this.save$=Object(a.c)((function(){return w.actions$.pipe(Object(a.d)(g),Object(s.a)("usersFromAD"),Object(b.a)((function(e){return Object(i.a)(e).pipe(Object(f.a)(w.store.select(B)))})),Object(o.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return w.userFromADDas.save(n,"").pipe(Object(u.a)((function(){return w.biaMessageService.showAddSuccess(),p({event:r})})),Object(l.a)((function(e){return 303===e.status?w.biaMessageService.showErrorDetail(e.error):w.biaMessageService.showError(),Object(i.a)(C({err:{concern:"CREATE",error:e}}))})))})))}))}).\u0275fac=function(e){return new(e||L)(I.Xb(a.a),I.Xb(w.a),I.Xb(P.a),I.Xb(k.a),I.Xb(c.b))},L.\u0275prov=I.Jb({token:L,factory:L.\u0275fac}),L),R=n("Sa1B"),M=n("VfrA"),$=n("s0Cq"),V=n("E6Oa"),X=n("RdrV"),J=n("XiUz"),H=n("7zfz"),G=n("jIms"),q=n("ofXK"),W=n("Nf9I"),K=n("jIHw"),Q=n("xlun"),Y=n("sYmb");function Z(e,t){if(1&e){var n=I.Ub();I.Tb(0,"button",9),I.bc("click",(function(){return I.yc(n),I.dc(2).toggleFilter()})),I.ec(1,"translate"),I.Sb()}2&e&&I.lc("pTooltip",I.fc(1,1,"msg.showFilters"))}function ee(e,t){if(1&e){var n=I.Ub();I.Tb(0,"button",10),I.bc("click",(function(){return I.yc(n),I.dc(2).toggleFilter()})),I.ec(1,"translate"),I.Sb()}2&e&&I.lc("pTooltip",I.fc(1,1,"msg.showFilters"))}function te(e,t){if(1&e&&(I.Rb(0),I.Fc(1,Z,2,3,"button",7),I.Fc(2,ee,2,3,"button",8),I.Qb()),2&e){var n=I.dc();I.Bb(1),I.kc("ngIf",!1===n.showFilter&&!1===n.haveFilter),I.Bb(1),I.kc("ngIf",!1===n.showFilter&&!0===n.haveFilter)}}function ne(e,t){if(1&e){var n=I.Ub();I.Tb(0,"button",11),I.bc("click",(function(){return I.yc(n),I.dc().onDelete()})),I.ec(1,"translate"),I.Sb()}if(2&e){var r=I.dc();I.lc("label",I.fc(1,2,"bia.delete")),I.kc("disabled",0===r.nbSelectedElements)}}function re(e,t){if(1&e){var n=I.Ub();I.Tb(0,"button",12),I.bc("click",(function(){return I.yc(n),I.dc().onBack()})),I.ec(1,"translate"),I.Sb()}2&e&&I.lc("label",I.fc(1,1,"bia.back"))}function ce(e,t){if(1&e){var n=I.Ub();I.Tb(0,"button",13),I.bc("click",(function(){return I.yc(n),I.dc().exportCSV.emit()})),I.Sb()}}function ae(e,t){if(1&e){var n=I.Ub();I.Tb(0,"button",12),I.bc("click",(function(){return I.yc(n),I.dc().synchronize.emit()})),I.ec(1,"translate"),I.Sb()}2&e&&I.lc("label",I.fc(1,1,"bia.synchronize"))}function ie(e,t){if(1&e){var n=I.Ub();I.Tb(0,"button",14),I.bc("click",(function(){return I.yc(n),I.dc().onCreate()})),I.ec(1,"translate"),I.Sb()}2&e&&I.lc("label",I.fc(1,1,"bia.add"))}var se,oe=((se=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).canSync=!1,e.synchronize=new I.n,e}return n}(G.a)).\u0275fac=function(e){return ue(e||se)},se.\u0275cmp=I.Hb({type:se,selectors:[["app-user-table-header"]],inputs:{canSync:"canSync"},outputs:{synchronize:"synchronize"},features:[I.Ab([H.a]),I.yb],decls:13,vars:7,consts:[["fxLayout","row","fxLayoutAlign","space-between",1,"header"],["fxLayout","row","fxLayoutGap","8px","fxLayoutAlign","stretch center"],[4,"ngIf"],["pButton","",3,"disabled","label","click",4,"ngIf"],["pButton","","class","ui-button-secondary",3,"label","click",4,"ngIf"],["pButton","","class","ui-button-secondary","label","CSV",3,"click",4,"ngIf"],["pButton","",3,"label","click",4,"ngIf"],["type","button","icon","ui-icon-filter-list","class","ui-button-secondary flat","pButton","",3,"pTooltip","click",4,"ngIf"],["type","button","icon","ui-icon-filter-list","pButton","",3,"pTooltip","click",4,"ngIf"],["type","button","icon","ui-icon-filter-list","pButton","",1,"ui-button-secondary","flat",3,"pTooltip","click"],["type","button","icon","ui-icon-filter-list","pButton","",3,"pTooltip","click"],["pButton","",3,"disabled","label","click"],["pButton","",1,"ui-button-secondary",3,"label","click"],["pButton","","label","CSV",1,"ui-button-secondary",3,"click"],["pButton","",3,"label","click"]],template:function(e,t){1&e&&(I.Tb(0,"div",0),I.Tb(1,"div",1),I.Fc(2,te,3,2,"ng-container",2),I.Fc(3,ne,2,4,"button",3),I.Sb(),I.Tb(4,"div",1),I.Tb(5,"h1"),I.Hc(6),I.Sb(),I.Sb(),I.Tb(7,"div",1),I.Fc(8,re,2,3,"button",4),I.Fc(9,ce,1,0,"button",5),I.Fc(10,ae,2,3,"button",4),I.Fc(11,ie,2,3,"button",6),I.Sb(),I.Sb(),I.Ob(12,"p-confirmDialog")),2&e&&(I.Bb(2),I.kc("ngIf",t.showBtnFilter),I.Bb(1),I.kc("ngIf",t.canDelete),I.Bb(3),I.Ic(t.headerTitle),I.Bb(2),I.kc("ngIf",t.canBack),I.Bb(1),I.kc("ngIf",t.canExportCSV),I.Bb(1),I.kc("ngIf",t.canSync),I.Bb(1),I.kc("ngIf",t.canAdd))},directives:[J.d,J.c,J.e,q.m,W.a,K.b,Q.a],pipes:[Y.c],styles:[".header[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:raleway-thin,serif;font-size:36px;font-weight:200;margin:0}",""]}),se),ue=I.Vb(oe),le=n("v8MJ"),be=n("mrSG"),fe=n("l3C6"),pe=n("ylIW"),de=Object(c.h)("[Domain LDAP Domains] Load all"),he=Object(c.h)("[Domain LDAP Domains] Load all success",Object(c.m)()),ye=Object(c.h)("[Domain LDAP Domains] Failure",Object(c.m)()),me=Object(_.a)({selectId:function(e){return e.ldapName},sortComparer:!1}),ve=me.getInitialState({}),ge=Object(c.j)(ve,Object(c.l)(he,(function(e,t){var n=t.ldapDomains;return me.setAll(n,e)})));function Oe(e,t){return Object(c.f)({ldapDomain:ge})(e,t)}var je,Se,Ce,ke,we,_e,De,Te,Ae=Object(c.i)("domain-ldap-domains"),Ue=Object(c.k)(Ae,(function(e){return e.ldapDomain})),Le=me.getSelectors(Ue).selectAll,Ee=n("/RsI"),xe=n("3Pt+"),ze=n("arFO"),Be=n("V5BG"),Fe=function(){return{width:"50%"}},Pe=function(){return{width:"100%"}},Ie=((je=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.searchUsers=new I.n,this.save=new I.n,this.cancel=new I.n,this.initForm()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.users&&e.users&&(this.users=this.users.sort((function(e,t){return e.firstName.localeCompare(t.firstName)})))}},{key:"initForm",value:function(){this.form=this.formBuilder.group({selectedUsers:[this.selectedUsers,xe.o.required],domains:[this.domains]})}},{key:"onCancel",value:function(){this.reset(),this.cancel.next()}},{key:"onSubmit",value:function(){this.form.valid&&(this.save.emit(this.form.value.selectedUsers),this.reset())}},{key:"reset",value:function(){this.selectedDomain="",this.form.reset()}},{key:"onSearchUsers",value:function(e){this.searchUsers.emit({filter:e.query,ldapName:this.selectedDomain})}},{key:"onDomainChange",value:function(e){this.selectedDomain=e.value?e.value.ldapName:""}}]),e}()).\u0275fac=function(e){return new(e||je)(I.Nb(xe.b))},je.\u0275cmp=I.Hb({type:je,selectors:[["app-user-form"]],inputs:{users:"users",domains:"domains"},outputs:{searchUsers:"searchUsers",save:"save",cancel:"cancel"},features:[I.zb],decls:11,vars:25,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","column","fxLayoutAlign","flex-start",1,"ui-fluid","app-field-container"],["placeholder","LDAP Domain","formControlName","domains","optionLabel","displayName","showClear","true",3,"options","onChange"],["formControlName","selectedUsers","field","displayName",3,"multiple","suggestions","delay","size","minLength","placeholder","inputStyle","completeMethod"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"ui-button-secondary",3,"label","click"]],template:function(e,t){1&e&&(I.Tb(0,"form",0),I.bc("submit",(function(){return t.onSubmit()})),I.Tb(1,"div",1),I.Tb(2,"p-dropdown",2),I.bc("onChange",(function(e){return t.onDomainChange(e)})),I.Sb(),I.Ob(3,"br"),I.Tb(4,"p-autoComplete",3),I.bc("completeMethod",(function(e){return t.onSearchUsers(e)})),I.ec(5,"translate"),I.Sb(),I.Sb(),I.Tb(6,"div",4),I.Ob(7,"button",5),I.ec(8,"translate"),I.Tb(9,"button",6),I.bc("click",(function(){return t.onCancel()})),I.ec(10,"translate"),I.Sb(),I.Sb(),I.Sb()),2&e&&(I.kc("formGroup",t.form),I.Bb(2),I.Dc(I.nc(22,Fe)),I.kc("options",t.domains),I.Bb(2),I.Dc(I.nc(23,Fe)),I.lc("placeholder",I.fc(5,16,"bia.select")),I.kc("multiple",!0)("suggestions",t.users)("delay",700)("size",30)("minLength",3)("inputStyle",I.nc(24,Pe)),I.Bb(3),I.lc("label",I.fc(8,18,"bia.save")),I.kc("disabled",!t.form.valid),I.Bb(2),I.lc("label",I.fc(10,20,"bia.cancel")))},directives:[xe.p,xe.k,J.d,xe.f,J.c,ze.a,xe.j,xe.e,Be.a,J.e,K.b],pipes:[Y.c],styles:[".app-field-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}"],changeDetection:0}),je),Ne=function(){return{minWidth:"50vw"}},Re=function(){return{overflow:"auto"}},Me=((Ce=function(){function e(t){_classCallCheck(this,e),this.store=t,this._display=!1,this.displayChange=new I.n}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(be.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.usersFromAD$=this.store.select(pe.a).pipe(),this.ldapDomains$=this.store.select(Le).pipe(),this.store.dispatch(de());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onSubmitted",value:function(e){this.store.dispatch(g({usersFromAD:e})),this.close()}},{key:"onCancelled",value:function(){this.close()}},{key:"close",value:function(){this.display=!1}},{key:"onSearchUsers",value:function(e){this.store.dispatch(Object(fe.b)({userFilter:e}))}},{key:"display",set:function(e){this._display=e,this.displayChange.emit(this._display)}}]),e}()).\u0275fac=function(e){return new(e||Ce)(I.Nb(c.b))},Ce.\u0275cmp=I.Hb({type:Ce,selectors:[["app-user-new-dialog"]],inputs:{display:"display"},outputs:{displayChange:"displayChange"},decls:7,vars:20,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"users","domains","searchUsers","cancel","save"]],template:function(e,t){1&e&&(I.Tb(0,"p-dialog",0),I.bc("visibleChange",(function(e){return t._display=e})),I.Tb(1,"p-header"),I.Hc(2),I.ec(3,"translate"),I.Sb(),I.Tb(4,"app-user-form",1),I.bc("searchUsers",(function(e){return t.onSearchUsers(e)}))("cancel",(function(){return t.onCancelled()}))("save",(function(e){return t.onSubmitted(e)})),I.ec(5,"async"),I.ec(6,"async"),I.Sb(),I.Sb()),2&e&&(I.Dc(I.nc(18,Ne)),I.kc("focusOnShow",!1)("visible",t._display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",I.nc(19,Re)),I.Bb(2),I.Jc(" ",I.fc(3,12,"user.add")," "),I.Bb(2),I.kc("users",I.fc(5,14,t.usersFromAD$))("domains",I.fc(6,16,t.ldapDomains$)))},directives:[Ee.a,H.c,Ie],pipes:[Y.c,q.b],styles:[""]}),Ce),$e=((Se=function(){function e(t,n){_classCallCheck(this,e),this.store=t,this.authService=n,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.pageSize=$.b,this.displayEditUserDialog=!1,this.displayNewUserDialog=!1,this.canSync=!1,this.canDelete=!1,this.canAdd=!1,this.tableConfiguration={columns:[new M.b("lastName","user.lastName"),new M.b("firstName","user.firstName"),new M.b("login","user.login")]},this.columns=this.tableConfiguration.columns.map((function(e){return{key:e.field,value:e.header}})),this.displayedColumns=this.columns}return _createClass(e,[{key:"ngOnInit",value:function(){this.setPermissions(),this.users$=this.store.select(F).pipe(),this.totalCount$=this.store.select(z).pipe()}},{key:"onCreate",value:function(){this.displayNewUserDialog=!0}},{key:"onDelete",value:function(){this.selectedUsers&&this.store.dispatch(v({ids:this.selectedUsers.map((function(e){return e.id}))}))}},{key:"onSelectedElementsChanged",value:function(e){this.selectedUsers=e}},{key:"onPageSizeChange",value:function(e){this.pageSize=e}},{key:"onLoadLazy",value:function(e){this.lastLazyLoadEvent=e,this.store.dispatch(p({event:e}))}},{key:"searchGlobalChanged",value:function(e){this.globalSearchValue=e}},{key:"displayedColumnsChanged",value:function(e){this.displayedColumns=e}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onSynchronize",value:function(){this.store.dispatch(O())}},{key:"onViewChange",value:function(e){this.viewPreference=e}},{key:"setPermissions",value:function(){this.canSync=this.authService.hasPermission(X.a.User_Sync),this.canDelete=this.authService.hasPermission(X.a.User_Delete),this.canAdd=this.authService.hasPermission(X.a.User_Add)}}]),e}()).\u0275fac=function(e){return new(e||Se)(I.Nb(c.b),I.Nb(V.a))},Se.\u0275cmp=I.Hb({type:Se,selectors:[["app-users-index"]],viewQuery:function(e,t){var n;1&e&&I.Lc(R.a,!0),2&e&&I.wc(n=I.cc())&&(t.userListComponent=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&I.Fb("bia-flex",t.flex)},decls:10,vars:27,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canSync","canAdd","selectedElements","create","synchronize","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","viewPreference","loadLazy","selectedElementsChanged"],[3,"display","displayChange"]],template:function(e,t){1&e&&(I.Tb(0,"div",0),I.Tb(1,"div",1),I.Tb(2,"app-user-table-header",2),I.bc("create",(function(){return t.onCreate()}))("synchronize",(function(){return t.onSynchronize()}))("delete",(function(){return t.onDelete()})),I.ec(3,"translate"),I.Sb(),I.Tb(4,"bia-table-controller",3),I.bc("displayedColumnsChange",(function(e){return t.displayedColumnsChanged(e)}))("filter",(function(e){return t.searchGlobalChanged(e)}))("pageSizeChange",(function(e){return t.onPageSizeChange(e)}))("toggleSearch",(function(){return t.onToggleSearch()}))("viewChange",(function(e){return t.onViewChange(e)})),I.ec(5,"async"),I.Sb(),I.Tb(6,"bia-table",4),I.bc("loadLazy",(function(e){return t.onLoadLazy(e)}))("selectedElementsChanged",(function(e){return t.onSelectedElementsChanged(e)})),I.ec(7,"async"),I.ec(8,"async"),I.Sb(),I.Sb(),I.Sb(),I.Tb(9,"app-user-new-dialog",5),I.bc("displayChange",(function(e){return t.displayNewUserDialog=e})),I.Sb()),2&e&&(I.Bb(2),I.kc("headerTitle",I.fc(3,19,"user.listOf"))("canSync",t.canSync)("canAdd",t.canAdd)("selectedElements",t.selectedUsers),I.Bb(2),I.kc("defaultPageSize",t.pageSize)("length",I.fc(5,21,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),I.Bb(2),I.kc("elements",I.fc(7,23,t.users$))("totalRecord",I.fc(8,25,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",!1)("canSelectElement",t.canDelete)("viewPreference",t.viewPreference),I.Bb(3),I.kc("display",t.displayNewUserDialog))},directives:[J.d,J.b,oe,le.a,R.a,Me],pipes:[Y.c,q.b],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),Se),Ve=n("PCNd"),Xe=n("mCVk"),Je=n("qq1s"),He=n("mijV"),Ge=n("+dww"),qe=n("dlt+"),We=((De=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"formatDisplayNameFromObs",value:function(e){var t=this;return e.pipe(Object(u.a)((function(e){return t.formatDisplayNames(e)})))}},{key:"formatDisplayNames",value:function(e){var t=this;return e.forEach((function(e){e=t.formatDisplayName(e)})),e}},{key:"formatDisplayName",value:function(e){return e.displayName="".concat(e.name," (").concat(e.ldapName,")"),e}}]),e}()).\u0275fac=function(e){return new(e||De)},De.\u0275prov=I.Jb({token:De,factory:De.\u0275fac,providedIn:"root"}),De),Ke=((_e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var c;return _classCallCheck(this,n),(c=t.call(this,e,"ldapDomains")).ldapDomainService=r,c}return _createClass(n,[{key:"getAll",value:function(){return this.ldapDomainService.formatDisplayNameFromObs(this.http.get(this.route))}}]),n}(qe.a)).\u0275fac=function(e){return new(e||_e)(I.Xb(I.r),I.Xb(We))},_e.\u0275prov=I.Jb({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e),Qe=((we=function e(t,n,r){var c=this;_classCallCheck(this,e),this.actions$=t,this.ldapDomainDas=n,this.biaMessageService=r,this.loadAll$=Object(a.c)((function(){return c.actions$.pipe(Object(a.d)(de),Object(o.a)((function(e){return c.ldapDomainDas.getAll().pipe(Object(u.a)((function(e){return he({ldapDomains:e})})),Object(l.a)((function(e){return c.biaMessageService.showError(),Object(i.a)(ye({error:e}))})))})))}))}).\u0275fac=function(e){return new(e||we)(I.Xb(a.a),I.Xb(Ke),I.Xb(k.a))},we.\u0275prov=I.Jb({token:we,factory:we.\u0275fac}),we),Ye=((ke=function e(){_classCallCheck(this,e)}).\u0275mod=I.Lb({type:ke}),ke.\u0275inj=I.Kb({factory:function(e){return new(e||ke)},imports:[[c.d.forFeature("domain-ldap-domains",Oe),a.b.forFeature([Qe])]]}),ke),Ze=[{path:"",data:{breadcrumb:null,permission:X.a.User_List_Access},component:$e,canActivate:[Ge.a]},{path:"**",redirectTo:""}],et=((Te=function e(){_classCallCheck(this,e)}).\u0275mod=I.Lb({type:Te}),Te.\u0275inj=I.Kb({factory:function(e){return new(e||Te)},imports:[[Ve.a,Ye,r.f.forChild(Ze),c.d.forFeature("users",U),c.d.forFeature("domain-users",Xe.b),c.d.forFeature("domain-users-from-AD",pe.b),c.d.forFeature("domain-ldap-domains",Oe),a.b.forFeature([N]),a.b.forFeature([Je.a]),a.b.forFeature([He.a]),a.b.forFeature([Qe])]]}),Te)}}]);