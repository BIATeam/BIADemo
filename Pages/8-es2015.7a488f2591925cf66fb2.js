(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{oYOr:function(e,t,n){"use strict";n.r(t),n.d(t,"PlaneModule",(function(){return yt}));var c=n("tyNb"),i=n("kt0X"),a=n("snw9"),o=n("LRne"),l=n("wO+i"),s=n("eIep"),r=n("lJxs"),b=n("JIr8"),d=n("bOdf"),p=n("zp1y");const u=Object(i.h)("[Planes] Load all by post (CalcMode)",Object(i.m)()),f=Object(i.h)("[Planes] Load (CalcMode)",Object(i.m)()),h=Object(i.h)("[Planes] Create (CalcMode)",Object(i.m)()),g=Object(i.h)("[Planes] Update (CalcMode)",Object(i.m)()),m=Object(i.h)("[Planes] Remove (CalcMode)",Object(i.m)()),S=Object(i.h)("[Planes] Multi Remove (CalcMode)",Object(i.m)()),y=Object(i.h)("[Planes] Load all by post success (CalcMode)",Object(i.m)()),O=Object(i.h)("[Planes] Load success (CalcMode)",Object(i.m)()),C=Object(i.h)("[Planes] Failure (CalcMode)",Object(i.m)());var j=n("dlt+"),w=n("fXoL");let v=(()=>{class e extends j.a{constructor(e){super(e,"Planes")}}return e.\u0275fac=function(t){return new(t||e)(w.Xb(w.r))},e.\u0275prov=w.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var F=n("EVqC");const k=Object(F.a)({selectId:e=>e.id,sortComparer:!1}),T=k.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),B=Object(i.j)(T,Object(i.l)(u,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!0})),Object(i.l)(f,e=>Object.assign(Object.assign({},e),{loadingGet:!0})),Object(i.l)(y,(e,{result:t,event:n})=>{const c=k.setAll(t.data,e);return c.currentPlane={},c.totalCount=t.totalCount,c.lastLazyLoadEvent=n,c.loadingGetAll=!1,c}),Object(i.l)(O,(e,{plane:t})=>Object.assign(Object.assign({},e),{currentPlane:t,loadingGet:!1})),Object(i.l)(C,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})));function $(e,t){return Object(i.f)({planes:B})(e,t)}const I=Object(i.i)("planes-mode-calc"),D=Object(i.k)(I,e=>e.planes),P=Object(i.k)(D,e=>e.totalCount),L=(Object(i.k)(D,e=>e.currentPlane),Object(i.k)(D,e=>e.lastLazyLoadEvent)),M=(Object(i.k)(D,e=>e.loadingGet),Object(i.k)(D,e=>e.loadingGetAll)),{selectAll:E}=k.getSelectors(D);var R=n("Fx2S");let x=(()=>{class e{constructor(e,t,n,c){this.actions$=e,this.planeDas=t,this.biaMessageService=n,this.store=c,this.loadAllByPost$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(u),Object(l.a)("event"),Object(s.a)(e=>this.planeDas.getListByPost(e).pipe(Object(r.a)(t=>y({result:t,event:e})),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(C({error:e})))))))),this.load$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(f),Object(l.a)("id"),Object(s.a)(e=>this.planeDas.get(e).pipe(Object(r.a)(e=>O({plane:e})),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(C({error:e})))))))),this.create$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(h),Object(l.a)("plane"),Object(d.a)(e=>Object(o.a)(e).pipe(Object(p.a)(this.store.select(L)))),Object(s.a)(([e,t])=>this.planeDas.post(e).pipe(Object(r.a)(()=>(this.biaMessageService.showAddSuccess(),u({event:t}))),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(C({error:e})))))))),this.update$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(g),Object(l.a)("plane"),Object(d.a)(e=>Object(o.a)(e).pipe(Object(p.a)(this.store.select(L)))),Object(s.a)(([e,t])=>this.planeDas.put(e,e.id).pipe(Object(r.a)(()=>(this.biaMessageService.showUpdateSuccess(),u({event:t}))),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(C({error:e})))))))),this.destroy$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(m),Object(l.a)("id"),Object(d.a)(e=>Object(o.a)(e).pipe(Object(p.a)(this.store.select(L)))),Object(s.a)(([e,t])=>this.planeDas.delete(e).pipe(Object(r.a)(()=>(this.biaMessageService.showDeleteSuccess(),u({event:t}))),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(C({error:e})))))))),this.multiDestroy$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(S),Object(l.a)("ids"),Object(d.a)(e=>Object(o.a)(e).pipe(Object(p.a)(this.store.select(L)))),Object(s.a)(([e,t])=>this.planeDas.deletes(e).pipe(Object(r.a)(()=>(this.biaMessageService.showDeleteSuccess(),u({event:t}))),Object(b.a)(e=>(this.biaMessageService.showError(),Object(o.a)(C({error:e}))))))))}}return e.\u0275fac=function(t){return new(t||e)(w.Xb(a.a),w.Xb(v),w.Xb(R.a),w.Xb(i.b))},e.\u0275prov=w.Jb({token:e,factory:e.\u0275fac}),e})();var N=n("itXk"),z=n("Sa1B"),A=n("VfrA"),Q=n("s0Cq"),V=n("E6Oa"),H=n("Iab2"),U=n("RoCi"),J=n("RdrV"),G=n("dnD0"),_=n("oIZ+"),q=n("060v"),X=n("UONQ"),K=n("i0YE"),Y=n("sYmb"),Z=n("XiUz"),W=n("jIms"),ee=n("v8MJ"),te=n("3Pt+"),ne=n("gT8a"),ce=n("/ZTc"),ie=n("ofXK"),ae=n("rEr+"),oe=n("7zfz"),le=n("7kUa"),se=n("znSr"),re=n("arFO"),be=n("lVkt"),de=n("Ji6n"),pe=n("eO1q"),ue=n("PjIi");function fe(e,t){1&e&&(w.Tb(0,"th",10),w.Ob(1,"p-tableHeaderCheckbox"),w.Sb())}function he(e,t){if(1&e&&(w.Tb(0,"th",12),w.Hc(1),w.ec(2,"translate"),w.Ob(3,"p-sortIcon",13),w.Sb()),2&e){const e=w.dc().$implicit;w.kc("pSortableColumn",e.field),w.Bb(1),w.Jc(" ",w.fc(2,3,null==e?null:e.header)," "),w.Bb(2),w.kc("field",e.field)}}function ge(e,t){if(1&e&&(w.Tb(0,"th"),w.Hc(1),w.ec(2,"translate"),w.Sb()),2&e){const e=w.dc().$implicit;w.Bb(1),w.Jc(" ",w.fc(2,1,null==e?null:e.header)," ")}}function me(e,t){if(1&e&&(w.Rb(0),w.Fc(1,he,4,5,"th",11),w.Fc(2,ge,3,3,"th",9),w.Qb()),2&e){const e=t.$implicit;w.Bb(1),w.kc("ngIf",!0===(null==e?null:e.isSortable)),w.Bb(1),w.kc("ngIf",!0!==(null==e?null:e.isSortable))}}function Se(e,t){1&e&&w.Ob(0,"th")}const ye=function(e){return{"ui-state-filled":e}};function Oe(e,t){if(1&e){const e=w.Ub();w.Tb(0,"span",17),w.Tb(1,"input",18),w.bc("input",(function(t){w.yc(e);const n=w.dc().$implicit;return w.dc(3),w.xc(1).filter(t.target.value,n.field,n.filterMode)})),w.ec(2,"translate"),w.Sb(),w.Sb()}if(2&e){const e=w.dc().$implicit;w.dc(3);const t=w.xc(1);w.Bb(1),w.lc("type","Number"===e.type?"number":"text"),w.lc("placeholder",!0===e.isDate?w.fc(2,4,"bia.dateIso8601"):""),w.kc("value",null==t.filters[e.field]?null:t.filters[e.field].value)("ngClass",w.oc(6,ye,""!=(null==t.filters[e.field]?null:t.filters[e.field].value)))}}function Ce(e,t){if(1&e&&(w.Tb(0,"th",15),w.Fc(1,Oe,3,8,"span",16),w.Sb()),2&e){const e=t.$implicit;w.kc("ngSwitch",e.field),w.Bb(1),w.kc("ngIf",!0===e.isSearchable)}}function je(e,t){if(1&e&&(w.Tb(0,"tr"),w.Fc(1,Se,1,0,"th",9),w.Fc(2,Ce,2,2,"th",14),w.Sb()),2&e){const e=w.dc().$implicit,t=w.dc(2);w.Bb(1),w.kc("ngIf",t.canSelectElement),w.Bb(1),w.kc("ngForOf",e)}}function we(e,t){if(1&e&&(w.Tb(0,"tr"),w.Fc(1,fe,2,0,"th",7),w.Fc(2,me,3,2,"ng-container",8),w.Sb(),w.Fc(3,je,3,2,"tr",9)),2&e){const e=t.$implicit,n=w.dc(2);w.Bb(1),w.kc("ngIf",n.canSelectElement),w.Bb(1),w.kc("ngForOf",e),w.Bb(1),w.kc("ngIf",n.showColSearch)}}function ve(e,t){if(1&e&&w.Ob(0,"p-tableCheckbox",23),2&e){const e=w.dc(2).$implicit;w.kc("value",e)}}function Fe(e,t){1&e&&w.Ob(0,"i",24)}function ke(e,t){if(1&e&&(w.Tb(0,"td"),w.Fc(1,ve,1,1,"p-tableCheckbox",21),w.Fc(2,Fe,1,0,"i",22),w.Sb()),2&e){const e=w.dc().$implicit,t=w.dc(2);w.Bb(1),w.kc("ngIf",!0!==t.isFooter(e)&&e.id>0),w.Bb(1),w.kc("ngIf",!0===t.isFooter(e))}}function Te(e,t){if(1&e){const e=w.Ub();w.Rb(0),w.Tb(1,"input",29),w.bc("change",(function(){return w.yc(e),w.dc(6).onChange()})),w.Sb(),w.Qb()}if(2&e){const e=w.dc(3).$implicit;w.Bb(1),w.kc("formControlName",e.field)}}function Be(e,t){1&e&&(w.Tb(0,"span",30),w.Hc(1,"*"),w.Sb())}function $e(e,t){if(1&e&&(w.Rb(0,15),w.Fc(1,Te,2,1,"ng-container",27),w.Qb(),w.Fc(2,Be,2,0,"span",28)),2&e){const e=w.dc(2).$implicit,t=w.dc(3);w.kc("ngSwitch",e.field),w.Bb(2),w.kc("ngIf",!0===t.isRequired(e.field))}}function Ie(e,t){1&e&&w.Fc(0,$e,3,2,"ng-template",26)}function De(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.Qb()),2&e){const e=w.dc(3).$implicit,t=w.dc().$implicit;w.Bb(1),w.Jc(" ",t[e.field]," ")}}function Pe(e,t){if(1&e&&(w.Rb(0,15),w.Fc(1,De,2,1,"ng-container",27),w.Qb()),2&e){const e=w.dc(2).$implicit;w.kc("ngSwitch",e.field)}}function Le(e,t){1&e&&w.Fc(0,Pe,2,1,"ng-template",31)}const Me=function(){return{width:"100%"}};function Ee(e,t){if(1&e){const e=w.Ub();w.Rb(0),w.Tb(1,"p-dropdown",35),w.bc("onChange",(function(){return w.yc(e),w.dc(7).onChange()})),w.Sb(),w.Qb()}if(2&e){const e=w.dc(4).$implicit,t=w.dc(3);w.Bb(1),w.Dc(w.nc(4,Me)),w.kc("formControlName",e.field)("options",t.getOptionDto(e.field))}}function Re(e,t){if(1&e){const e=w.Ub();w.Rb(0),w.Tb(1,"p-multiSelect",36),w.bc("onChange",(function(){return w.yc(e),w.dc(7).onChange()}))("onPanelShow",(function(){return w.yc(e),w.dc(7).onPanelShowMultiSelect()}))("onPanelHide",(function(){return w.yc(e),w.dc(7).onPanelHideMultiSelect()})),w.Sb(),w.Qb()}if(2&e){const e=w.dc(4).$implicit,t=w.dc(3);w.Bb(1),w.Dc(w.nc(4,Me)),w.kc("formControlName",e.field)("options",t.getOptionDto(e.field))}}function xe(e,t){if(1&e){const e=w.Ub();w.Rb(0),w.Tb(1,"p-checkbox",37),w.bc("onChange",(function(){return w.yc(e),w.dc(7).onChange()})),w.Sb(),w.Qb()}if(2&e){const e=w.dc(4).$implicit;w.Bb(1),w.kc("binary",!0)("formControlName",e.field)}}function Ne(e,t){if(1&e){const e=w.Ub();w.Rb(0),w.Tb(1,"input",38),w.bc("change",(function(){return w.yc(e),w.dc(7).onChange()})),w.Sb(),w.Qb()}if(2&e){const e=w.dc(4).$implicit;w.Bb(1),w.kc("formControlName",e.field)}}function ze(e,t){if(1&e){const e=w.Ub();w.Rb(0),w.Tb(1,"p-calendar",39),w.bc("onShow",(function(){return w.yc(e),w.dc(7).onShowCalendar()}))("onSelect",(function(){return w.yc(e),w.dc(7).onChange()}))("onBlur",(function(){return w.yc(e),w.dc(7).onBlurCalendar()})),w.Sb(),w.Qb()}if(2&e){const e=w.dc(4).$implicit;w.Bb(1),w.Dc(w.nc(5,Me)),w.kc("formControlName",e.field)("showButtonBar",!0)("inputStyle",w.nc(6,Me))}}function Ae(e,t){if(1&e){const e=w.Ub();w.Rb(0),w.Tb(1,"p-calendar",40),w.bc("onShow",(function(){return w.yc(e),w.dc(7).onShowCalendar()}))("onSelect",(function(){return w.yc(e),w.dc(7).onChange()}))("onBlur",(function(){return w.yc(e),w.dc(7).onBlurCalendar()})),w.Sb(),w.Qb()}if(2&e){const e=w.dc(4).$implicit;w.Bb(1),w.Dc(w.nc(5,Me)),w.kc("formControlName",e.field)("inputStyle",w.nc(6,Me))("timeOnly",!0)}}function Qe(e,t){if(1&e){const e=w.Ub();w.Rb(0),w.Tb(1,"p-calendar",41),w.bc("onShow",(function(){return w.yc(e),w.dc(7).onShowCalendar()}))("onSelect",(function(){return w.yc(e),w.dc(7).onChange()}))("onBlur",(function(){return w.yc(e),w.dc(7).onBlurCalendar()})),w.Sb(),w.Qb()}if(2&e){const e=w.dc(4).$implicit;w.Bb(1),w.Dc(w.nc(5,Me)),w.kc("formControlName",e.field)("showButtonBar",!0)("inputStyle",w.nc(6,Me))}}function Ve(e,t){if(1&e){const e=w.Ub();w.Rb(0),w.Tb(1,"input",42),w.bc("change",(function(){return w.yc(e),w.dc(7).onChange()})),w.Sb(),w.Qb()}if(2&e){const e=w.dc(4).$implicit;w.Bb(1),w.kc("maxlength",e.maxlength)("formControlName",e.field)}}function He(e,t){1&e&&(w.Tb(0,"span",30),w.Hc(1,"*"),w.Sb())}function Ue(e,t){if(1&e&&(w.Rb(0,15),w.Fc(1,Ee,2,5,"ng-container",34),w.Fc(2,Re,2,5,"ng-container",34),w.Fc(3,xe,2,2,"ng-container",34),w.Fc(4,Ne,2,1,"ng-container",34),w.Fc(5,ze,2,7,"ng-container",34),w.Fc(6,Ae,2,7,"ng-container",34),w.Fc(7,Qe,2,7,"ng-container",34),w.Fc(8,Ve,2,2,"ng-container",27),w.Qb(),w.Fc(9,He,2,0,"span",28)),2&e){const e=w.dc(3).$implicit,t=w.dc(3);w.kc("ngSwitch",e.type),w.Bb(1),w.kc("ngSwitchCase","OneToMany"),w.Bb(1),w.kc("ngSwitchCase","ManyToMany"),w.Bb(1),w.kc("ngSwitchCase","Boolean"),w.Bb(1),w.kc("ngSwitchCase","Number"),w.Bb(1),w.kc("ngSwitchCase","Date"),w.Bb(1),w.kc("ngSwitchCase","Time"),w.Bb(1),w.kc("ngSwitchCase","DateTime"),w.Bb(2),w.kc("ngIf",!0===t.isRequired(e.field))}}function Je(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.Qb()),2&e){const e=w.dc(5).$implicit,t=w.dc().$implicit;w.Bb(1),w.Jc(" ",null==t[e.field]?null:t[e.field].display," ")}}function Ge(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.Qb()),2&e){const e=w.dc(5).$implicit,t=w.dc().$implicit,n=w.dc(2);w.Bb(1),w.Jc(" ",n.formatDisplayName(t[e.field])," ")}}function _e(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.ec(2,"date"),w.Qb()),2&e){const e=w.dc(5).$implicit,t=w.dc().$implicit;w.Bb(1),w.Jc(" ",!0===e.isDate?w.gc(2,1,t[e.field],e.formatDate):t[e.field]," ")}}function qe(e,t){if(1&e&&(w.Rb(0),w.Rb(1,15),w.Fc(2,Je,2,1,"ng-container",34),w.Fc(3,Ge,2,1,"ng-container",34),w.Fc(4,_e,3,4,"ng-container",27),w.Qb(),w.Qb()),2&e){const e=w.dc(4).$implicit;w.Bb(1),w.kc("ngSwitch",e.type),w.Bb(1),w.kc("ngSwitchCase","OneToMany"),w.Bb(1),w.kc("ngSwitchCase","ManyToMany")}}function Xe(e,t){if(1&e&&w.Fc(0,qe,5,3,"ng-container",9),2&e){const e=w.dc(4).$implicit,t=w.dc(2);w.kc("ngIf",!0!==t.isFooter(e))}}function Ke(e,t){if(1&e&&(w.Fc(0,Ue,10,9,"ng-template",32),w.Fc(1,Xe,1,1,"ng-template",null,33,w.Gc)),2&e){const e=w.xc(2),t=w.dc(2).$implicit;w.kc("ngIf",!0===t.isEditable)("ngIfElse",e)}}function Ye(e,t){1&e&&w.Fc(0,Ke,3,2,"ng-template",26)}function Ze(e,t){1&e&&(w.Tb(0,"label"),w.Hc(1,"-"),w.Sb())}function We(e,t){if(1&e&&w.Fc(0,Ze,2,0,"label",9),2&e){const e=w.dc(3).$implicit;w.kc("ngIf",!0===e.isEditable)}}function et(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.Qb()),2&e){const e=w.dc(4).$implicit,t=w.dc().$implicit;w.Bb(1),w.Jc(" ",null==t[e.field]?null:t[e.field].display," ")}}function tt(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.Qb()),2&e){const e=w.dc(4).$implicit,t=w.dc().$implicit,n=w.dc(2);w.Bb(1),w.Jc(" ",n.formatDisplayName(t[e.field])," ")}}function nt(e,t){1&e&&w.Ob(0,"i",45)}function ct(e,t){if(1&e&&(w.Rb(0),w.Fc(1,nt,1,0,"i",44),w.Qb()),2&e){const e=w.dc(4).$implicit,t=w.dc().$implicit;w.Bb(1),w.kc("ngIf",!0===t[e.field])}}function it(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.ec(2,"date"),w.Qb()),2&e){const e=w.dc(4).$implicit,t=w.dc().$implicit;w.Bb(1),w.Jc(" ",!0===e.isDate?w.gc(2,1,t[e.field],e.formatDate):t[e.field]," ")}}function at(e,t){if(1&e&&(w.Rb(0,15),w.Fc(1,et,2,1,"ng-container",34),w.Fc(2,tt,2,1,"ng-container",34),w.Fc(3,ct,2,1,"ng-container",34),w.Fc(4,it,3,4,"ng-container",27),w.Qb()),2&e){const e=w.dc(3).$implicit;w.kc("ngSwitch",e.type),w.Bb(1),w.kc("ngSwitchCase","OneToMany"),w.Bb(1),w.kc("ngSwitchCase","ManyToMany"),w.Bb(1),w.kc("ngSwitchCase","Boolean")}}function ot(e,t){if(1&e&&(w.Fc(0,We,1,1,"ng-template",32),w.Fc(1,at,5,4,"ng-template",null,43,w.Gc)),2&e){const e=w.xc(2),t=w.dc(3).$implicit,n=w.dc(2);w.kc("ngIf",!0===n.isFooter(t))("ngIfElse",e)}}function lt(e,t){1&e&&w.Fc(0,ot,3,2,"ng-template",31)}function st(e,t){if(1&e){const e=w.Ub();w.Tb(0,"td",25),w.bc("click",(function(){w.yc(e);const t=w.dc().$implicit;return w.dc(2).initEditableRow(t)})),w.Tb(1,"p-cellEditor"),w.Fc(2,Ie,1,0,void 0,9),w.Fc(3,Le,1,0,void 0,9),w.Fc(4,Ye,1,0,void 0,9),w.Fc(5,lt,1,0,void 0,9),w.Sb(),w.Sb()}if(2&e){const e=t.$implicit,n=w.dc(3);w.Bb(2),w.kc("ngIf",!0===n.isSpecificInput(e.field)),w.Bb(1),w.kc("ngIf",!0===n.isSpecificInput(e.field)),w.Bb(1),w.kc("ngIf",!0!==n.isSpecificInput(e.field)),w.Bb(1),w.kc("ngIf",!0!==n.isSpecificInput(e.field))}}function rt(e,t){if(1&e){const e=w.Ub();w.Tb(0,"tr",19),w.bc("focusout",(function(){return w.yc(e),w.dc(2).onFocusout()}))("keyup.enter",(function(){return w.yc(e),w.dc(2).initEditableRow(null)}))("keyup.escape",(function(){return w.yc(e),w.dc(2).cancel()})),w.Fc(1,ke,3,2,"td",9),w.Fc(2,st,6,4,"td",20),w.Sb()}if(2&e){const e=t.$implicit,n=t.columns,c=w.dc(2);w.kc("pSelectableRow",!0!==c.isFooter(e)?e:null)("pEditableRow",e),w.Bb(1),w.kc("ngIf",c.canSelectElement),w.Bb(1),w.kc("ngForOf",n)}}function bt(e,t){if(1&e&&(w.Tb(0,"tr"),w.Tb(1,"td",46),w.Hc(2),w.ec(3,"translate"),w.Sb(),w.Sb()),2&e){const e=t.$implicit;w.Bb(1),w.Cb("colspan",e.length+1),w.Bb(1),w.Jc(" ",w.fc(3,2,"bia.NoRecordsFound")," ")}}function dt(e,t){if(1&e){const e=w.Ub();w.Tb(0,"p-table",2,3),w.bc("onFilter",(function(){return w.yc(e),w.dc().onFilter()}))("onLazyLoad",(function(t){return w.yc(e),w.dc().onLoadLazy(t)}))("onStateSave",(function(t){return w.yc(e),w.dc().onStateSave(t)}))("selectionChange",(function(){return w.yc(e),w.dc().onSelectionChange()})),w.ec(2,"async"),w.Fc(3,we,4,3,"ng-template",4),w.Fc(4,rt,3,4,"ng-template",5),w.Fc(5,bt,4,4,"ng-template",6),w.Sb()}if(2&e){const e=w.dc();w.kc("autoLayout",!0)("reorderableColumns",!0)("columns",e.displayedColumns)("value",e.elements)("paginator",e.paginator)("rows",e.pageSize)("totalRecords",e.totalRecord)("lazy",!0)("loading",e.loading&&null!==w.fc(2,14,e.showLoading$))("stateStorage","session")("stateKey",e.tableStateKey)("lazyLoadOnInit",e.getLazyLoadOnInit())("sortField",e.sortFieldValue)("sortOrder",e.sortOrderValue)}}let pt=(()=>{class e extends ce.a{constructor(e,t,n,c){super(e,t,n,c),this.formBuilder=e,this.authService=t,this.biaMessageService=n,this.translateService=c,this.initForm()}initForm(){var e;this.form=this.formBuilder.group({id:[this.element.id],msn:[this.element.msn,te.o.required],isActive:[this.element.isActive],firstFlightDate:[this.element.firstFlightDate,te.o.required],firstFlightTime:[this.element.firstFlightTime,te.o.required],lastFlightDate:[this.element.lastFlightDate],capacity:[this.element.capacity,te.o.required],connectingAirports:[this.element.connectingAirports],planeType:[null===(e=this.element.planeType)||void 0===e?void 0:e.id]})}onSubmit(){var e;if(this.form.valid){const t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=ne.a.Differential(t.connectingAirports,null===(e=this.element)||void 0===e?void 0:e.connectingAirports),t.planeType=ne.a.Clone(t.planeType),this.save.emit(t),this.form.reset()}}}return e.\u0275fac=function(t){return new(t||e)(w.Nb(te.b),w.Nb(V.a),w.Nb(R.a),w.Nb(Y.d))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-plane-table"]],features:[w.yb],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","md-inputfield",4,"ngIf"],[1,"md-inputfield"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","ui-icon-check",4,"ngIf"],[1,"ui-icon-check"],[1,"app-empty-message"]],template:function(e,t){1&e&&(w.Tb(0,"form",0),w.Fc(1,dt,6,16,"p-table",1),w.Sb()),2&e&&(w.kc("formGroup",t.form),w.Bb(1),w.kc("ngIf",t.configuration))},directives:[te.p,te.k,te.f,ie.m,ae.f,oe.e,ie.l,ae.h,ae.e,ae.d,ie.o,le.a,ie.k,se.a,ae.c,ae.b,ae.g,ae.a,ie.q,te.a,te.j,te.e,ie.p,re.a,be.a,de.a,te.m,pe.a,ue.a,te.h],pipes:[ie.b,Y.c,ie.e],styles:["[_nghost-%COMP%]{flex-direction:column}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),e})(),ut=(()=>{class e{constructor(e,t,n,c,i){this.store=e,this.authService=t,this.planeDas=n,this.translateService=c,this.biaTranslationService=i,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=Q.b,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1}ngOnInit(){this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(E).pipe(),this.totalCount$=this.store.select(P).pipe(),this.loading$=this.store.select(M).pipe();const e=this.store.select(_.a).pipe();this.store.dispatch(Object(X.b)());const t=this.store.select(q.a).pipe();this.store.dispatch(Object(K.b)()),this.dictOptionDtos$=Object(N.a)([t,e]).pipe(Object(r.a)(e=>[new G.a("planeType",e[0]),new G.a("connectingAirports",e[1])]))}onDelete(){this.selectedPlanes&&this.canDelete&&this.store.dispatch(S({ids:this.selectedPlanes.map(e=>e.id)}))}onSave(e){(null==e?void 0:e.id)>0?this.canEdit&&this.store.dispatch(g({plane:e})):this.canAdd&&this.store.dispatch(h({plane:e}))}onSelectedElementsChanged(e){this.selectedPlanes=e}onPageSizeChange(e){this.pageSize=e}onLoadLazy(e){this.store.dispatch(u({event:e}))}searchGlobalChanged(e){this.globalSearchValue=e}displayedColumnsChanged(e){this.displayedColumns=e}onToggleSearch(){this.showColSearch=!this.showColSearch}onViewChange(e){this.viewPreference=e}onExportCSV(){const e={};this.columns.map(t=>e[t.value.split(".")[1]]=this.translateService.instant(t.value));const t=Object.assign({columns:e},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(t).subscribe(e=>{H.saveAs(e,this.translateService.instant("app.planes")+".csv")})}setPermissions(){this.canEdit=this.authService.hasPermission(J.a.Plane_Update),this.canDelete=this.authService.hasPermission(J.a.Plane_Delete),this.canAdd=this.authService.hasPermission(J.a.Plane_Create)}initTableConfiguration(){this.biaTranslationService.culture$.subscribe(e=>{this.tableConfiguration={columns:[Object.assign(new A.b("id","bia.id"),{isEditable:!1,type:A.c.Number}),new A.b("msn","plane.msn"),Object.assign(new A.b("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:A.c.Boolean}),Object.assign(new A.b("firstFlightDate","plane.firstFlightDate"),{type:A.c.Date,formatDate:e.dateFormat}),Object.assign(new A.b("firstFlightTime","plane.firstFlightTime"),{isSearchable:!1,isSortable:!1,type:A.c.Time,formatDate:e.timeFormat}),Object.assign(new A.b("lastFlightDate","plane.lastFlightDate"),{type:A.c.DateTime,formatDate:e.dateTimeFormat}),Object.assign(new A.b("capacity","plane.capacity"),{type:A.c.Number,filterMode:A.a.Equals}),Object.assign(new A.b("planeType","plane.planeType"),{type:A.c.OneToMany}),Object.assign(new A.b("connectingAirports","plane.connectingAirports"),{type:A.c.ManyToMany})]},this.columns=this.tableConfiguration.columns.map(e=>({key:e.field,value:e.header})),this.displayedColumns=[...this.columns]})}}return e.\u0275fac=function(t){return new(t||e)(w.Nb(i.b),w.Nb(V.a),w.Nb(v),w.Nb(Y.d),w.Nb(U.a))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-planes-index"]],viewQuery:function(e,t){var n;1&e&&w.Lc(z.a,!0),2&e&&w.wc(n=w.cc())&&(t.planeListComponent=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&w.Fb("bia-flex",t.flex)},decls:11,vars:33,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canExportCSV","selectedElements","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","loadLazy","selectedElementsChanged","save"]],template:function(e,t){1&e&&(w.Tb(0,"div",0),w.Tb(1,"div",1),w.Tb(2,"bia-table-header",2),w.bc("exportCSV",(function(){return t.onExportCSV()}))("delete",(function(){return t.onDelete()})),w.ec(3,"translate"),w.Sb(),w.Tb(4,"bia-table-controller",3),w.bc("displayedColumnsChange",(function(e){return t.displayedColumnsChanged(e)}))("filter",(function(e){return t.searchGlobalChanged(e)}))("pageSizeChange",(function(e){return t.onPageSizeChange(e)}))("toggleSearch",(function(){return t.onToggleSearch()}))("viewChange",(function(e){return t.onViewChange(e)})),w.ec(5,"async"),w.Sb(),w.Tb(6,"app-plane-table",4),w.bc("loadLazy",(function(e){return t.onLoadLazy(e)}))("selectedElementsChanged",(function(e){return t.onSelectedElementsChanged(e)}))("save",(function(e){return t.onSave(e)})),w.ec(7,"async"),w.ec(8,"async"),w.ec(9,"async"),w.ec(10,"async"),w.Sb(),w.Sb(),w.Sb()),2&e&&(w.Bb(2),w.kc("headerTitle",w.fc(3,21,"plane.listOf"))("canAdd",!1)("canExportCSV",!0)("selectedElements",t.selectedPlanes),w.Bb(2),w.kc("defaultPageSize",t.defaultPageSize)("length",w.fc(5,23,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),w.Bb(2),w.kc("elements",w.fc(7,25,t.planes$))("dictOptionDtos",w.fc(8,27,t.dictOptionDtos$))("totalRecord",w.fc(9,29,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",t.canEdit)("canAdd",t.canAdd)("canSelectElement",t.canDelete)("loading",w.fc(10,31,t.loading$))("viewPreference",t.viewPreference))},directives:[Z.d,Z.b,W.a,ee.a,pt],pipes:[Y.c,ie.b],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),e})();var ft=n("PCNd"),ht=n("+dww"),gt=n("ONFI"),mt=n("8NO8");const St=[{path:"",data:{breadcrumb:null,permission:J.a.Plane_List_Access},component:ut,canActivate:[ht.a]},{path:"**",redirectTo:""}];let yt=(()=>{class e{}return e.\u0275mod=w.Lb({type:e}),e.\u0275inj=w.Kb({factory:function(t){return new(t||e)},imports:[[ft.a,c.f.forChild(St),i.d.forFeature("planes-mode-calc",$),a.b.forFeature([x]),gt.a,mt.a]]}),e})()}}]);