"use strict";(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[592],{23913:function(t,e,n){n.d(e,{yp:function(){return f},nC:function(){return g},ll:function(){return l}});var s=n(80273),i=n(86710),r=n(76048);const o=(0,s.H)({selectId:t=>t.id,sortComparer:!1}),a=o.getInitialState({lastUsersAdded:[]}),u=(0,i.Lq)(a,(0,i.on)(r.d.loadAllSuccess,(t,{users:e})=>o.setAll(e,t)),(0,i.on)(r.d.userAddedInListSuccess,(t,{usersAdded:e})=>Object.assign(Object.assign({},t),{lastUsersAdded:e})));function l(t,e){return(0,i.UY)({userOptions:u})(t,e)}const c=(0,i.ZF)("domain-user-options"),d=(0,i.P1)(c,t=>t.userOptions),{selectAll:f}=o.getSelectors(d),g=(0,i.P1)(d,t=>t.lastUsersAdded)},76048:function(t,e,n){n.d(e,{d:function(){return s}});var s,i,r=n(86710);(i=s||(s={})).loadAll=(0,r.PH)("[Domain User Options] Load all"),i.loadAllSuccess=(0,r.PH)("[Domain User Options] Load all success",(0,r.Ky)()),i.loadAllByFilter=(0,r.PH)("[Domain User Options] Load all by filter",(0,r.Ky)()),i.failure=(0,r.PH)("[Domain User Options] Failure",(0,r.Ky)()),i.userAddedInListSuccess=(0,r.PH)("[Domain Users Options] Change userlist",(0,r.Ky)())},39682:function(t,e,n){n.d(e,{U:function(){return h}});var s=n(91601),i=n(86710),r=n(23913),o=n(25917),a=n(43190),u=n(88002),l=n(5304),c=n(76048),d=n(74147),f=n(37716);let g=(()=>{class t extends d.Z{constructor(t){super(t,"Users")}}return t.\u0275fac=function(e){return new(e||t)(f.LFG(f.zs3))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=n(42);let S=(()=>{class t{constructor(t,e,n){this.actions$=t,this.userDas=e,this.biaMessageService=n,this.loadAll$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(c.d.loadAll),(0,a.w)(()=>this.userDas.getList({endpoint:"allOptions"}).pipe((0,u.U)(t=>c.d.loadAllSuccess({users:t})),(0,l.K)(t=>(this.biaMessageService.showError(),(0,o.of)(c.d.failure({error:t})))))))),this.loadAllByFilter$=(0,s.GW)(()=>this.actions$.pipe((0,s.l4)(c.d.loadAllByFilter),(0,a.w)(t=>this.userDas.getList({endpoint:"allOptions",options:{params:{filter:t.filter}}}).pipe((0,u.U)(t=>c.d.loadAllSuccess({users:t})),(0,l.K)(t=>(this.biaMessageService.showError(),(0,o.of)(c.d.failure({error:t}))))))))}}return t.\u0275fac=function(e){return new(e||t)(f.LFG(s.eX),f.LFG(g),f.LFG(p.X))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[i.Aw.forFeature("domain-user-options",r.ll),s.sQ.forFeature([S])]]}),t})()},9716:function(t,e,n){n.d(e,{P:function(){return c}});var s=n(75319),i=n(39083),r=n(40136),o=n(41464),a=n(99147),u=n(37716),l=n(86710);let c=(()=>{class t{constructor(t,e){this.store=t,this.authService=e,this.sub=new s.w,this.InitSub(),this.loading$=this.store.select(o.gc)}get currentSite(){var t;return(null===(t=this._currentSite)||void 0===t?void 0:t.id)===this._currentSiteId?this._currentSite:null}get currentSiteId(){return this._currentSiteId}set currentSiteId(t){this._currentSiteId!==t&&(this._currentSiteId=Number(t),this.authService.changeCurrentTeamId(r.k0.Site,t),this.store.dispatch((0,a.zD)({id:t})))}InitSub(){this.sub=new s.w,this.sub.add(this.store.select(o.WQ).subscribe(t=>{t&&(this._currentSite=t)}))}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(l.yh),u.LFG(i.e))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},41464:function(t,e,n){n.d(e,{FN:function(){return O},WQ:function(){return g},de:function(){return y},HM:function(){return b},yG:function(){return p},gc:function(){return S},JV:function(){return h},Gz:function(){return f},ll:function(){return l}});var s=n(80273),i=n(86710),r=n(99147);const o=(0,s.H)({selectId:t=>t.id,sortComparer:!1}),a=o.getInitialState({totalCount:0,currentSite:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1,displayEditDialog:!1,displayNewDialog:!1}),u=(0,i.Lq)(a,(0,i.on)(r.xc,t=>Object.assign(Object.assign({},t),{displayNewDialog:!0})),(0,i.on)(r.fe,t=>Object.assign(Object.assign({},t),{displayNewDialog:!1})),(0,i.on)(r.zN,t=>Object.assign(Object.assign({},t),{displayEditDialog:!0})),(0,i.on)(r.iC,t=>Object.assign(Object.assign({},t),{displayEditDialog:!1})),(0,i.on)(r.rF,(t,{})=>Object.assign(Object.assign({},t),{loadingGetAll:!0})),(0,i.on)(r.zD,t=>Object.assign(Object.assign({},t),{loadingGet:!0})),(0,i.on)(r.ni,(t,{result:e,event:n})=>{const s=o.setAll(e.data,t);return s.currentSite={},s.totalCount=e.totalCount,s.lastLazyLoadEvent=n,s.loadingGetAll=!1,s}),(0,i.on)(r.T4,(t,{site:e})=>Object.assign(Object.assign({},t),{currentSite:e,loadingGet:!1})),(0,i.on)(r.Rn,(t,{})=>Object.assign(Object.assign({},t),{loadingGetAll:!1,loadingGet:!1})));function l(t,e){return(0,i.UY)({sites:u})(t,e)}const c=(0,i.ZF)("sites"),d=(0,i.P1)(c,t=>t.sites),f=(0,i.P1)(d,t=>t.totalCount),g=(0,i.P1)(d,t=>t.currentSite),p=(0,i.P1)(d,t=>t.lastLazyLoadEvent),S=(0,i.P1)(d,t=>t.loadingGet),h=(0,i.P1)(d,t=>t.loadingGetAll),y=(0,i.P1)(d,t=>t.displayEditDialog),b=(0,i.P1)(d,t=>t.displayNewDialog),{selectAll:O}=o.getSelectors(d)},99147:function(t,e,n){n.d(e,{rF:function(){return i},zD:function(){return r},Ue:function(){return o},Vx:function(){return a},Od:function(){return u},v:function(){return l},ni:function(){return c},T4:function(){return d},Rn:function(){return f},zN:function(){return g},iC:function(){return p},xc:function(){return S},fe:function(){return h}});var s=n(86710);const i=(0,s.PH)("[Sites] Load all by post",(0,s.Ky)()),r=(0,s.PH)("[Sites] Load",(0,s.Ky)()),o=(0,s.PH)("[Sites] Create",(0,s.Ky)()),a=(0,s.PH)("[Sites] Update",(0,s.Ky)()),u=(0,s.PH)("[Sites] Remove",(0,s.Ky)()),l=(0,s.PH)("[Sites] Multi Remove",(0,s.Ky)()),c=(0,s.PH)("[Sites] Load all by post success",(0,s.Ky)()),d=(0,s.PH)("[Sites] Load success",(0,s.Ky)()),f=(0,s.PH)("[Sites] Failure",(0,s.Ky)()),g=(0,s.PH)("[Sites] Open dialog edit"),p=(0,s.PH)("[Sites] Close dialog edit"),S=(0,s.PH)("[Sites] Open dialog new"),h=(0,s.PH)("[Sites] Close dialog new")}}]);