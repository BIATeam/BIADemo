"use strict";(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[708],{16249:function(e,t,i){i.d(t,{n:function(){return r}});var s=i(39083),n=i(92340),o=i(68307),a=i(37716);let r=(()=>{class e{constructor(e){this.authService=e}canActivate(e,t){return this.authService.hasPermissionObs(e.data.permission).pipe((0,o.b)(e=>{!0!==e&&(window.location.href=n.N.urlErrorPage+"?num=403")}))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(s.e))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},96708:function(e,t,i){i.r(t),i.d(t,{SiteModule:function(){return de}});var s=i(94666),n=i(86710),o=i(91601),a=i(25917),r=i(92996),l=i(43190),c=i(88002),h=i(5304),u=i(94612),d=i(57057),p=i(99147),f=i(74147),g=i(37716);let m=(()=>{class e extends f.Z{constructor(e){super(e,"sites")}}return e.\u0275fac=function(t){return new(t||e)(g.LFG(g.zs3))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),b=(()=>{class e extends f.Z{constructor(e){super(e,"sites")}}return e.\u0275fac=function(t){return new(t||e)(g.LFG(g.zs3))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=i(41464),y=i(42);let w=(()=>{class e{constructor(e,t,i,s,n){this.actions$=e,this.siteDas=t,this.siteInfoDas=i,this.biaMessageService=s,this.store=n,this.loadAllByPost$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(p.rF),(0,r.j)("event"),(0,l.w)(e=>this.siteInfoDas.getListByPost({event:e}).pipe((0,c.U)(t=>(0,p.ni)({result:t,event:e})),(0,h.K)(e=>(this.biaMessageService.showError(),(0,a.of)((0,p.Rn)({error:e})))))))),this.load$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(p.zD),(0,r.j)("id"),(0,l.w)(e=>this.siteDas.get({id:e}).pipe((0,c.U)(e=>(0,p.T4)({site:e})),(0,h.K)(e=>(this.biaMessageService.showError(),(0,a.of)((0,p.Rn)({error:e})))))))),this.create$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(p.Ue),(0,r.j)("site"),(0,u.b)(e=>(0,a.of)(e).pipe((0,d.M)(this.store.select(v.yG)))),(0,l.w)(([e,t])=>this.siteDas.post({item:e}).pipe((0,c.U)(()=>(this.biaMessageService.showAddSuccess(),(0,p.rF)({event:t}))),(0,h.K)(e=>(this.biaMessageService.showError(),(0,a.of)((0,p.Rn)({error:e})))))))),this.update$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(p.Vx),(0,r.j)("site"),(0,u.b)(e=>(0,a.of)(e).pipe((0,d.M)(this.store.select(v.yG)))),(0,l.w)(([e,t])=>this.siteDas.put({item:e,id:e.id}).pipe((0,c.U)(()=>(this.biaMessageService.showUpdateSuccess(),(0,p.rF)({event:t}))),(0,h.K)(e=>(this.biaMessageService.showError(),(0,a.of)((0,p.Rn)({error:e})))))))),this.destroy$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(p.Od),(0,r.j)("id"),(0,u.b)(e=>(0,a.of)(e).pipe((0,d.M)(this.store.select(v.yG)))),(0,l.w)(([e,t])=>this.siteDas.delete({id:e}).pipe((0,c.U)(()=>(this.biaMessageService.showDeleteSuccess(),(0,p.rF)({event:t}))),(0,h.K)(e=>(this.biaMessageService.showError(),(0,a.of)((0,p.Rn)({error:e})))))))),this.multiDestroy$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(p.v),(0,r.j)("ids"),(0,u.b)(e=>(0,a.of)(e).pipe((0,d.M)(this.store.select(v.yG)))),(0,l.w)(([e,t])=>this.siteDas.deletes({ids:e}).pipe((0,c.U)(()=>(this.biaMessageService.showDeleteSuccess(),(0,p.rF)({event:t}))),(0,h.K)(e=>(this.biaMessageService.showError(),(0,a.of)((0,p.Rn)({error:e}))))))))}}return e.\u0275fac=function(t){return new(t||e)(g.LFG(o.eX),g.LFG(m),g.LFG(b),g.LFG(y.X),g.LFG(n.yh))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),e})();var S=i(79090),C=i(40136),x=i(39083),Z=i(29206),F=i(23913),A=i(76048),L=i(35618),M=i(4207),O=i(99287),T=i(96516),q=i(3679),z=i(81780);const J=["template"],_=function(){return{width:"100%"}};function D(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",1),g.TgZ(1,"button",2),g.NdJ("click",function(){return g.CHM(e),g.oxw().onClose()}),g.ALo(2,"translate"),g.qZA(),g.TgZ(3,"div",3),g.TgZ(4,"h1"),g._uU(5),g.ALo(6,"translate"),g.qZA(),g.qZA(),g.TgZ(7,"div",4),g.TgZ(8,"div",5),g.TgZ(9,"span",6),g.TgZ(10,"p-autoComplete",7),g.NdJ("ngModelChange",function(t){return g.CHM(e),g.oxw().userSelected=t})("completeMethod",function(t){return g.CHM(e),g.oxw().onSearchUsers(t)}),g.qZA(),g.TgZ(11,"label"),g._uU(12),g.ALo(13,"translate"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"div",8),g.TgZ(15,"button",9),g.NdJ("click",function(){return g.CHM(e),g.oxw().onReset()}),g.ALo(16,"translate"),g.qZA(),g.TgZ(17,"button",10),g.NdJ("click",function(){return g.CHM(e),g.oxw().onFilter()}),g.ALo(18,"translate"),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.s9C("fxFlex",e.fxFlexValue),g.Q6J("hidden",e.hidden),g.xp6(1),g.s9C("pTooltip",g.lcZ(2,15,"msg.showFilters")),g.xp6(4),g.Oqu(g.lcZ(6,17,"bia.filters")),g.xp6(5),g.Akn(g.DdM(25,_)),g.Q6J("multiple",!1)("ngModel",e.userSelected)("suggestions",e.userOptions)("size",30)("minLength",2)("inputStyle",g.DdM(26,_)),g.xp6(2),g.Oqu(g.lcZ(13,19,"site.selectUser")),g.xp6(3),g.s9C("label",g.lcZ(16,21,"bia.reset")),g.xp6(2),g.s9C("label",g.lcZ(18,23,"bia.filter"))}}let P=(()=>{class e{constructor(e){this.viewContainerRef=e,this.hidden=!1,this.closeFilter=new g.vpe,this.searchUsers=new g.vpe,this.filter=new g.vpe}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.template)}onClose(){this.closeFilter.emit()}onReset(){this.userSelected={},this.onFilter()}onFilter(){this.filter.emit({userId:this.userSelected?this.userSelected.id:0})}onSearchUsers(e){this.searchUsers.emit(e.query)}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(g.s_b))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-site-filter"]],viewQuery:function(e,t){if(1&e&&g.Gf(J,7),2&e){let e;g.iGM(e=g.CRH())&&(t.template=e.first)}},inputs:{fxFlexValue:"fxFlexValue",userOptions:"userOptions",hidden:"hidden"},outputs:{closeFilter:"closeFilter",searchUsers:"searchUsers",filter:"filter"},decls:2,vars:0,consts:[["template",""],[1,"app-search-filter",3,"hidden","fxFlex"],["type","button","icon","pi pi-times","pButton","",1,"p-button-rounded","p-button-text","flat",3,"pTooltip","click"],["fxLayout","row","fxLayoutAlign","stretch center",1,"header"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-filter-container"],[1,"p-float-label"],["field","display",3,"multiple","ngModel","suggestions","size","minLength","inputStyle","ngModelChange","completeMethod"],["fxLayout","row","fxLayoutAlign","space-around"],["pButton","","fxFlex","33",1,"p-button-outlined",3,"label","click"],["pButton","","fxFlex","33",3,"label","click"]],template:function(e,t){1&e&&g.YNc(0,D,19,27,"ng-template",null,0,g.W1O)},directives:[L.yH,M.Hq,O.u,L.xw,L.Wh,T.Qc,q.JJ,q.On],pipes:[z.X$],styles:['h3[_ngcontent-%COMP%]{margin-bottom:0}.app-filter-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.app-search-filter[_ngcontent-%COMP%]{margin:-15px 35px -15px -35px}.app-search-filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute}.pi[_ngcontent-%COMP%]   pi-clear[_ngcontent-%COMP%]{margin-left:12px;margin-right:9px}.header[_ngcontent-%COMP%]{position:relative;top:30px;margin-bottom:15px;margin-left:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:"raleway-thin",serif;font-size:36px;font-weight:200;margin:0}']}),e})();var U=i(81606),$=i(33013),N=i(76743),k=i(88385),E=i(75319),I=i(45121),G=i(13928);let V=(()=>{class e{constructor(e){this.formBuilder=e,this.site={},this.save=new g.vpe,this.cancel=new g.vpe,this.initForm()}ngOnChanges(e){e.site&&(this.form.reset(),this.site&&this.form.patchValue(Object.assign({},this.site)))}initForm(){this.form=this.formBuilder.group({id:[this.site.id],title:[this.site.title,q.kI.required]})}onCancel(){this.form.reset(),this.cancel.next()}onSubmit(){if(this.form.valid){const e=this.form.value;e.id=e.id>0?e.id:0,this.save.emit(e),this.form.reset()}}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(q.qu))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-site-form"]],inputs:{site:"site"},outputs:{save:"save",cancel:"cancel"},features:[g.TTD],decls:15,vars:11,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"p-float-label"],["formControlName","title","type","text","pInputText","","maxlength","255"],[1,"bia-star-mandatory"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-outlined",3,"label","click"]],template:function(e,t){1&e&&(g.TgZ(0,"form",0),g.NdJ("submit",function(){return t.onSubmit()}),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"span",3),g._UZ(4,"input",4),g.TgZ(5,"label"),g.TgZ(6,"span",5),g._uU(7,"*"),g.qZA(),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"div",6),g._UZ(11,"button",7),g.ALo(12,"translate"),g.TgZ(13,"button",8),g.NdJ("click",function(){return t.onCancel()}),g.ALo(14,"translate"),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.Q6J("formGroup",t.form),g.xp6(8),g.Oqu(g.lcZ(9,5,"site.title")),g.xp6(3),g.s9C("label",g.lcZ(12,7,"bia.save")),g.Q6J("disabled",!t.form.valid),g.xp6(2),g.s9C("label",g.lcZ(14,9,"bia.cancel")))},directives:[q._Y,q.JL,L.xw,q.sg,L.Wh,L.yH,q.Fj,q.JJ,q.u,G.o,q.nD,L.SQ,M.Hq],pipes:[z.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}input[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e})();var Q=i(38583),Y=i(79373);function B(e,t){1&e&&g._UZ(0,"bia-spinner",3),2&e&&g.Q6J("overlay",!0)}const R=function(){return{minWidth:"50vw"}},j=function(){return{overflow:"auto"}};let H=(()=>{class e{constructor(e){this.store=e,this.display=!1,this.sub=new E.w,this.displayChange=new g.vpe}ngOnInit(){this.loading$=this.store.select(v.gc),this.site$=this.store.select(v.WQ),this.sub.add(this.store.select(v.de).subscribe(e=>this.display=e))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch((0,p.Vx)({site:e})),this.close()}onCancelled(){this.close()}close(){this.store.dispatch((0,p.iC)())}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(n.yh))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-site-edit-dialog"]],outputs:{displayChange:"displayChange"},decls:8,vars:20,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"site","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(g.TgZ(0,"p-dialog",0),g.NdJ("visibleChange",function(e){return t.display=e}),g.TgZ(1,"p-header"),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"app-site-form",1),g.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),g.ALo(5,"async"),g.qZA(),g.YNc(6,B,1,1,"bia-spinner",2),g.ALo(7,"async"),g.qZA()),2&e&&(g.Akn(g.DdM(18,R)),g.Q6J("focusOnShow",!1)("visible",t.display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",g.DdM(19,j)),g.xp6(2),g.hij(" ",g.lcZ(3,12,"site.edit")," "),g.xp6(2),g.Q6J("site",g.lcZ(5,14,t.site$)),g.xp6(2),g.Q6J("ngIf",g.lcZ(7,16,t.loading$)))},directives:[I.V,$.h4,V,Q.O5,Y.O],pipes:[z.X$,Q.Ov],styles:[""]}),e})();const W=function(){return{minWidth:"50vw"}},X=function(){return{overflow:"auto"}};let K=(()=>{class e{constructor(e){this.store=e,this.display=!1,this.sub=new E.w,this.displayChange=new g.vpe}ngOnInit(){this.sub.add(this.store.select(v.HM).subscribe(e=>this.display=e))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch((0,p.Ue)({site:e})),this.close()}onCancelled(){this.site={},this.close()}close(){this.store.dispatch((0,p.fe)())}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(n.yh))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-site-new-dialog"]],outputs:{displayChange:"displayChange"},decls:5,vars:15,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"site","cancel","save"]],template:function(e,t){1&e&&(g.TgZ(0,"p-dialog",0),g.NdJ("visibleChange",function(e){return t.display=e}),g.TgZ(1,"p-header"),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"app-site-form",1),g.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),g.qZA(),g.qZA()),2&e&&(g.Akn(g.DdM(13,W)),g.Q6J("focusOnShow",!1)("visible",t.display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",g.DdM(14,X)),g.xp6(2),g.hij(" ",g.lcZ(3,11,"site.add")," "),g.xp6(2),g.Q6J("site",t.site))},directives:[I.V,$.h4,V],pipes:[z.X$],styles:[""]}),e})();function ee(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",8),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).onEdit()}),g.ALo(1,"translate"),g.qZA()}if(2&e){const e=g.oxw(2);g.s9C("label",g.lcZ(1,2,"site.edit")),g.Q6J("disabled",1!==(null==e.selectedSites?null:e.selectedSites.length))}}function te(e,t){if(1&e&&g.YNc(0,ee,2,4,"button",7),2&e){const e=g.oxw();g.Q6J("ngIf",e.canEdit)}}let ie=(()=>{class e{constructor(e,t,i,s){this.store=e,this.authService=t,this.router=i,this.route=s,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=C.L8,this.pageSize=this.defaultPageSize,this.showFilter=!1,this.haveFilter=!1,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.canManageMembers=!1}ngOnInit(){this.initTableConfiguration(),this.setPermissions(),this.initUsers(),this.initSites(),this.initTotalCount(),this.initLoading()}onCreate(){this.store.dispatch((0,p.xc)())}onEdit(){this.selectedSites&&1===this.selectedSites.length&&(this.store.dispatch((0,p.zD)({id:this.selectedSites[0].id})),this.store.dispatch((0,p.zN)()))}onDelete(){this.selectedSites&&this.store.dispatch((0,p.v)({ids:this.selectedSites.map(e=>e.id)}))}onSelectedElementsChanged(e){this.selectedSites=e}onManageMember(e){e&&e>0&&this.router.navigate(["sites",e,"members"])}onPageSizeChange(e){this.pageSize=e}onLoadLazy(e){this.lastLazyLoadEvent=e;const t=Object.assign({userId:this.advancedFilter&&this.advancedFilter.userId>0?this.advancedFilter.userId:0},e);this.store.dispatch((0,p.rF)({event:t}))}onSearchUsers(e){this.store.dispatch(A.d.loadAllByFilter({filter:e}))}onFilter(e){this.advancedFilter=e,this.haveFilter=this.advancedFilter&&this.advancedFilter.userId>0,this.onLoadLazy(this.lastLazyLoadEvent)}searchGlobalChanged(e){this.globalSearchValue=e}displayedColumnsChanged(e){this.displayedColumns=e}onCloseFilter(){this.showFilter=!1}onOpenFilter(){this.showFilter=!0}onToggleSearch(){this.showColSearch=!this.showColSearch}toSiteListVM(e){return{id:e.id,title:e.title,siteAdmin:e.siteAdmins?e.siteAdmins.map(e=>`${e.userLastName} ${e.userFirstName}`).join(", "):""}}onViewChange(e){this.updateAdvancedFilterByView(e),this.viewPreference=e}updateAdvancedFilterByView(e){let t={},i=!1;if(e&&e!==C.cp){const s=JSON.parse(e);s&&s.advancedFilter&&(t=s.advancedFilter,i=this.advancedFilter&&this.advancedFilter.userId>0)}this.advancedFilter=t,this.haveFilter=i}setPermissions(){this.canEdit=this.authService.hasPermission(Z.y.Site_Update),this.canDelete=this.authService.hasPermission(Z.y.Site_Delete),this.canAdd=this.authService.hasPermission(Z.y.Site_Create),this.canManageMembers=this.authService.hasPermission(Z.y.Site_Member_List_Access)}initTableConfiguration(){this.tableConfiguration={columns:[new S.ML("title","site.title"),Object.assign(new S.ML("siteAdmin","site.admins"),{})]},this.columns=this.tableConfiguration.columns.map(e=>({key:e.field,value:e.header})),this.displayedColumns=this.columns}initLoading(){this.loading$=this.store.select(v.JV)}initTotalCount(){this.totalCount$=this.store.select(v.Gz)}initSites(){this.sites$=this.store.select(v.FN).pipe((0,c.U)(e=>e.map(e=>this.toSiteListVM(e))))}initUsers(){this.userOptions$=this.store.select(F.yp)}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(n.yh),g.Y36(x.e),g.Y36(s.F0),g.Y36(s.gz))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-sites-index"]],hostVars:2,hostBindings:function(e,t){2&e&&g.ekj("bia-flex",t.flex)},decls:16,vars:39,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],[3,"hidden","fxFlexValue","userOptions","searchUsers","filter","closeFilter"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","showBtnFilter","showFilter","haveFilter","selectedElements","openFilter","create","delete"],["pTemplate","actionOnSelected"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","advancedFilter","clickRow","loadLazy","selectedElementsChanged"],["pButton","","class","p-button-outlined",3,"disabled","label","click",4,"ngIf"],["pButton","",1,"p-button-outlined",3,"disabled","label","click"]],template:function(e,t){1&e&&(g.TgZ(0,"div"),g.TgZ(1,"div",0),g.TgZ(2,"app-site-filter",1),g.NdJ("searchUsers",function(e){return t.onSearchUsers(e)})("filter",function(e){return t.onFilter(e)})("closeFilter",function(){return t.onCloseFilter()}),g.ALo(3,"async"),g.qZA(),g.TgZ(4,"div",2),g.TgZ(5,"bia-table-header",3),g.NdJ("openFilter",function(){return t.onOpenFilter()})("create",function(){return t.onCreate()})("delete",function(){return t.onDelete()}),g.ALo(6,"translate"),g.YNc(7,te,1,1,"ng-template",4),g.qZA(),g.TgZ(8,"bia-table-controller",5),g.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),g.ALo(9,"async"),g.qZA(),g.TgZ(10,"bia-table",6),g.NdJ("clickRow",function(e){return t.onManageMember(e)})("loadLazy",function(e){return t.onLoadLazy(e)})("selectedElementsChanged",function(e){return t.onSelectedElementsChanged(e)}),g.ALo(11,"async"),g.ALo(12,"async"),g.ALo(13,"async"),g.qZA(),g.qZA(),g.qZA(),g._UZ(14,"app-site-edit-dialog"),g._UZ(15,"app-site-new-dialog"),g.qZA()),2&e&&(g.xp6(2),g.Q6J("hidden",!t.showFilter)("fxFlexValue",25)("userOptions",g.lcZ(3,27,t.userOptions$)),g.xp6(3),g.Q6J("headerTitle",g.lcZ(6,29,"site.listOf"))("canAdd",t.canAdd)("canDelete",t.canDelete)("canExportCSV",!1)("showBtnFilter",!0)("showFilter",t.showFilter)("haveFilter",t.haveFilter)("selectedElements",t.selectedSites),g.xp6(3),g.Q6J("defaultPageSize",t.defaultPageSize)("length",g.lcZ(9,31,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),g.xp6(2),g.Q6J("elements",g.lcZ(11,33,t.sites$))("totalRecord",g.lcZ(12,35,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canClickRow",t.canManageMembers)("canSelectElement",t.canDelete)("loading",g.lcZ(13,37,t.loading$))("viewPreference",t.viewPreference)("advancedFilter",t.advancedFilter))},directives:[L.xw,P,L.yH,U.l,$.jx,N.B,k.$,H,K,Q.O5,M.Hq],pipes:[Q.Ov,z.X$],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),e})();var se=i(61028),ne=i(16249),oe=i(9716),ae=i(30466),re=i(28049);function le(e,t){1&e&&g._UZ(0,"bia-spinner",1),2&e&&g.Q6J("overlay",!0)}let ce=(()=>{class e{constructor(e,t,i,s){this.store=e,this.route=t,this.siteService=i,this.layoutService=s,this.sub=new E.w}ngOnInit(){this.siteService.currentSiteId=+this.route.snapshot.params.siteId,this.sub.add(this.store.select(v.WQ).subscribe(e=>{(null==e?void 0:e.title)&&(this.route.data.pipe((0,re.P)()).subscribe(t=>{t.breadcrumb=e.title}),this.layoutService.refreshBreadcrumb())}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(n.yh),g.Y36(s.gz),g.Y36(oe.P),g.Y36(ae.N))},e.\u0275cmp=g.Xpm({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(g._UZ(0,"router-outlet"),g.YNc(1,le,1,1,"bia-spinner",0),g.ALo(2,"async")),2&e&&(g.xp6(1),g.Q6J("ngIf",g.lcZ(2,1,t.siteService.loading$)))},directives:[s.lC,Q.O5,Y.O],pipes:[Q.Ov],styles:[""]}),e})();var he=i(39682);const ue=[{path:"",data:{breadcrumb:null,permission:Z.y.Site_List_Access},component:ie,canActivate:[ne.n]},{path:":siteId",data:{breadcrumb:"",canNavigate:!1},component:ce,canActivate:[ne.n],children:[{path:"members",data:{breadcrumb:"app.members",canNavigate:!0,permission:Z.y.Site_Member_List_Access},loadChildren:()=>Promise.all([i.e(272),i.e(27),i.e(996)]).then(i.bind(i,89410)).then(e=>e.SiteMemberModule)}]},{path:"**",redirectTo:""}];let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[se.m,he.U,s.Bz.forChild(ue),n.Aw.forFeature("sites",v.ll),o.sQ.forFeature([w])]]}),e})()}}]);