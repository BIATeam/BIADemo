"use strict";(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[124],{7124:function(e,t,s){s.r(t),s.d(t,{PlaneTypeModule:function(){return Pe}});var a=s(2694),n=s(86710),i=s(91601),l=s(25917),o=s(92996),r=s(43190),c=s(88002),p=s(5304),d=s(94612),h=s(57057);const u=(0,n.PH)("[PlanesTypes] Load all by post",(0,n.Ky)()),y=(0,n.PH)("[PlanesTypes] Load",(0,n.Ky)()),g=(0,n.PH)("[PlanesTypes] Create",(0,n.Ky)()),f=(0,n.PH)("[PlanesTypes] Update",(0,n.Ky)()),b=(0,n.PH)("[PlanesTypes] Remove",(0,n.Ky)()),m=(0,n.PH)("[PlanesTypes] Multi Remove",(0,n.Ky)()),T=(0,n.PH)("[PlanesTypes] Load all by post success",(0,n.Ky)()),v=(0,n.PH)("[PlanesTypes] Load success",(0,n.Ky)()),C=(0,n.PH)("[PlanesTypes] Failure",(0,n.Ky)()),S=(0,n.PH)("[PlanesTypes] Open dialog edit"),w=(0,n.PH)("[PlanesTypes] Close dialog edit"),P=(0,n.PH)("[PlanesTypes] Open dialog new"),Z=(0,n.PH)("[PlanesTypes] Close dialog new");var A=s(74147),L=s(37716);let x=(()=>{class e extends A.Z{constructor(e){super(e,"PlanesTypes")}}return e.\u0275fac=function(t){return new(t||e)(L.LFG(L.zs3))},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const D=(0,s(80273).H)({selectId:e=>e.id,sortComparer:!1}),O=D.getInitialState({totalCount:0,currentPlaneType:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1,displayEditDialog:!1,displayNewDialog:!1}),E=(0,n.Lq)(O,(0,n.on)(P,e=>Object.assign(Object.assign({},e),{displayNewDialog:!0})),(0,n.on)(Z,e=>Object.assign(Object.assign({},e),{displayNewDialog:!1})),(0,n.on)(S,e=>Object.assign(Object.assign({},e),{displayEditDialog:!0})),(0,n.on)(w,e=>Object.assign(Object.assign({},e),{displayEditDialog:!1})),(0,n.on)(u,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!0})),(0,n.on)(y,e=>Object.assign(Object.assign({},e),{loadingGet:!0})),(0,n.on)(T,(e,{result:t,event:s})=>{const a=D.setAll(t.data,e);return a.totalCount=t.totalCount,a.lastLazyLoadEvent=s,a.loadingGetAll=!1,a}),(0,n.on)(v,(e,{planeType:t})=>Object.assign(Object.assign({},e),{currentPlaneType:t,loadingGet:!1})),(0,n.on)(C,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})));function $(e,t){return(0,n.UY)({planesTypes:E})(e,t)}const j=(0,n.ZF)("planes-types"),q=(0,n.P1)(j,e=>e.planesTypes),z=(0,n.P1)(q,e=>e.totalCount),G=(0,n.P1)(q,e=>e.currentPlaneType),M=(0,n.P1)(q,e=>e.lastLazyLoadEvent),J=(0,n.P1)(q,e=>e.loadingGet),U=(0,n.P1)(q,e=>e.loadingGetAll),_=(0,n.P1)(q,e=>e.displayEditDialog),F=(0,n.P1)(q,e=>e.displayNewDialog),{selectAll:H}=D.getSelectors(q);var V=s(42);let K=(()=>{class e{constructor(e,t,s,a){this.actions$=e,this.planeTypeDas=t,this.biaMessageService=s,this.store=a,this.loadAllByPost$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(u),(0,o.j)("event"),(0,r.w)(e=>this.planeTypeDas.getListByPost(e).pipe((0,c.U)(t=>T({result:t,event:e})),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(C({error:e})))))))),this.load$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(y),(0,o.j)("id"),(0,r.w)(e=>this.planeTypeDas.get(e).pipe((0,c.U)(e=>v({planeType:e})),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(C({error:e})))))))),this.create$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(g),(0,o.j)("planeType"),(0,d.b)(e=>(0,l.of)(e).pipe((0,h.M)(this.store.select(M)))),(0,r.w)(([e,t])=>this.planeTypeDas.post(e).pipe((0,c.U)(()=>(this.biaMessageService.showAddSuccess(),u({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(C({error:e})))))))),this.update$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(f),(0,o.j)("planeType"),(0,d.b)(e=>(0,l.of)(e).pipe((0,h.M)(this.store.select(M)))),(0,r.w)(([e,t])=>this.planeTypeDas.put(e,e.id).pipe((0,c.U)(()=>(this.biaMessageService.showUpdateSuccess(),u({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(C({error:e})))))))),this.destroy$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(b),(0,o.j)("id"),(0,d.b)(e=>(0,l.of)(e).pipe((0,h.M)(this.store.select(M)))),(0,r.w)(([e,t])=>this.planeTypeDas.delete(e).pipe((0,c.U)(()=>(this.biaMessageService.showDeleteSuccess(),u({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(C({error:e})))))))),this.multiDestroy$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(m),(0,o.j)("ids"),(0,d.b)(e=>(0,l.of)(e).pipe((0,h.M)(this.store.select(M)))),(0,r.w)(([e,t])=>this.planeTypeDas.deletes(e).pipe((0,c.U)(()=>(this.biaMessageService.showDeleteSuccess(),u({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(C({error:e}))))))))}}return e.\u0275fac=function(t){return new(t||e)(L.LFG(i.eX),L.LFG(x),L.LFG(V.X),L.LFG(n.yh))},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac}),e})();var N=s(88385),k=s(79090),Q=s(40136),Y=s(8340),I=s(49457),B=s(38042),W=s(29206),X=s(81780),R=s(35618),ee=s(81606),te=s(76743),se=s(75319),ae=s(45121),ne=s(33013),ie=s(3679),le=s(13928),oe=s(88598),re=s(45862),ce=s(4207);let pe=(()=>{class e{constructor(e){this.formBuilder=e,this.planeType={},this.save=new L.vpe,this.cancel=new L.vpe,this.initForm()}ngOnChanges(e){e.planeType&&(this.form.reset(),this.planeType&&this.form.patchValue(Object.assign({},this.planeType)))}initForm(){this.form=this.formBuilder.group({id:[this.planeType.id],title:[this.planeType.title,ie.kI.required],certificationDate:[this.planeType.certificationDate,ie.kI.required]})}onCancel(){this.form.reset(),this.cancel.next()}onSubmit(){if(this.form.valid){const e=this.form.value;e.id=e.id>0?e.id:0,this.save.emit(e),this.form.reset()}}}return e.\u0275fac=function(t){return new(t||e)(L.Y36(ie.qu))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-plane-type-form"]],inputs:{planeType:"planeType"},outputs:{save:"save",cancel:"cancel"},features:[L.TTD],decls:22,vars:14,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"p-float-label"],["formControlName","title","type","text","pInputText","","maxlength","64"],[1,"bia-star-mandatory"],["biaLocale","","formControlName","certificationDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0","appendTo","body"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-outlined",3,"label","click"]],template:function(e,t){1&e&&(L.TgZ(0,"form",0),L.NdJ("submit",function(){return t.onSubmit()}),L.TgZ(1,"div",1),L.TgZ(2,"div",2),L.TgZ(3,"span",3),L._UZ(4,"input",4),L.TgZ(5,"label"),L.TgZ(6,"span",5),L._uU(7,"*"),L.qZA(),L._uU(8),L.ALo(9,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(10,"div",1),L.TgZ(11,"div",2),L.TgZ(12,"span",3),L._UZ(13,"p-calendar",6),L.TgZ(14,"label"),L._uU(15),L.ALo(16,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(17,"div",7),L._UZ(18,"button",8),L.ALo(19,"translate"),L.TgZ(20,"button",9),L.NdJ("click",function(){return t.onCancel()}),L.ALo(21,"translate"),L.qZA(),L.qZA(),L.qZA()),2&e&&(L.Q6J("formGroup",t.form),L.xp6(8),L.Oqu(L.lcZ(9,6,"planeType.title")),L.xp6(7),L.Oqu(L.lcZ(16,8,"planeType.certificationDate")),L.xp6(3),L.s9C("label",L.lcZ(19,10,"bia.save")),L.Q6J("disabled",!t.form.valid),L.xp6(2),L.s9C("label",L.lcZ(21,12,"bia.cancel")))},directives:[ie._Y,ie.JL,R.xw,ie.sg,R.Wh,R.yH,ie.Fj,ie.JJ,ie.u,le.o,ie.nD,oe.f,re.D,R.SQ,ce.Hq],pipes:[X.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}"],changeDetection:0}),e})();var de=s(38583),he=s(79373);function ue(e,t){1&e&&L._UZ(0,"bia-spinner",3),2&e&&L.Q6J("overlay",!0)}const ye=function(){return{minWidth:"50vw"}},ge=function(){return{overflow:"auto"}};let fe=(()=>{class e{constructor(e){this.store=e,this.display=!1,this.sub=new se.w,this.displayChange=new L.vpe}ngOnInit(){this.loading$=this.store.select(J),this.planeType$=this.store.select(G),this.sub.add(this.store.select(_).subscribe(e=>this.display=e))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch(f({planeType:e})),this.close()}onCancelled(){this.close()}close(){this.store.dispatch(w())}}return e.\u0275fac=function(t){return new(t||e)(L.Y36(n.yh))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-plane-type-edit-dialog"]],outputs:{displayChange:"displayChange"},decls:8,vars:20,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"planeType","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(L.TgZ(0,"p-dialog",0),L.NdJ("visibleChange",function(e){return t.display=e}),L.TgZ(1,"p-header"),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"app-plane-type-form",1),L.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),L.ALo(5,"async"),L.qZA(),L.YNc(6,ue,1,1,"bia-spinner",2),L.ALo(7,"async"),L.qZA()),2&e&&(L.Akn(L.DdM(18,ye)),L.Q6J("focusOnShow",!1)("visible",t.display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",L.DdM(19,ge)),L.xp6(2),L.hij(" ",L.lcZ(3,12,"planeType.edit")," "),L.xp6(2),L.Q6J("planeType",L.lcZ(5,14,t.planeType$)),L.xp6(2),L.Q6J("ngIf",L.lcZ(7,16,t.loading$)))},directives:[ae.V,ne.h4,pe,de.O5,he.O],pipes:[X.X$,de.Ov],styles:[""]}),e})();const be=function(){return{minWidth:"50vw"}},me=function(){return{overflow:"auto"}};let Te=(()=>{class e{constructor(e){this.store=e,this.display=!1,this.sub=new se.w,this.displayChange=new L.vpe}ngOnInit(){this.sub.add(this.store.select(F).subscribe(e=>this.display=e))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch(g({planeType:e})),this.close()}onCancelled(){this.planeType={},this.close()}close(){this.store.dispatch(Z())}}return e.\u0275fac=function(t){return new(t||e)(L.Y36(n.yh))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-plane-type-new-dialog"]],outputs:{displayChange:"displayChange"},decls:5,vars:15,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"planeType","cancel","save"]],template:function(e,t){1&e&&(L.TgZ(0,"p-dialog",0),L.NdJ("visibleChange",function(e){return t.display=e}),L.TgZ(1,"p-header"),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"app-plane-type-form",1),L.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),L.qZA(),L.qZA()),2&e&&(L.Akn(L.DdM(13,be)),L.Q6J("focusOnShow",!1)("visible",t.display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",L.DdM(14,me)),L.xp6(2),L.hij(" ",L.lcZ(3,11,"planeType.add")," "),L.xp6(2),L.Q6J("planeType",t.planeType))},directives:[ae.V,ne.h4,pe],pipes:[X.X$],styles:[""]}),e})(),ve=(()=>{class e{constructor(e,t,s,a,n){this.store=e,this.authService=t,this.planeTypeDas=s,this.translateService=a,this.biaTranslationService=n,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=Q.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1}ngOnInit(){this.initTableConfiguration(),this.setPermissions(),this.planesTypes$=this.store.select(H),this.totalCount$=this.store.select(z),this.loading$=this.store.select(U)}onCreate(){this.store.dispatch(P())}onEdit(e){this.store.dispatch(y({id:e})),this.store.dispatch(S())}onDelete(){this.selectedPlanesTypes&&this.store.dispatch(m({ids:this.selectedPlanesTypes.map(e=>e.id)}))}onPageSizeChange(e){this.pageSize=e}onLoadLazy(e){this.store.dispatch(u({event:e}))}onSelectedElementsChanged(e){this.selectedPlanesTypes=e}searchGlobalChanged(e){this.globalSearchValue=e}displayedColumnsChanged(e){this.displayedColumns=e}onToggleSearch(){this.showColSearch=!this.showColSearch}onViewChange(e){this.viewPreference=e}onExportCSV(){const e={};this.columns.map(t=>e[t.value.split(".")[1]]=this.translateService.instant(t.value));const t=Object.assign({columns:e},this.planeTypeListComponent.getLazyLoadMetadata());this.planeTypeDas.getFile(t).subscribe(e=>{I.saveAs(e,this.translateService.instant("app.planesTypes")+".csv")})}setPermissions(){this.canEdit=this.authService.hasPermission(W.y.PlaneType_Update),this.canDelete=this.authService.hasPermission(W.y.PlaneType_Delete),this.canAdd=this.authService.hasPermission(W.y.PlaneType_Create)}initTableConfiguration(){this.biaTranslationService.currentCultureDateFormat$.subscribe(e=>{this.tableConfiguration={columns:[new k.ML("title","planeType.title"),Object.assign(new k.ML("certificationDate","planeType.certificationDate"),{type:k.d5.Date,formatDate:e.dateTimeFormat})]},this.columns=this.tableConfiguration.columns.map(e=>({key:e.field,value:e.header})),this.displayedColumns=[...this.columns]})}}return e.\u0275fac=function(t){return new(t||e)(L.Y36(n.yh),L.Y36(Y.e),L.Y36(x),L.Y36(X.sK),L.Y36(B.P6))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-planes-types-index"]],viewQuery:function(e,t){if(1&e&&L.Gf(N.$,5),2&e){let e;L.iGM(e=L.CRH())&&(t.planeTypeListComponent=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&L.ekj("bia-flex",t.flex)},decls:12,vars:29,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","edit","loadLazy","selectedElementsChanged"]],template:function(e,t){1&e&&(L.TgZ(0,"div",0),L.TgZ(1,"div",1),L.TgZ(2,"bia-table-header",2),L.NdJ("create",function(){return t.onCreate()})("exportCSV",function(){return t.onExportCSV()})("delete",function(){return t.onDelete()}),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"bia-table-controller",3),L.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),L.ALo(5,"async"),L.qZA(),L.TgZ(6,"bia-table",4),L.NdJ("edit",function(e){return t.onEdit(e)})("loadLazy",function(e){return t.onLoadLazy(e)})("selectedElementsChanged",function(e){return t.onSelectedElementsChanged(e)}),L.ALo(7,"async"),L.ALo(8,"async"),L.ALo(9,"async"),L.qZA(),L.qZA(),L.qZA(),L._UZ(10,"app-plane-type-edit-dialog"),L._UZ(11,"app-plane-type-new-dialog")),2&e&&(L.xp6(2),L.Q6J("headerTitle",L.lcZ(3,19,"planeType.listOf"))("canAdd",t.canAdd)("canExportCSV",!0)("selectedElements",t.selectedPlanesTypes),L.xp6(2),L.Q6J("defaultPageSize",t.defaultPageSize)("length",L.lcZ(5,21,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),L.xp6(2),L.Q6J("elements",L.lcZ(7,23,t.planesTypes$))("totalRecord",L.lcZ(8,25,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",t.canEdit)("canSelectElement",t.canDelete)("loading",L.lcZ(9,27,t.loading$))("viewPreference",t.viewPreference))},directives:[R.xw,R.yH,ee.l,te.B,N.$,fe,Te],pipes:[X.X$,de.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),e})();var Ce=s(84594),Se=s(16249);const we=[{path:"",data:{breadcrumb:null,permission:W.y.PlaneType_List_Access},component:ve,canActivate:[Se.n]},{path:"**",redirectTo:""}];let Pe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=L.oAB({type:e}),e.\u0275inj=L.cJS({imports:[[Ce.m,a.Bz.forChild(we),n.Aw.forFeature("planes-types",$),i.sQ.forFeature([K])]]}),e})()}}]);