function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,a=!1,c=void 0;try{for(var o,r=e[Symbol.iterator]();!(i=(o=r.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){a=!0,c=l}finally{try{i||null==r.return||r.return()}finally{if(a)throw c}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{oYOr:function(e,t,n){"use strict";n.r(t),n.d(t,"PlaneModule",(function(){return wt}));var i,a=n("tyNb"),c=n("kt0X"),o=n("snw9"),r=n("LRne"),l=n("wO+i"),s=n("eIep"),u=n("lJxs"),b=n("JIr8"),f=n("bOdf"),d=n("zp1y"),p=Object(c.h)("[Planes] Load all by post (CalcMode)",Object(c.m)()),h=Object(c.h)("[Planes] Load (CalcMode)",Object(c.m)()),g=Object(c.h)("[Planes] Create (CalcMode)",Object(c.m)()),m=Object(c.h)("[Planes] Update (CalcMode)",Object(c.m)()),y=Object(c.h)("[Planes] Remove (CalcMode)",Object(c.m)()),v=Object(c.h)("[Planes] Multi Remove (CalcMode)",Object(c.m)()),S=Object(c.h)("[Planes] Load all by post success (CalcMode)",Object(c.m)()),O=Object(c.h)("[Planes] Load success (CalcMode)",Object(c.m)()),C=Object(c.h)("[Planes] Failure (CalcMode)",Object(c.m)()),j=n("dlt+"),w=n("fXoL"),k=((i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,"Planes")}return n}(j.a)).\u0275fac=function(e){return new(e||i)(w.Xb(w.r))},i.\u0275prov=w.Jb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),T=n("EVqC"),F=Object(T.a)({selectId:function(e){return e.id},sortComparer:!1}),B=F.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),_=Object(c.j)(B,Object(c.l)(p,(function(e,t){return _objectDestructuringEmpty(t),Object.assign(Object.assign({},e),{loadingGetAll:!0})})),Object(c.l)(h,(function(e){return Object.assign(Object.assign({},e),{loadingGet:!0})})),Object(c.l)(S,(function(e,t){var n=t.result,i=t.event,a=F.setAll(n.data,e);return a.currentPlane={},a.totalCount=n.totalCount,a.lastLazyLoadEvent=i,a.loadingGetAll=!1,a})),Object(c.l)(O,(function(e,t){var n=t.plane;return Object.assign(Object.assign({},e),{currentPlane:n,loadingGet:!1})})),Object(c.l)(C,(function(e,t){return _objectDestructuringEmpty(t),Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})})));function I(e,t){return Object(c.f)({planes:_})(e,t)}var P,$=Object(c.i)("planes-mode-calc"),D=Object(c.k)($,(function(e){return e.planes})),A=Object(c.k)(D,(function(e){return e.totalCount})),L=(Object(c.k)(D,(function(e){return e.currentPlane})),Object(c.k)(D,(function(e){return e.lastLazyLoadEvent}))),R=(Object(c.k)(D,(function(e){return e.loadingGet})),Object(c.k)(D,(function(e){return e.loadingGetAll}))),E=F.getSelectors(D).selectAll,M=n("Fx2S"),x=((P=function e(t,n,i,a){var c=this;_classCallCheck(this,e),this.actions$=t,this.planeDas=n,this.biaMessageService=i,this.store=a,this.loadAllByPost$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(p),Object(l.a)("event"),Object(s.a)((function(e){return c.planeDas.getListByPost(e).pipe(Object(u.a)((function(t){return S({result:t,event:e})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))})),this.load$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(h),Object(l.a)("id"),Object(s.a)((function(e){return c.planeDas.get(e).pipe(Object(u.a)((function(e){return O({plane:e})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))})),this.create$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(g),Object(l.a)("plane"),Object(f.a)((function(e){return Object(r.a)(e).pipe(Object(d.a)(c.store.select(L)))})),Object(s.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return c.planeDas.post(n).pipe(Object(u.a)((function(){return c.biaMessageService.showAddSuccess(),p({event:i})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))})),this.update$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(m),Object(l.a)("plane"),Object(f.a)((function(e){return Object(r.a)(e).pipe(Object(d.a)(c.store.select(L)))})),Object(s.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return c.planeDas.put(n,n.id).pipe(Object(u.a)((function(){return c.biaMessageService.showUpdateSuccess(),p({event:i})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))})),this.destroy$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(y),Object(l.a)("id"),Object(f.a)((function(e){return Object(r.a)(e).pipe(Object(d.a)(c.store.select(L)))})),Object(s.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return c.planeDas.delete(n).pipe(Object(u.a)((function(){return c.biaMessageService.showDeleteSuccess(),p({event:i})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))})),this.multiDestroy$=Object(o.c)((function(){return c.actions$.pipe(Object(o.d)(v),Object(l.a)("ids"),Object(f.a)((function(e){return Object(r.a)(e).pipe(Object(d.a)(c.store.select(L)))})),Object(s.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return c.planeDas.deletes(n).pipe(Object(u.a)((function(){return c.biaMessageService.showDeleteSuccess(),p({event:i})})),Object(b.a)((function(e){return c.biaMessageService.showError(),Object(r.a)(C({error:e}))})))})))}))}).\u0275fac=function(e){return new(e||P)(w.Xb(o.a),w.Xb(k),w.Xb(M.a),w.Xb(c.b))},P.\u0275prov=w.Jb({token:P,factory:P.\u0275fac}),P),N=n("itXk"),z=n("Sa1B"),Q=n("VfrA"),H=n("s0Cq"),U=n("E6Oa"),V=n("Iab2"),J=n("RoCi"),G=n("RdrV"),q=n("dnD0"),X=n("oIZ+"),K=n("060v"),W=n("UONQ"),Y=n("i0YE"),Z=n("sYmb"),ee=n("XiUz"),te=n("jIms"),ne=n("v8MJ"),ie=n("3Pt+"),ae=n("gT8a"),ce=n("/ZTc"),oe=n("ofXK"),re=n("rEr+"),le=n("7zfz"),se=n("7kUa"),ue=n("znSr"),be=n("arFO"),fe=n("lVkt"),de=n("Ji6n"),pe=n("eO1q"),he=n("PjIi");function ge(e,t){1&e&&(w.Tb(0,"th",10),w.Ob(1,"p-tableHeaderCheckbox"),w.Sb())}function me(e,t){if(1&e&&(w.Tb(0,"th",12),w.Hc(1),w.ec(2,"translate"),w.Ob(3,"p-sortIcon",13),w.Sb()),2&e){var n=w.dc().$implicit;w.kc("pSortableColumn",n.field),w.Bb(1),w.Jc(" ",w.fc(2,3,null==n?null:n.header)," "),w.Bb(2),w.kc("field",n.field)}}function ye(e,t){if(1&e&&(w.Tb(0,"th"),w.Hc(1),w.ec(2,"translate"),w.Sb()),2&e){var n=w.dc().$implicit;w.Bb(1),w.Jc(" ",w.fc(2,1,null==n?null:n.header)," ")}}function ve(e,t){if(1&e&&(w.Rb(0),w.Fc(1,me,4,5,"th",11),w.Fc(2,ye,3,3,"th",9),w.Qb()),2&e){var n=t.$implicit;w.Bb(1),w.kc("ngIf",!0===(null==n?null:n.isSortable)),w.Bb(1),w.kc("ngIf",!0!==(null==n?null:n.isSortable))}}function Se(e,t){1&e&&w.Ob(0,"th")}var Oe=function(e){return{"ui-state-filled":e}};function Ce(e,t){if(1&e){var n=w.Ub();w.Tb(0,"span",17),w.Tb(1,"input",18),w.bc("input",(function(e){w.yc(n);var t=w.dc().$implicit;return w.dc(3),w.xc(1).filter(e.target.value,t.field,t.filterMode)})),w.ec(2,"translate"),w.Sb(),w.Sb()}if(2&e){var i=w.dc().$implicit;w.dc(3);var a=w.xc(1);w.Bb(1),w.lc("type","Number"===i.type?"number":"text"),w.lc("placeholder",!0===i.isDate?w.fc(2,4,"bia.dateIso8601"):""),w.kc("value",null==a.filters[i.field]?null:a.filters[i.field].value)("ngClass",w.oc(6,Oe,""!=(null==a.filters[i.field]?null:a.filters[i.field].value)))}}function je(e,t){if(1&e&&(w.Tb(0,"th",15),w.Fc(1,Ce,3,8,"span",16),w.Sb()),2&e){var n=t.$implicit;w.kc("ngSwitch",n.field),w.Bb(1),w.kc("ngIf",!0===n.isSearchable)}}function we(e,t){if(1&e&&(w.Tb(0,"tr"),w.Fc(1,Se,1,0,"th",9),w.Fc(2,je,2,2,"th",14),w.Sb()),2&e){var n=w.dc().$implicit,i=w.dc(2);w.Bb(1),w.kc("ngIf",i.canSelectElement),w.Bb(1),w.kc("ngForOf",n)}}function ke(e,t){if(1&e&&(w.Tb(0,"tr"),w.Fc(1,ge,2,0,"th",7),w.Fc(2,ve,3,2,"ng-container",8),w.Sb(),w.Fc(3,we,3,2,"tr",9)),2&e){var n=t.$implicit,i=w.dc(2);w.Bb(1),w.kc("ngIf",i.canSelectElement),w.Bb(1),w.kc("ngForOf",n),w.Bb(1),w.kc("ngIf",i.showColSearch)}}function Te(e,t){if(1&e&&w.Ob(0,"p-tableCheckbox",23),2&e){var n=w.dc(2).$implicit;w.kc("value",n)}}function Fe(e,t){1&e&&w.Ob(0,"i",24)}function Be(e,t){if(1&e&&(w.Tb(0,"td"),w.Fc(1,Te,1,1,"p-tableCheckbox",21),w.Fc(2,Fe,1,0,"i",22),w.Sb()),2&e){var n=w.dc().$implicit,i=w.dc(2);w.Bb(1),w.kc("ngIf",!0!==i.isFooter(n)&&n.id>0),w.Bb(1),w.kc("ngIf",!0===i.isFooter(n))}}function _e(e,t){if(1&e){var n=w.Ub();w.Rb(0),w.Tb(1,"input",29),w.bc("change",(function(){return w.yc(n),w.dc(6).onChange()})),w.Sb(),w.Qb()}if(2&e){var i=w.dc(3).$implicit;w.Bb(1),w.kc("formControlName",i.field)}}function Ie(e,t){1&e&&(w.Tb(0,"span",30),w.Hc(1,"*"),w.Sb())}function Pe(e,t){if(1&e&&(w.Rb(0,15),w.Fc(1,_e,2,1,"ng-container",27),w.Qb(),w.Fc(2,Ie,2,0,"span",28)),2&e){var n=w.dc(2).$implicit,i=w.dc(3);w.kc("ngSwitch",n.field),w.Bb(2),w.kc("ngIf",!0===i.isRequired(n.field))}}function $e(e,t){1&e&&w.Fc(0,Pe,3,2,"ng-template",26)}function De(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.Qb()),2&e){var n=w.dc(3).$implicit,i=w.dc().$implicit;w.Bb(1),w.Jc(" ",i[n.field]," ")}}function Ae(e,t){if(1&e&&(w.Rb(0,15),w.Fc(1,De,2,1,"ng-container",27),w.Qb()),2&e){var n=w.dc(2).$implicit;w.kc("ngSwitch",n.field)}}function Le(e,t){1&e&&w.Fc(0,Ae,2,1,"ng-template",31)}var Re=function(){return{width:"100%"}};function Ee(e,t){if(1&e){var n=w.Ub();w.Rb(0),w.Tb(1,"p-dropdown",35),w.bc("onChange",(function(){return w.yc(n),w.dc(7).onChange()})),w.Sb(),w.Qb()}if(2&e){var i=w.dc(4).$implicit,a=w.dc(3);w.Bb(1),w.Dc(w.nc(4,Re)),w.kc("formControlName",i.field)("options",a.getOptionDto(i.field))}}function Me(e,t){if(1&e){var n=w.Ub();w.Rb(0),w.Tb(1,"p-multiSelect",36),w.bc("onChange",(function(){return w.yc(n),w.dc(7).onChange()}))("onPanelShow",(function(){return w.yc(n),w.dc(7).onPanelShowMultiSelect()}))("onPanelHide",(function(){return w.yc(n),w.dc(7).onPanelHideMultiSelect()})),w.Sb(),w.Qb()}if(2&e){var i=w.dc(4).$implicit,a=w.dc(3);w.Bb(1),w.Dc(w.nc(4,Re)),w.kc("formControlName",i.field)("options",a.getOptionDto(i.field))}}function xe(e,t){if(1&e){var n=w.Ub();w.Rb(0),w.Tb(1,"p-checkbox",37),w.bc("onChange",(function(){return w.yc(n),w.dc(7).onChange()})),w.Sb(),w.Qb()}if(2&e){var i=w.dc(4).$implicit;w.Bb(1),w.kc("binary",!0)("formControlName",i.field)}}function Ne(e,t){if(1&e){var n=w.Ub();w.Rb(0),w.Tb(1,"input",38),w.bc("change",(function(){return w.yc(n),w.dc(7).onChange()})),w.Sb(),w.Qb()}if(2&e){var i=w.dc(4).$implicit;w.Bb(1),w.kc("formControlName",i.field)}}function ze(e,t){if(1&e){var n=w.Ub();w.Rb(0),w.Tb(1,"p-calendar",39),w.bc("onShow",(function(){return w.yc(n),w.dc(7).onShowCalendar()}))("onSelect",(function(){return w.yc(n),w.dc(7).onChange()}))("onBlur",(function(){return w.yc(n),w.dc(7).onBlurCalendar()})),w.Sb(),w.Qb()}if(2&e){var i=w.dc(4).$implicit;w.Bb(1),w.Dc(w.nc(5,Re)),w.kc("formControlName",i.field)("showButtonBar",!0)("inputStyle",w.nc(6,Re))}}function Qe(e,t){if(1&e){var n=w.Ub();w.Rb(0),w.Tb(1,"p-calendar",40),w.bc("onShow",(function(){return w.yc(n),w.dc(7).onShowCalendar()}))("onSelect",(function(){return w.yc(n),w.dc(7).onChange()}))("onBlur",(function(){return w.yc(n),w.dc(7).onBlurCalendar()})),w.Sb(),w.Qb()}if(2&e){var i=w.dc(4).$implicit;w.Bb(1),w.Dc(w.nc(5,Re)),w.kc("formControlName",i.field)("inputStyle",w.nc(6,Re))("timeOnly",!0)}}function He(e,t){if(1&e){var n=w.Ub();w.Rb(0),w.Tb(1,"p-calendar",41),w.bc("onShow",(function(){return w.yc(n),w.dc(7).onShowCalendar()}))("onSelect",(function(){return w.yc(n),w.dc(7).onChange()}))("onBlur",(function(){return w.yc(n),w.dc(7).onBlurCalendar()})),w.Sb(),w.Qb()}if(2&e){var i=w.dc(4).$implicit;w.Bb(1),w.Dc(w.nc(5,Re)),w.kc("formControlName",i.field)("showButtonBar",!0)("inputStyle",w.nc(6,Re))}}function Ue(e,t){if(1&e){var n=w.Ub();w.Rb(0),w.Tb(1,"input",42),w.bc("change",(function(){return w.yc(n),w.dc(7).onChange()})),w.Sb(),w.Qb()}if(2&e){var i=w.dc(4).$implicit;w.Bb(1),w.kc("maxlength",i.maxlength)("formControlName",i.field)}}function Ve(e,t){1&e&&(w.Tb(0,"span",30),w.Hc(1,"*"),w.Sb())}function Je(e,t){if(1&e&&(w.Rb(0,15),w.Fc(1,Ee,2,5,"ng-container",34),w.Fc(2,Me,2,5,"ng-container",34),w.Fc(3,xe,2,2,"ng-container",34),w.Fc(4,Ne,2,1,"ng-container",34),w.Fc(5,ze,2,7,"ng-container",34),w.Fc(6,Qe,2,7,"ng-container",34),w.Fc(7,He,2,7,"ng-container",34),w.Fc(8,Ue,2,2,"ng-container",27),w.Qb(),w.Fc(9,Ve,2,0,"span",28)),2&e){var n=w.dc(3).$implicit,i=w.dc(3);w.kc("ngSwitch",n.type),w.Bb(1),w.kc("ngSwitchCase","OneToMany"),w.Bb(1),w.kc("ngSwitchCase","ManyToMany"),w.Bb(1),w.kc("ngSwitchCase","Boolean"),w.Bb(1),w.kc("ngSwitchCase","Number"),w.Bb(1),w.kc("ngSwitchCase","Date"),w.Bb(1),w.kc("ngSwitchCase","Time"),w.Bb(1),w.kc("ngSwitchCase","DateTime"),w.Bb(2),w.kc("ngIf",!0===i.isRequired(n.field))}}function Ge(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.Qb()),2&e){var n=w.dc(5).$implicit,i=w.dc().$implicit;w.Bb(1),w.Jc(" ",null==i[n.field]?null:i[n.field].display," ")}}function qe(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.Qb()),2&e){var n=w.dc(5).$implicit,i=w.dc().$implicit,a=w.dc(2);w.Bb(1),w.Jc(" ",a.formatDisplayName(i[n.field])," ")}}function Xe(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.ec(2,"date"),w.Qb()),2&e){var n=w.dc(5).$implicit,i=w.dc().$implicit;w.Bb(1),w.Jc(" ",!0===n.isDate?w.gc(2,1,i[n.field],n.formatDate):i[n.field]," ")}}function Ke(e,t){if(1&e&&(w.Rb(0),w.Rb(1,15),w.Fc(2,Ge,2,1,"ng-container",34),w.Fc(3,qe,2,1,"ng-container",34),w.Fc(4,Xe,3,4,"ng-container",27),w.Qb(),w.Qb()),2&e){var n=w.dc(4).$implicit;w.Bb(1),w.kc("ngSwitch",n.type),w.Bb(1),w.kc("ngSwitchCase","OneToMany"),w.Bb(1),w.kc("ngSwitchCase","ManyToMany")}}function We(e,t){if(1&e&&w.Fc(0,Ke,5,3,"ng-container",9),2&e){var n=w.dc(4).$implicit,i=w.dc(2);w.kc("ngIf",!0!==i.isFooter(n))}}function Ye(e,t){if(1&e&&(w.Fc(0,Je,10,9,"ng-template",32),w.Fc(1,We,1,1,"ng-template",null,33,w.Gc)),2&e){var n=w.xc(2),i=w.dc(2).$implicit;w.kc("ngIf",!0===i.isEditable)("ngIfElse",n)}}function Ze(e,t){1&e&&w.Fc(0,Ye,3,2,"ng-template",26)}function et(e,t){1&e&&(w.Tb(0,"label"),w.Hc(1,"-"),w.Sb())}function tt(e,t){if(1&e&&w.Fc(0,et,2,0,"label",9),2&e){var n=w.dc(3).$implicit;w.kc("ngIf",!0===n.isEditable)}}function nt(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.Qb()),2&e){var n=w.dc(4).$implicit,i=w.dc().$implicit;w.Bb(1),w.Jc(" ",null==i[n.field]?null:i[n.field].display," ")}}function it(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.Qb()),2&e){var n=w.dc(4).$implicit,i=w.dc().$implicit,a=w.dc(2);w.Bb(1),w.Jc(" ",a.formatDisplayName(i[n.field])," ")}}function at(e,t){1&e&&w.Ob(0,"i",45)}function ct(e,t){if(1&e&&(w.Rb(0),w.Fc(1,at,1,0,"i",44),w.Qb()),2&e){var n=w.dc(4).$implicit,i=w.dc().$implicit;w.Bb(1),w.kc("ngIf",!0===i[n.field])}}function ot(e,t){if(1&e&&(w.Rb(0),w.Hc(1),w.ec(2,"date"),w.Qb()),2&e){var n=w.dc(4).$implicit,i=w.dc().$implicit;w.Bb(1),w.Jc(" ",!0===n.isDate?w.gc(2,1,i[n.field],n.formatDate):i[n.field]," ")}}function rt(e,t){if(1&e&&(w.Rb(0,15),w.Fc(1,nt,2,1,"ng-container",34),w.Fc(2,it,2,1,"ng-container",34),w.Fc(3,ct,2,1,"ng-container",34),w.Fc(4,ot,3,4,"ng-container",27),w.Qb()),2&e){var n=w.dc(3).$implicit;w.kc("ngSwitch",n.type),w.Bb(1),w.kc("ngSwitchCase","OneToMany"),w.Bb(1),w.kc("ngSwitchCase","ManyToMany"),w.Bb(1),w.kc("ngSwitchCase","Boolean")}}function lt(e,t){if(1&e&&(w.Fc(0,tt,1,1,"ng-template",32),w.Fc(1,rt,5,4,"ng-template",null,43,w.Gc)),2&e){var n=w.xc(2),i=w.dc(3).$implicit,a=w.dc(2);w.kc("ngIf",!0===a.isFooter(i))("ngIfElse",n)}}function st(e,t){1&e&&w.Fc(0,lt,3,2,"ng-template",31)}function ut(e,t){if(1&e){var n=w.Ub();w.Tb(0,"td",25),w.bc("click",(function(){w.yc(n);var e=w.dc().$implicit;return w.dc(2).initEditableRow(e)})),w.Tb(1,"p-cellEditor"),w.Fc(2,$e,1,0,void 0,9),w.Fc(3,Le,1,0,void 0,9),w.Fc(4,Ze,1,0,void 0,9),w.Fc(5,st,1,0,void 0,9),w.Sb(),w.Sb()}if(2&e){var i=t.$implicit,a=w.dc(3);w.Bb(2),w.kc("ngIf",!0===a.isSpecificInput(i.field)),w.Bb(1),w.kc("ngIf",!0===a.isSpecificInput(i.field)),w.Bb(1),w.kc("ngIf",!0!==a.isSpecificInput(i.field)),w.Bb(1),w.kc("ngIf",!0!==a.isSpecificInput(i.field))}}function bt(e,t){if(1&e){var n=w.Ub();w.Tb(0,"tr",19),w.bc("focusout",(function(){return w.yc(n),w.dc(2).onFocusout()}))("keyup.enter",(function(){return w.yc(n),w.dc(2).initEditableRow(null)}))("keyup.escape",(function(){return w.yc(n),w.dc(2).cancel()})),w.Fc(1,Be,3,2,"td",9),w.Fc(2,ut,6,4,"td",20),w.Sb()}if(2&e){var i=t.$implicit,a=t.columns,c=w.dc(2);w.kc("pSelectableRow",!0!==c.isFooter(i)?i:null)("pEditableRow",i),w.Bb(1),w.kc("ngIf",c.canSelectElement),w.Bb(1),w.kc("ngForOf",a)}}function ft(e,t){if(1&e&&(w.Tb(0,"tr"),w.Tb(1,"td",46),w.Hc(2),w.ec(3,"translate"),w.Sb(),w.Sb()),2&e){var n=t.$implicit;w.Bb(1),w.Cb("colspan",n.length+1),w.Bb(1),w.Jc(" ",w.fc(3,2,"bia.NoRecordsFound")," ")}}function dt(e,t){if(1&e){var n=w.Ub();w.Tb(0,"p-table",2,3),w.bc("onFilter",(function(){return w.yc(n),w.dc().onFilter()}))("onLazyLoad",(function(e){return w.yc(n),w.dc().onLoadLazy(e)}))("onStateSave",(function(e){return w.yc(n),w.dc().onStateSave(e)}))("selectionChange",(function(){return w.yc(n),w.dc().onSelectionChange()})),w.ec(2,"async"),w.Fc(3,ke,4,3,"ng-template",4),w.Fc(4,bt,3,4,"ng-template",5),w.Fc(5,ft,4,4,"ng-template",6),w.Sb()}if(2&e){var i=w.dc();w.kc("autoLayout",!0)("reorderableColumns",!0)("columns",i.displayedColumns)("value",i.elements)("paginator",i.paginator)("rows",i.pageSize)("totalRecords",i.totalRecord)("lazy",!0)("loading",i.loading&&null!==w.fc(2,14,i.showLoading$))("stateStorage","session")("stateKey",i.tableStateKey)("lazyLoadOnInit",i.getLazyLoadOnInit())("sortField",i.sortFieldValue)("sortOrder",i.sortOrderValue)}}var pt,ht,gt,mt=((ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,c){var o;return _classCallCheck(this,n),(o=t.call(this,e,i,a,c)).formBuilder=e,o.authService=i,o.biaMessageService=a,o.translateService=c,o.initForm(),o}return _createClass(n,[{key:"initForm",value:function(){var e;this.form=this.formBuilder.group({id:[this.element.id],msn:[this.element.msn,ie.o.required],isActive:[this.element.isActive],firstFlightDate:[this.element.firstFlightDate,ie.o.required],firstFlightTime:[this.element.firstFlightTime,ie.o.required],lastFlightDate:[this.element.lastFlightDate],capacity:[this.element.capacity,ie.o.required],connectingAirports:[this.element.connectingAirports],planeType:[null===(e=this.element.planeType)||void 0===e?void 0:e.id]})}},{key:"onSubmit",value:function(){var e;if(this.form.valid){var t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=ae.a.Differential(t.connectingAirports,null===(e=this.element)||void 0===e?void 0:e.connectingAirports),t.planeType=ae.a.Clone(t.planeType),this.save.emit(t),this.form.reset()}}}]),n}(ce.a)).\u0275fac=function(e){return new(e||ht)(w.Nb(ie.b),w.Nb(U.a),w.Nb(M.a),w.Nb(Z.d))},ht.\u0275cmp=w.Hb({type:ht,selectors:[["app-plane-table"]],features:[w.yb],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","md-inputfield",4,"ngIf"],[1,"md-inputfield"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","ui-icon-check",4,"ngIf"],[1,"ui-icon-check"],[1,"app-empty-message"]],template:function(e,t){1&e&&(w.Tb(0,"form",0),w.Fc(1,dt,6,16,"p-table",1),w.Sb()),2&e&&(w.kc("formGroup",t.form),w.Bb(1),w.kc("ngIf",t.configuration))},directives:[ie.p,ie.k,ie.f,oe.m,re.f,le.e,oe.l,re.h,re.e,re.d,oe.o,se.a,oe.k,ue.a,re.c,re.b,re.g,re.a,oe.q,ie.a,ie.j,ie.e,oe.p,be.a,fe.a,de.a,ie.m,pe.a,he.a,ie.h],pipes:[oe.b,Z.c,oe.e],styles:["[_nghost-%COMP%]{flex-direction:column}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),ht),yt=((pt=function(){function e(t,n,i,a,c){_classCallCheck(this,e),this.store=t,this.authService=n,this.planeDas=i,this.translateService=a,this.biaTranslationService=c,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=H.b,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(E).pipe(),this.totalCount$=this.store.select(A).pipe(),this.loading$=this.store.select(R).pipe();var e=this.store.select(X.a).pipe();this.store.dispatch(Object(W.b)());var t=this.store.select(K.a).pipe();this.store.dispatch(Object(Y.b)()),this.dictOptionDtos$=Object(N.a)([t,e]).pipe(Object(u.a)((function(e){return[new q.a("planeType",e[0]),new q.a("connectingAirports",e[1])]})))}},{key:"onDelete",value:function(){this.selectedPlanes&&this.canDelete&&this.store.dispatch(v({ids:this.selectedPlanes.map((function(e){return e.id}))}))}},{key:"onSave",value:function(e){(null==e?void 0:e.id)>0?this.canEdit&&this.store.dispatch(m({plane:e})):this.canAdd&&this.store.dispatch(g({plane:e}))}},{key:"onSelectedElementsChanged",value:function(e){this.selectedPlanes=e}},{key:"onPageSizeChange",value:function(e){this.pageSize=e}},{key:"onLoadLazy",value:function(e){this.store.dispatch(p({event:e}))}},{key:"searchGlobalChanged",value:function(e){this.globalSearchValue=e}},{key:"displayedColumnsChanged",value:function(e){this.displayedColumns=e}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(e){this.viewPreference=e}},{key:"onExportCSV",value:function(){var e=this,t={};this.columns.map((function(n){return t[n.value.split(".")[1]]=e.translateService.instant(n.value)}));var n=Object.assign({columns:t},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(n).subscribe((function(t){V.saveAs(t,e.translateService.instant("app.planes")+".csv")}))}},{key:"setPermissions",value:function(){this.canEdit=this.authService.hasPermission(G.a.Plane_Update),this.canDelete=this.authService.hasPermission(G.a.Plane_Delete),this.canAdd=this.authService.hasPermission(G.a.Plane_Create)}},{key:"initTableConfiguration",value:function(){var e=this;this.biaTranslationService.culture$.subscribe((function(t){e.tableConfiguration={columns:[Object.assign(new Q.b("id","bia.id"),{isEditable:!1,type:Q.c.Number}),new Q.b("msn","plane.msn"),Object.assign(new Q.b("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:Q.c.Boolean}),Object.assign(new Q.b("firstFlightDate","plane.firstFlightDate"),{type:Q.c.Date,formatDate:t.dateFormat}),Object.assign(new Q.b("firstFlightTime","plane.firstFlightTime"),{isSearchable:!1,isSortable:!1,type:Q.c.Time,formatDate:t.timeFormat}),Object.assign(new Q.b("lastFlightDate","plane.lastFlightDate"),{type:Q.c.DateTime,formatDate:t.dateTimeFormat}),Object.assign(new Q.b("capacity","plane.capacity"),{type:Q.c.Number,filterMode:Q.a.Equals}),Object.assign(new Q.b("planeType","plane.planeType"),{type:Q.c.OneToMany}),Object.assign(new Q.b("connectingAirports","plane.connectingAirports"),{type:Q.c.ManyToMany})]},e.columns=e.tableConfiguration.columns.map((function(e){return{key:e.field,value:e.header}})),e.displayedColumns=_toConsumableArray(e.columns)}))}}]),e}()).\u0275fac=function(e){return new(e||pt)(w.Nb(c.b),w.Nb(U.a),w.Nb(k),w.Nb(Z.d),w.Nb(J.a))},pt.\u0275cmp=w.Hb({type:pt,selectors:[["app-planes-index"]],viewQuery:function(e,t){var n;1&e&&w.Lc(z.a,!0),2&e&&w.wc(n=w.cc())&&(t.planeListComponent=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&w.Fb("bia-flex",t.flex)},decls:11,vars:33,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canExportCSV","selectedElements","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","loadLazy","selectedElementsChanged","save"]],template:function(e,t){1&e&&(w.Tb(0,"div",0),w.Tb(1,"div",1),w.Tb(2,"bia-table-header",2),w.bc("exportCSV",(function(){return t.onExportCSV()}))("delete",(function(){return t.onDelete()})),w.ec(3,"translate"),w.Sb(),w.Tb(4,"bia-table-controller",3),w.bc("displayedColumnsChange",(function(e){return t.displayedColumnsChanged(e)}))("filter",(function(e){return t.searchGlobalChanged(e)}))("pageSizeChange",(function(e){return t.onPageSizeChange(e)}))("toggleSearch",(function(){return t.onToggleSearch()}))("viewChange",(function(e){return t.onViewChange(e)})),w.ec(5,"async"),w.Sb(),w.Tb(6,"app-plane-table",4),w.bc("loadLazy",(function(e){return t.onLoadLazy(e)}))("selectedElementsChanged",(function(e){return t.onSelectedElementsChanged(e)}))("save",(function(e){return t.onSave(e)})),w.ec(7,"async"),w.ec(8,"async"),w.ec(9,"async"),w.ec(10,"async"),w.Sb(),w.Sb(),w.Sb()),2&e&&(w.Bb(2),w.kc("headerTitle",w.fc(3,21,"plane.listOf"))("canAdd",!1)("canExportCSV",!0)("selectedElements",t.selectedPlanes),w.Bb(2),w.kc("defaultPageSize",t.defaultPageSize)("length",w.fc(5,23,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),w.Bb(2),w.kc("elements",w.fc(7,25,t.planes$))("dictOptionDtos",w.fc(8,27,t.dictOptionDtos$))("totalRecord",w.fc(9,29,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",t.canEdit)("canAdd",t.canAdd)("canSelectElement",t.canDelete)("loading",w.fc(10,31,t.loading$))("viewPreference",t.viewPreference))},directives:[ee.d,ee.b,te.a,ne.a,mt],pipes:[Z.c,oe.b],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),pt),vt=n("PCNd"),St=n("+dww"),Ot=n("ONFI"),Ct=n("8NO8"),jt=[{path:"",data:{breadcrumb:null,permission:G.a.Plane_List_Access},component:yt,canActivate:[St.a]},{path:"**",redirectTo:""}],wt=((gt=function e(){_classCallCheck(this,e)}).\u0275mod=w.Lb({type:gt}),gt.\u0275inj=w.Kb({factory:function(e){return new(e||gt)},imports:[[vt.a,a.f.forChild(jt),c.d.forFeature("planes-mode-calc",I),o.b.forFeature([x]),Ot.a,Ct.a]]}),gt)}}]);