!function(){"use strict";function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var r,i,o=[],a=!0,c=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){c=!0,i=u}finally{try{a||null==e.return||e.return()}finally{if(c)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function e(t,n){return(e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function r(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var e,r=o(t);if(n){var a=o(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return i(this,e)}}function i(t,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function c(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,n,e){return n&&c(t.prototype,n),e&&c(t,e),t}(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[173],{16249:function(t,n,e){e.d(n,{n:function(){return l}});var r,i=e(39083),o=e(92340),c=e(68307),f=e(37716),l=((r=function(){function t(n){a(this,t),this.authService=n}return u(t,[{key:"canActivate",value:function(t,n){return this.authService.hasPermissionObs(t.data.permission).pipe((0,c.b)(function(t){!0!==t&&(window.location.href=o.N.urlErrorPage+"?num=403")}))}}]),t}()).\u0275fac=function(t){return new(t||r)(f.LFG(i.e))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},82762:function(t,n,e){e.d(n,{b:function(){return r}});var r=(0,e(86710).PH)("[Bia] Success the refresh of the list will be done by signalR.")},40173:function(n,i,o){o.r(i),o.d(i,{HangfireModule:function(){return z}});var c=o(94666),f=o(61028),l=o(16249),s=o(29206),p=o(28731),h=o(86710),d=(0,h.PH)("[Notifications] Failure",(0,h.Ky)()),y=(0,h.PH)("[Notifications] Call worker with notification",(0,h.Ky)()),v=o(37716),g=o(35618),m=o(38583),b=o(4207);function w(t,n){if(1&t){var e=v.EpF();v.TgZ(0,"button",6),v.NdJ("click",function(){v.CHM(e);var t=v.oxw().$implicit;return v.oxw().randomReviewPlane(t.id)}),v.qZA()}if(2&t){var r=v.oxw().$implicit;v.s9C("label",r.title)}}function Z(t,n){if(1&t&&(v.ynx(0),v.YNc(1,w,1,1,"button",5),v.BQk()),2&t){var e=n.$implicit;v.xp6(1),v.Q6J("ngIf",1===e.teamTypeId)}}function x(t,n){if(1&t){var e=v.EpF();v.TgZ(0,"button",6),v.NdJ("click",function(){v.CHM(e);var t=v.oxw().$implicit;return v.oxw().randomReviewPlane(t.id)}),v.qZA()}if(2&t){var r=v.oxw().$implicit;v.s9C("label",r.title)}}function _(t,n){if(1&t&&(v.ynx(0),v.YNc(1,x,1,1,"button",5),v.BQk()),2&t){var e=n.$implicit;v.xp6(1),v.Q6J("ngIf",2===e.teamTypeId)}}function A(t,n){if(1&t){var e=v.EpF();v.TgZ(0,"button",6),v.NdJ("click",function(){v.CHM(e);var t=v.oxw().$implicit;return v.oxw().randomReviewPlane(t.id)}),v.qZA()}if(2&t){var r=v.oxw().$implicit;v.hYB("label","",r.parentTeamTitle," > ",r.title,"")}}function T(t,n){if(1&t&&(v.ynx(0),v.YNc(1,A,1,2,"button",5),v.BQk()),2&t){var e=n.$implicit;v.xp6(1),v.Q6J("ngIf",3===e.teamTypeId)}}var O,P=((O=function(){function t(n){a(this,t),this.store=n,this.flex=!0,this.allTeams$=this.store.select(p.qX)}return u(t,[{key:"randomReviewPlane",value:function(t){this.store.dispatch(y({teamId:t}))}}]),t}()).\u0275fac=function(t){return new(t||O)(v.Y36(h.yh))},O.\u0275cmp=v.Xpm({type:O,selectors:[["app-hangfire-index"]],hostVars:2,hostBindings:function(t,n){2&t&&v.ekj("bia-flex",n.flex)},decls:36,vars:9,consts:[["fxLayout","row","fxLayoutAlign","space-between",1,"header"],["fxLayout","row","fxLayoutGap","8px","fxLayoutAlign","stretch center"],["fxLayout","row wrap"],["fxLayout","row wrap","fxLayoutAlign","space-around"],[4,"ngFor","ngForOf"],["pButton","","type","button",3,"label","click",4,"ngIf"],["pButton","","type","button",3,"label","click"]],template:function(t,n){1&t&&(v.TgZ(0,"div",0),v._UZ(1,"div",1),v.TgZ(2,"div",1),v.TgZ(3,"h1"),v._uU(4,"Launch random review plane in hanfire job."),v.qZA(),v.qZA(),v._UZ(5,"div",1),v.qZA(),v._UZ(6,"BR"),v._UZ(7,"BR"),v.TgZ(8,"div",2),v._uU(9," On a plane of one the following\xa0"),v.TgZ(10,"b"),v._uU(11,"Sites"),v.qZA(),v.qZA(),v._UZ(12,"BR"),v.TgZ(13,"div",3),v.YNc(14,Z,2,1,"ng-container",4),v.ALo(15,"async"),v.qZA(),v._UZ(16,"BR"),v._UZ(17,"BR"),v.TgZ(18,"div",2),v._uU(19," On a plane of the current site and notify team of type\xa0"),v.TgZ(20,"b"),v._uU(21,"Aircraft Maintenance Company"),v.qZA(),v.qZA(),v._UZ(22,"BR"),v.TgZ(23,"div",3),v.YNc(24,_,2,1,"ng-container",4),v.ALo(25,"async"),v.qZA(),v._UZ(26,"BR"),v._UZ(27,"BR"),v.TgZ(28,"div",2),v._uU(29," On a plane of the current site and notify team of type\xa0"),v.TgZ(30,"b"),v._uU(31,"Maintenance Team"),v.qZA(),v.qZA(),v._UZ(32,"BR"),v.TgZ(33,"div",3),v.YNc(34,T,2,1,"ng-container",4),v.ALo(35,"async"),v.qZA()),2&t&&(v.xp6(14),v.Q6J("ngForOf",v.lcZ(15,3,n.allTeams$)),v.xp6(10),v.Q6J("ngForOf",v.lcZ(25,5,n.allTeams$)),v.xp6(10),v.Q6J("ngForOf",v.lcZ(35,7,n.allTeams$)))},directives:[g.xw,g.Wh,g.SQ,m.sg,m.O5,b.Hq],pipes:[m.Ov],styles:['[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}button[_ngcontent-%COMP%]{margin-bottom:15px}.header[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:"raleway-thin",serif;font-size:36px;font-weight:200;margin:0;line-height:24px}']}),O),L=(0,o(80273).H)({sortComparer:!1}).getInitialState({lastLazyLoadEvent:{},loadingGet:!1}),R=(0,h.Lq)(L);function U(t,n){return(0,h.UY)({hangfire:R})(t,n)}var k=(0,h.ZF)("hangfire"),B=(0,h.P1)(k,function(t){return t.hangfire}),C=(0,h.P1)(B,function(t){return t.lastLazyLoadEvent});(0,h.P1)(B,function(t){return t.loadingGet});var q=o(91601),F=o(25917),M=o(92996),S=o(94612),$=o(57057),j=o(43190),I=o(88002),N=o(5304),E=o(1390),Y=function(){var t=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(i,t);var n=r(i);function i(t){return a(this,i),n.call(this,t,"hangfires")}return u(i,[{key:"randomReviewPlane",value:function(t){return this.http.put(this.route+"randomReviewPlane/"+t,null)}}]),i}(E.d);return t.\u0275fac=function(n){return new(n||t)(v.LFG(v.zs3))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Q=o(82762),G=o(42),J=function(){var n=function n(e,r,i,o){var c=this;a(this,n),this.actions$=e,this.hangfireDas=r,this.biaMessageService=i,this.store=o,this.randomReviewPlane$=(0,q.GW)(function(){return c.actions$.pipe((0,q.l4)(y),(0,M.j)("teamId"),(0,S.b)(function(t){return(0,F.of)(t).pipe((0,$.M)(c.store.select(C)))}),(0,j.w)(function(n){var e=t(n,2),r=e[0];e[1];return c.hangfireDas.randomReviewPlane(r).pipe((0,I.U)(function(){return c.biaMessageService.showUpdateSuccess(),(0,Q.b)()}),(0,N.K)(function(t){return c.biaMessageService.showError(),(0,F.of)(d({error:t}))}))}))})};return n.\u0275fac=function(t){return new(t||n)(v.LFG(q.eX),v.LFG(Y),v.LFG(G.X),v.LFG(h.yh))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n}(),H=[{path:"",data:{breadcrumb:null,permission:s.y.Notification_List_Access},component:P,canActivate:[l.n]},{path:"**",redirectTo:""}],z=function(){var t=function t(){a(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({providers:[],imports:[[f.m,c.Bz.forChild(H),h.Aw.forFeature("hangfire",U),q.sQ.forFeature([J])]]}),t}()}}])}();