"use strict";(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[173],{16249:function(t,e,i){i.d(e,{n:function(){return s}});var r=i(8340),n=i(92340),o=i(68307),a=i(37716);let s=(()=>{class t{constructor(t){this.authService=t}canActivate(t,e){return this.authService.hasPermissionObs(t.data.permission).pipe((0,o.b)(t=>{!0!==t&&(window.location.href=n.N.urlErrorPage+"?num=403")}))}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(r.e))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},82762:function(t,e,i){i.d(e,{b:function(){return r}});const r=(0,i(86710).PH)("[Bia] Success the refresh of the list will be done by signalR.")},40173:function(t,e,i){i.r(e),i.d(e,{HangfireModule:function(){return H}});var r=i(2694),n=i(84594),o=i(16249),a=i(29206),s=i(86710);const c=(0,s.PH)("[Notifications] Failure",(0,s.Ky)()),l=(0,s.PH)("[Notifications] Call worker with notification");var f=i(37716),u=i(35618),h=i(4207);let p=(()=>{class t{constructor(t){this.store=t,this.flex=!0}callWorkerWithNotification(){this.store.dispatch(l())}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(s.yh))},t.\u0275cmp=f.Xpm({type:t,selectors:[["app-hangfire-index"]],hostVars:2,hostBindings:function(t,e){2&t&&f.ekj("bia-flex",e.flex)},decls:3,vars:0,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],["pButton","","type","button","label","Call worker with notification",3,"click"]],template:function(t,e){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"button",2),f.NdJ("click",function(){return e.callWorkerWithNotification()}),f.qZA(),f.qZA(),f.qZA())},directives:[u.xw,u.yH,h.Hq],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),t})();const d=(0,i(80273).H)({sortComparer:!1}).getInitialState({lastLazyLoadEvent:{},loadingGet:!1}),g=(0,s.Lq)(d);function v(t,e){return(0,s.UY)({hangfire:g})(t,e)}const b=(0,s.ZF)("hangfire"),w=(0,s.P1)(b,t=>t.hangfire),m=(0,s.P1)(w,t=>t.lastLazyLoadEvent);(0,s.P1)(w,t=>t.loadingGet);var k=i(91601),y=i(25917),x=i(94612),L=i(57057),W=i(43190),F=i(88002),N=i(5304),P=i(1390);let G=(()=>{class t extends P.d{constructor(t){super(t,"hangfires")}callWorkerWithNotification(){return this.http.put(this.route+"callworkerwithnotification",null)}}return t.\u0275fac=function(e){return new(e||t)(f.LFG(f.zs3))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=i(82762),A=i(42);let C=(()=>{class t{constructor(t,e,i,r){this.actions$=t,this.hangfireDas=e,this.biaMessageService=i,this.store=r,this.callWorkerWithNotification$=(0,k.GW)(()=>this.actions$.pipe((0,k.l4)(l),(0,x.b)(t=>(0,y.of)(t).pipe((0,L.M)(this.store.select(m)))),(0,W.w)(([t,e])=>this.hangfireDas.callWorkerWithNotification().pipe((0,F.U)(()=>(this.biaMessageService.showUpdateSuccess(),(0,S.b)())),(0,N.K)(t=>(this.biaMessageService.showError(),(0,y.of)(c({error:t}))))))))}}return t.\u0275fac=function(e){return new(e||t)(f.LFG(k.eX),f.LFG(G),f.LFG(A.X),f.LFG(s.yh))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac}),t})();const z=[{path:"",data:{breadcrumb:null,permission:a.y.Notification_List_Access},component:p,canActivate:[o.n]},{path:"**",redirectTo:""}];let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({providers:[],imports:[[n.m,r.Bz.forChild(z),s.Aw.forFeature("hangfire",v),k.sQ.forFeature([C])]]}),t})()}}]);