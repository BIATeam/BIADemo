<h3>{{ 'bia.views.summary' | translate }}</h3>
<div class="summary-box">
  <div>
    <b>{{ 'bia.itemsPerPage' | translate }}</b> : {{ tableState?.rows }}
  </div>
  @if (globalFilter) {
    <div>
      <b>{{ 'bia.views.globalSearchFilter' | translate }}</b> :
      {{ globalFilter | json }}
    </div>
  }

  <p-table [value]="recapData" class="p-datatable-sm mt-3">
    <ng-template pTemplate="header">
      <tr>
        <th>{{ 'bia.views.column' | translate }}</th>
        <th>{{ 'bia.views.filter' | translate }}</th>
        <th>{{ 'bia.views.sort' | translate }}</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData>
      @let field = getFieldConfig(rowData.column);
      @if (field) {
        <tr>
          <td>{{ field.header | translate }}</td>
          <td>
            @if (rowData.filter) {
              <bia-table-filter-recap
                [filterArray]="
                  arrayType.isArray(rowData.filter)
                    ? rowData.filter
                    : [rowData.filter]
                "
                [columnFilterType]="field.type"
                [field]="field"
                [options]="
                  getOptionDto(rowData.column)
                "></bia-table-filter-recap>
            }
          </td>
          <td>
            @if (rowData.sort) {
              <i
                class="pi"
                [ngClass]="rowData.sort"
                style="font-size: 1rem"></i>
            }
          </td>
        </tr>
      }
    </ng-template>
  </p-table>
</div>
