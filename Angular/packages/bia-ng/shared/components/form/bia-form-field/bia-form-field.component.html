@if (field.isVisible === true) {
  <div class="flex flex-row align-items-center">
    <div class="app-field-container">
      <div [formGroup]="form">
        @if (field.specificOutput === true) {
          <ng-container
            *ngTemplateOutlet="
              specificOutputTemplate;
              context: { field: field, data: getCellData(field) }
            "></ng-container>
        } @else if (field.specificInput === true) {
          <ng-container
            *ngTemplateOutlet="
              specificInputTemplate;
              context: { field: field, form: form }
            "></ng-container>
        } @else {
          @switch (field.type) {
            @case ('OneToMany') {
              <p-floatlabel variant="on">
                <p-select
                  [options]="getOptionDto(field.field)"
                  placeholder="&nbsp;"
                  [formControlName]="field.field"
                  optionLabel="display"
                  datakey="id"
                  [style]="{ width: '100%' }"
                  [showClear]="true"
                  appendTo="body"
                  scrollHeight="50vh"></p-select>
                <label>
                  @if (field.isRequired) {
                    <span class="bia-star-mandatory">*</span>
                  }
                  {{ field.header | translate }}</label
                >
              </p-floatlabel>
            }
            @case ('ManyToMany') {
              <p-floatlabel variant="on">
                <p-multiSelect
                  [formControlName]="field.field"
                  [options]="getOptionDto(field.field)"
                  optionLabel="display"
                  datakey="id"
                  appendTo="body"
                  [showClear]="true"
                  [style]="{ width: '100%' }"
                  scrollHeight="50vh"></p-multiSelect>
                <label>
                  @if (field.isRequired) {
                    <span class="bia-star-mandatory">*</span>
                  }
                  {{ field.header | translate }}</label
                >
              </p-floatlabel>
            }
            @case ('Boolean') {
              <div class="flex items-center">
                <p-checkbox
                  binary="true"
                  [formControlName]="field.field"></p-checkbox>
                <label class="ml-2 flex">
                  @if (field.isRequired) {
                    <span class="bia-star-mandatory">*</span>
                  }
                  {{ field.header | translate }}
                </label>
              </div>
            }
            @case ('Number') {
              @if (
                getDisplayNumberFormat(field.displayFormat);
                as displayNumberFormat
              ) {
                <p-floatlabel variant="on">
                  <p-inputNumber
                    [showClear]="!readOnly"
                    [formControlName]="field.field"
                    [mode]="displayNumberFormat.mode"
                    [currency]="displayNumberFormat.currency"
                    [minFractionDigits]="displayNumberFormat.minFractionDigits"
                    [maxFractionDigits]="displayNumberFormat.maxFractionDigits"
                    [min]="displayNumberFormat.min"
                    [max]="displayNumberFormat.max"
                    [locale]="displayNumberFormat.autoLocale || 'en-US'" />
                  <label>
                    @if (field.isRequired) {
                      <span class="bia-star-mandatory">*</span>
                    }
                    {{ field.header | translate }}</label
                  >
                </p-floatlabel>
              }
            }
            @case ('Date') {
              @if (
                getDisplayDateFormat(field.displayFormat);
                as displayDateFormat
              ) {
                <p-floatlabel variant="on">
                  <p-date-picker
                    biaLocale
                    [formControlName]="field.field"
                    placeholder="&nbsp;"
                    showButtonBar="true"
                    appendTo="body"
                    [dateFormat]="displayDateFormat.autoPrimeDateFormat"
                    [inputStyle]="{ width: '100%' }"
                    [showClear]="true"
                    [view]="
                      getDateView(displayDateFormat.autoPrimeDateFormat)
                    "></p-date-picker>
                  <label>
                    @if (field.isRequired) {
                      <span class="bia-star-mandatory">*</span>
                    }
                    {{ field.header | translate }}</label
                  >
                </p-floatlabel>
              }
            }
            @case ('Time') {
              @if (
                getDisplayDateFormat(field.displayFormat);
                as displayDateFormat
              ) {
                <p-floatlabel variant="on">
                  <p-date-picker
                    [formControlName]="field.field"
                    [showTime]="true"
                    showSeconds="false"
                    timeOnly="true"
                    [dateFormat]="displayDateFormat.autoPrimeDateFormat"
                    [hourFormat]="'24'"
                    placeholder="&nbsp;"
                    [inputStyle]="{ width: '100%' }"
                    appendTo="body"
                    [showClear]="true"></p-date-picker
                  ><!-- [hourFormat]="field.displayFormat.autoHourFormat" not work for 12 (PrimeNG 13)-->
                  <label>
                    @if (field.isRequired) {
                      <span class="bia-star-mandatory">*</span>
                    }
                    {{ field.header | translate }}</label
                  >
                </p-floatlabel>
              }
            }
            @case ('TimeOnly') {
              <p-floatlabel variant="on">
                <p-date-picker
                  [formControlName]="field.field"
                  [showTime]="true"
                  showSeconds="false"
                  timeOnly="true"
                  placeholder="&nbsp;"
                  dataType="string"
                  [hourFormat]="'24'"
                  [inputStyle]="{ width: '100%' }"
                  appendTo="body"
                  [showClear]="true"></p-date-picker
                ><!-- [hourFormat]="field.displayFormat.autoHourFormat" not work for 12 (PrimeNG 13)-->
                <label>
                  @if (field.isRequired) {
                    <span class="bia-star-mandatory">*</span>
                  }
                  {{ field.header | translate }}</label
                >
              </p-floatlabel>
            }
            @case ('TimeSecOnly') {
              <p-floatlabel variant="on">
                <p-date-picker
                  [formControlName]="field.field"
                  [showTime]="true"
                  showSeconds="true"
                  timeOnly="true"
                  placeholder="&nbsp;"
                  dataType="string"
                  [hourFormat]="'24'"
                  [inputStyle]="{ width: '100%' }"
                  appendTo="body"
                  [showClear]="true"></p-date-picker
                ><!-- [hourFormat]="field.displayFormat.autoHourFormat" not work for 12 (PrimeNG 13)-->
                <label>
                  @if (field.isRequired) {
                    <span class="bia-star-mandatory">*</span>
                  }
                  {{ field.header | translate }}</label
                >
              </p-floatlabel>
            }
            @case ('DateTime') {
              @if (
                getDisplayDateFormat(field.displayFormat);
                as displayDateFormat
              ) {
                <p-floatlabel variant="on" variant="on">
                  <p-date-picker
                    biaLocale
                    [formControlName]="field.field"
                    [showTime]="true"
                    [dateFormat]="displayDateFormat.autoPrimeDateFormat"
                    [hourFormat]="displayDateFormat.autoHourFormat.toString()"
                    placeholder="&nbsp;"
                    [inputStyle]="{ width: '100%' }"
                    appendTo="body"
                    [showClear]="true"
                    [showSeconds]="
                      showSeconds(displayDateFormat.autoFormatDate)
                    "
                    [hideOnDateTimeSelect]="false"></p-date-picker>
                  <label>
                    @if (field.isRequired) {
                      <span class="bia-star-mandatory">*</span>
                    }
                    {{ field.header | translate }}</label
                  >
                </p-floatlabel>
              }
            }
            @default {
              <p-floatlabel variant="on">
                <input
                  [formControlName]="field.field"
                  type="text"
                  pInputText
                  maxlength="field.maxlength"
                  style="width: 100%" />
                <label>
                  @if (field.isRequired) {
                    <span class="bia-star-mandatory">*</span>
                  }
                  {{ field.header | translate }}</label
                >
              </p-floatlabel>
            }
          }
        }
      </div>
    </div>
  </div>
}
