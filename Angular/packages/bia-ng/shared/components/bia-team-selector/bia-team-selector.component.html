<div class="controls flex flex-row align-items-center">
  @if (
    displayTeamList === true && teamType.label && teamType.displayLabel === true
  ) {
    <label>{{ teamType.label | translate }} : </label>
  }
  @if (displayTeamList === true) {
    <p-select
      [class]="'p-variant-filled'"
      [options]="teams"
      [(ngModel)]="currentTeam"
      optionLabel="title"
      dataKey="id"
      (onChange)="onTeamChange()"
      scrollHeight="50vh"
      [appendTo]="'body'"
      [showClear]="canClear"></p-select>
  }
  @if (currentTeam) {
    @if (displayTeamList === true && !currentTeam.isDefault) {
      <i
        class="pi pi-star app-icon-header bia-pointer"
        (click)="onSetDefaultTeam()"
        pTooltip="{{ 'bia.defineDefault' | translate }}"
        tooltipPosition="bottom"
        placeholder="Top"></i>
    }
    @if (displayTeamList === true && currentTeam.isDefault) {
      <i
        class="pi pi-star-fill app-icon-header bia-pointer"
        (click)="onResetDefaultTeam()"
        pTooltip="{{ 'bia.resetDefault' | translate }}"
        tooltipPosition="bottom"></i>
    }
  }
  <!-- Role selection -->
  @if (displayRoleList) {
    <p-select
      [class]="'p-variant-filled'"
      [options]="roles"
      [(ngModel)]="currentRole"
      optionLabel="display"
      dataKey="id"
      (onChange)="onRolesChange()"
      placeholder="Select a role"
      scrollHeight="50vh"
      [appendTo]="'body'">
    </p-select>
  }
  @if (displayRoleMultiSelect) {
    <p-multiSelect
      [class]="'p-variant-filled'"
      [options]="roles"
      [(ngModel)]="currentRoles"
      optionLabel="display"
      datakey="id"
      (onChange)="onRolesChange()"
      (onClear)="onRolesChange()"
      placeholder="Select a role"
      scrollHeight="50vh"
      [appendTo]="'body'"
      [showClear]="true">
    </p-multiSelect>
  }
  @if (
    (displayRoleList === true || displayRoleMultiSelect === true) &&
    currentRoles &&
    currentRoles.length > 0
  ) {
    @if (!isDefaultRoles()) {
      <i
        class="pi pi-star app-icon-header bia-pointer"
        (click)="onSetDefaultRoles()"
        pTooltip="{{ 'bia.defineDefault' | translate }}"
        tooltipPosition="bottom"
        placeholder="Top"></i>
    }
    @if (isDefaultRoles()) {
      <i
        class="pi pi-star-fill app-icon-header bia-pointer"
        (click)="onResetDefaultRoles()"
        pTooltip="{{ 'bia.resetDefault' | translate }}"
        tooltipPosition="bottom"></i>
    }
  }
</div>
