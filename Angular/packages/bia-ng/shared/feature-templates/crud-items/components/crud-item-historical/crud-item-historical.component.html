<p-timeline [value]="historicalEntries">
  <ng-template #opposite let-entry>
    <div class="d-flex flex-column">
      <div>
        <small
          ><b>{{ entry.entryDateTime | date: 'medium' }}</b></small
        >
      </div>
      <div>
        <small>{{ entry.entryUserLogin }}</small>
      </div>
    </div>
  </ng-template>
  <ng-template #marker let-entry>
    <span
      class="historical-entry-icon-container-{{
        getEntryIconClassSuffix(entry)
      }}">
      <i class="pi {{ getEntryIcon(entry) }}"></i>
    </span>
  </ng-template>
  <ng-template #content let-entry>
    <span class="historical-entry-title">{{
      getEntryTitle(entry) | translate
    }}</span>
    @if (entry.entryType === 1) {
      <p-card class="m-1">
        <ul>
          @for (modification of entry.entryModifications; track $index) {
            <li>
              <div class="d-flex flex-row m-1">
                <span class="historical-entry-modification">
                  <b>{{
                    getFullPropertyName(modification.propertyName) | translate
                  }}</b>
                </span>
                @if (!modification.isLinkedProperty) {
                  <span class="historical-entry-modification-old">{{
                    modification.oldValue ?? 'null'
                  }}</span>
                  <i
                    class="pi pi-arrow-right historical-entry-modification"></i>
                  <span class="historical-entry-modification-new">{{
                    modification.newValue ?? 'null'
                  }}</span>
                } @else {
                  @if (modification.oldValue) {
                    <span class="historical-entry-modification-old"
                      ><i
                        class="pi pi-trash historical-entry-modification-link-icon"></i
                      >{{ modification.oldValue ?? 'null' }}</span
                    >
                  }
                  @if (modification.newValue) {
                    <span class="historical-entry-modification-new">
                      <i
                        class="pi pi-plus-circle historical-entry-modification-link-icon"></i
                      >{{ modification.newValue ?? 'null' }}</span
                    >
                  }
                }
              </div>
            </li>
          }
        </ul>
      </p-card>
    }
  </ng-template>
</p-timeline>
