<div class="bia-table-controller-container">
  <div>
    <span>{{ 'bia.display' | translate }} </span>
    <p-multiSelect
      [options]="listedColumns"
      optionLabel="label"
      optionValue="value"
      [(ngModel)]="displayedColumns"
      (onChange)="onChangeSelectColumn()"
      autoWidth="false"
      [style]="{ width: '300px' }"
      scrollHeight="50vh"></p-multiSelect>
  </div>
  <div *ngIf="tableStateKey">
    <span>{{ 'bia.views.view' | translate }} : </span>
    <bia-view-list
      [tableStateKey]="tableStateKey"
      [tableState]="tableState"
      [defaultViewPref]="defaultViewPref"
      [useViewTeamWithTypeId]="useViewTeamWithTypeId"
      [displayedColumns]="displayedColumns"
      [columns]="columns"
      (viewChange)="onViewChange($event)"></bia-view-list>
  </div>
  <div>
    <ng-container *ngTemplateOutlet="customControlTemplate"></ng-container>
  </div>
  <div class="p-float-label" style="margin-top: -15px">
    <input
      id="bia-input-search"
      pInputText
      type="text"
      [formControl]="filterCtrl"
      [value]="globalFilter" />
    <label for="name">{{ 'bia.search' | translate }}</label>
    <i class="pi pi-search bia-pointer"></i>
  </div>
  <div class="flex gap-3">
    <p-button
      [style]="{ overflow: 'visible' }"
      icon="pi pi-filter"
      styleClass="p-overlay-badge"
      [text]="true"
      (click)="onToggleSearch()"
      pTooltip="{{ 'bia.showHideFilters' | translate }}"
      tooltipPosition="top">
      @if (hasColumnFilter) {
        <span class="p-badge p-component p-badge-dot p-badge-warning"></span>
      }
    </p-button>
    <p-button
      styleClass="bia-btn-del-filter"
      icon="pi pi-filter-slash"
      [text]="true"
      (onClick)="onClearFilters()"
      pTooltip="{{ 'bia.deleteFilters' | translate }}"
      tooltipPosition="top" />
  </div>
</div>
