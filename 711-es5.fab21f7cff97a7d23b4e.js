!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,o=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(l){s=!0,a=l}finally{try{r||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[711],{6711:function(t,a,o){o.r(a),o.d(a,{PlaneModule:function(){return He}});var u,p=o(2694),d=o(86710),f=o(91601),h=o(25917),g=o(92996),y=o(43190),v=o(88002),b=o(5304),m=o(94612),Z=o(57057),A=(0,d.PH)("[Planes Popup] Load all by post",(0,d.Ky)()),w=(0,d.PH)("[Planes Popup] Load",(0,d.Ky)()),S=(0,d.PH)("[Planes Popup] Create",(0,d.Ky)()),T=(0,d.PH)("[Planes Popup] Update",(0,d.Ky)()),C=(0,d.PH)("[Planes Popup] Remove",(0,d.Ky)()),O=(0,d.PH)("[Planes Popup] Multi Remove",(0,d.Ky)()),P=(0,d.PH)("[Planes Popup] Load all by post success",(0,d.Ky)()),L=(0,d.PH)("[Planes Popup] Load success",(0,d.Ky)()),D=(0,d.PH)("[Planes Popup] Failure",(0,d.Ky)()),x=(0,d.PH)("[Planes Popup] Open dialog edit"),q=(0,d.PH)("[Planes Popup] Close dialog edit"),k=(0,d.PH)("[Planes Popup] Open dialog new"),j=(0,d.PH)("[Planes Popup] Close dialog new"),M=o(74147),_=o(37716),E=((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,e);var t=c(n);function n(e){return s(this,n),t.call(this,e,"Planes")}return n}(M.Z)).\u0275fac=function(e){return new(e||u)(_.LFG(_.zs3))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u),F=(0,o(80273).H)({selectId:function(e){return e.id},sortComparer:!1}),$=F.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1,displayEditDialog:!1,displayNewDialog:!1}),U=(0,d.Lq)($,(0,d.on)(k,function(e){return Object.assign(Object.assign({},e),{displayNewDialog:!0})}),(0,d.on)(j,function(e){return Object.assign(Object.assign({},e),{displayNewDialog:!1})}),(0,d.on)(x,function(e){return Object.assign(Object.assign({},e),{displayEditDialog:!0})}),(0,d.on)(q,function(e){return Object.assign(Object.assign({},e),{displayEditDialog:!1})}),(0,d.on)(A,function(e,t){return r(t),Object.assign(Object.assign({},e),{loadingGetAll:!0})}),(0,d.on)(w,function(e){return Object.assign(Object.assign({},e),{loadingGet:!0})}),(0,d.on)(P,function(e,t){var n=t.result,i=t.event,a=F.setAll(n.data,e);return a.totalCount=n.totalCount,a.lastLazyLoadEvent=i,a.loadingGetAll=!1,a}),(0,d.on)(L,function(e,t){var n=t.plane;return Object.assign(Object.assign({},e),{currentPlane:n,loadingGet:!1})}),(0,d.on)(D,function(e,t){return r(t),Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})}));function J(e,t){return(0,d.UY)({planes:U})(e,t)}var z=(0,d.ZF)("planes-popup"),G=(0,d.P1)(z,function(e){return e.planes}),N=(0,d.P1)(G,function(e){return e.totalCount}),H=(0,d.P1)(G,function(e){return e.currentPlane}),I=(0,d.P1)(G,function(e){return e.lastLazyLoadEvent}),Q=(0,d.P1)(G,function(e){return e.loadingGet}),V=(0,d.P1)(G,function(e){return e.loadingGetAll}),B=(0,d.P1)(G,function(e){return e.displayEditDialog}),K=(0,d.P1)(G,function(e){return e.displayNewDialog}),Y=F.getSelectors(G).selectAll,R=o(42),X=function(){var e=function e(t,n,a,o){var r=this;s(this,e),this.actions$=t,this.planeDas=n,this.biaMessageService=a,this.store=o,this.loadAllByPost$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(A),(0,g.j)("event"),(0,y.w)(function(e){return r.planeDas.getListByPost(e).pipe((0,v.U)(function(t){return P({result:t,event:e})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(D({error:e}))}))}))}),this.load$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(w),(0,g.j)("id"),(0,y.w)(function(e){return r.planeDas.get(e).pipe((0,v.U)(function(e){return L({plane:e})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(D({error:e}))}))}))}),this.create$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(S),(0,g.j)("plane"),(0,m.b)(function(e){return(0,h.of)(e).pipe((0,Z.M)(r.store.select(I)))}),(0,y.w)(function(e){var t=i(e,2),n=t[0],a=t[1];return r.planeDas.post(n).pipe((0,v.U)(function(){return r.biaMessageService.showAddSuccess(),A({event:a})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(D({error:e}))}))}))}),this.update$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(T),(0,g.j)("plane"),(0,m.b)(function(e){return(0,h.of)(e).pipe((0,Z.M)(r.store.select(I)))}),(0,y.w)(function(e){var t=i(e,2),n=t[0],a=t[1];return r.planeDas.put(n,n.id).pipe((0,v.U)(function(){return r.biaMessageService.showUpdateSuccess(),A({event:a})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(D({error:e}))}))}))}),this.destroy$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(C),(0,g.j)("id"),(0,m.b)(function(e){return(0,h.of)(e).pipe((0,Z.M)(r.store.select(I)))}),(0,y.w)(function(e){var t=i(e,2),n=t[0],a=t[1];return r.planeDas.delete(n).pipe((0,v.U)(function(){return r.biaMessageService.showDeleteSuccess(),A({event:a})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(D({error:e}))}))}))}),this.multiDestroy$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(O),(0,g.j)("ids"),(0,m.b)(function(e){return(0,h.of)(e).pipe((0,Z.M)(r.store.select(I)))}),(0,y.w)(function(e){var t=i(e,2),n=t[0],a=t[1];return r.planeDas.deletes(n).pipe((0,v.U)(function(){return r.biaMessageService.showDeleteSuccess(),A({event:a})}),(0,b.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(D({error:e}))}))}))})};return e.\u0275fac=function(t){return new(t||e)(_.LFG(f.eX),_.LFG(E),_.LFG(R.X),_.LFG(d.yh))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac}),e}(),W=o(88385),ee=o(79090),te=o(40136),ne=o(8340),ie=o(49457),ae=o(38042),oe=o(29206),re=o(81780),se=o(35618),le=o(81606),ce=o(76743),ue=o(75319),pe=o(76668),de=o(59931),fe=o(84845),he=o(37597),ge=o(45121),ye=o(33013),ve=o(3679),be=o(11466),me=o(13928),Ze=o(12332),Ae=o(88598),we=o(45862),Se=o(50103),Te=o(36949),Ce=o(4207),Oe=function(){return{width:"100%"}},Pe=function(){return{width:"100%"}},Le=function(){var e=function(){function e(t){s(this,e),this.formBuilder=t,this.plane={},this.save=new _.vpe,this.cancel=new _.vpe,this.initForm()}return n(e,[{key:"ngOnChanges",value:function(e){this.plane&&(this.form.reset(),this.plane&&this.form.patchValue(Object.assign({},this.plane)))}},{key:"initForm",value:function(){var e;this.form=this.formBuilder.group({id:[this.plane.id],msn:[this.plane.msn,ve.kI.required],isActive:[this.plane.isActive],firstFlightDate:[this.plane.firstFlightDate,ve.kI.required],firstFlightTime:[this.plane.firstFlightTime,ve.kI.required],lastFlightDate:[this.plane.lastFlightDate],capacity:[this.plane.capacity,ve.kI.required],connectingAirports:[this.plane.connectingAirports],planeType:[null===(e=this.plane.planeType)||void 0===e?void 0:e.id]})}},{key:"onCancel",value:function(){this.form.reset(),this.cancel.next()}},{key:"onSubmit",value:function(){var e;if(this.form.valid){var t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=be.P.Differential(t.connectingAirports,null===(e=this.plane)||void 0===e?void 0:e.connectingAirports),t.planeType=be.P.Clone(t.planeType),this.save.emit(t),this.form.reset()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_.Y36(ve.qu))},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-plane-form"]],inputs:{plane:"plane",airportOptions:"airportOptions",planeTypeOptions:"planeTypeOptions"},outputs:{save:"save",cancel:"cancel"},features:[_.TTD],decls:67,vars:59,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"p-float-label"],["formControlName","msn","type","text","pInputText","","maxlength","64",2,"width","100%"],[1,"bia-star-mandatory"],["binary","true","formControlName","isActive",3,"label"],["biaLocale","","formControlName","firstFlightDate","placeholder","\xa0","dateFormat","yy-mm-dd",3,"showButtonBar","inputStyle"],["formControlName","firstFlightTime","showTime","true","placeholder","\xa0",3,"timeOnly","inputStyle"],["biaLocale","","formControlName","lastFlightDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0",3,"inputStyle"],["formControlName","capacity","type","number","pInputText","",2,"width","100%"],["placeholder","\xa0","formControlName","planeType","optionLabel","display","datakey","id",3,"options","showClear"],["defaultLabel","\xa0","formControlName","connectingAirports","optionLabel","display","datakey","id",3,"options","virtualScroll"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-outlined",3,"label","click"]],template:function(e,t){1&e&&(_.TgZ(0,"form",0),_.NdJ("submit",function(){return t.onSubmit()}),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"span",3),_._UZ(4,"input",4),_.TgZ(5,"label"),_.TgZ(6,"span",5),_._uU(7,"*"),_.qZA(),_._uU(8),_.ALo(9,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(10,"div",1),_.TgZ(11,"div",2),_._UZ(12,"p-checkbox",6),_.ALo(13,"translate"),_.qZA(),_.qZA(),_.TgZ(14,"div",1),_.TgZ(15,"div",2),_.TgZ(16,"span",3),_._UZ(17,"p-calendar",7),_.TgZ(18,"label"),_.TgZ(19,"span",5),_._uU(20,"*"),_.qZA(),_._uU(21),_.ALo(22,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(23,"div",1),_.TgZ(24,"div",2),_.TgZ(25,"span",3),_._UZ(26,"p-calendar",8),_.TgZ(27,"label"),_.TgZ(28,"span",5),_._uU(29,"*"),_.qZA(),_._uU(30),_.ALo(31,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(32,"div",1),_.TgZ(33,"div",2),_.TgZ(34,"span",3),_._UZ(35,"p-calendar",9),_.TgZ(36,"label"),_._uU(37),_.ALo(38,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(39,"div",1),_.TgZ(40,"div",2),_.TgZ(41,"span",3),_._UZ(42,"input",10),_.TgZ(43,"label"),_.TgZ(44,"span",5),_._uU(45,"*"),_.qZA(),_._uU(46),_.ALo(47,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(48,"div",1),_.TgZ(49,"div",2),_.TgZ(50,"span",3),_._UZ(51,"p-dropdown",11),_.TgZ(52,"label"),_._uU(53),_.ALo(54,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(55,"div",1),_.TgZ(56,"div",2),_.TgZ(57,"span",3),_._UZ(58,"p-multiSelect",12),_.TgZ(59,"label"),_._uU(60),_.ALo(61,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(62,"div",13),_._UZ(63,"button",14),_.ALo(64,"translate"),_.TgZ(65,"button",15),_.NdJ("click",function(){return t.onCancel()}),_.ALo(66,"translate"),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.Q6J("formGroup",t.form),_.xp6(8),_.Oqu(_.lcZ(9,31,"plane.msn")),_.xp6(4),_.s9C("label",_.lcZ(13,33,"plane.isActive")),_.xp6(5),_.Akn(_.DdM(51,Oe)),_.Q6J("showButtonBar",!0)("inputStyle",_.DdM(52,Oe)),_.xp6(4),_.Oqu(_.lcZ(22,35,"plane.firstFlightDate")),_.xp6(5),_.Akn(_.DdM(53,Oe)),_.Q6J("timeOnly",!0)("inputStyle",_.DdM(54,Oe)),_.xp6(4),_.Oqu(_.lcZ(31,37,"plane.firstFlightTime")),_.xp6(5),_.Akn(_.DdM(55,Oe)),_.Q6J("inputStyle",_.DdM(56,Oe)),_.xp6(2),_.Oqu(_.lcZ(38,39,"plane.lastFlightDate")),_.xp6(9),_.Oqu(_.lcZ(47,41,"plane.capacity")),_.xp6(5),_.Akn(_.DdM(57,Pe)),_.Q6J("options",t.planeTypeOptions)("showClear",!0),_.xp6(2),_.Oqu(_.lcZ(54,43,"plane.planeType")),_.xp6(5),_.Akn(_.DdM(58,Pe)),_.Q6J("options",t.airportOptions)("virtualScroll",!0),_.xp6(2),_.Oqu(_.lcZ(61,45,"plane.connectingAirports")),_.xp6(3),_.s9C("label",_.lcZ(64,47,"bia.save")),_.Q6J("disabled",!t.form.valid),_.xp6(2),_.s9C("label",_.lcZ(66,49,"bia.cancel")))},directives:[ve._Y,ve.JL,se.xw,ve.sg,se.Wh,se.yH,ve.Fj,ve.JJ,ve.u,me.o,ve.nD,Ze.XZ,Ae.f,we.D,ve.wV,Se.Lt,Te.NU,se.SQ,Ce.Hq],pipes:[re.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}"]}),e}(),De=o(38583),xe=o(79373);function qe(e,t){1&e&&_._UZ(0,"bia-spinner",3),2&e&&_.Q6J("overlay",!0)}var ke=function(){return{minWidth:"50vw"}},je=function(){return{overflow:"auto"}},Me=function(){var e=function(){function e(t){s(this,e),this.store=t,this.display=!1,this.sub=new ue.w,this.displayChange=new _.vpe}return n(e,[{key:"ngOnInit",value:function(){var e=this;this.loading$=this.store.select(Q),this.plane$=this.store.select(H),this.sub.add(this.store.select(B).subscribe(function(t){return e.display=t})),this.airportOptions$=this.store.select(pe.HJ),this.store.dispatch((0,de.g9)()),this.planeTypeOptions$=this.store.select(fe.by),this.store.dispatch((0,he.bf)())}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(T({plane:e})),this.close()}},{key:"onCancelled",value:function(){this.close()}},{key:"close",value:function(){this.store.dispatch(q())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_.Y36(d.yh))},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-plane-edit-dialog"]],outputs:{displayChange:"displayChange"},decls:10,vars:26,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"plane","airportOptions","planeTypeOptions","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(_.TgZ(0,"p-dialog",0),_.NdJ("visibleChange",function(e){return t.display=e}),_.TgZ(1,"p-header"),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"app-plane-form",1),_.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),_.ALo(5,"async"),_.ALo(6,"async"),_.ALo(7,"async"),_.qZA(),_.YNc(8,qe,1,1,"bia-spinner",2),_.ALo(9,"async"),_.qZA()),2&e&&(_.Akn(_.DdM(24,ke)),_.Q6J("focusOnShow",!1)("visible",t.display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",_.DdM(25,je)),_.xp6(2),_.hij(" ",_.lcZ(3,14,"plane.edit")," "),_.xp6(2),_.Q6J("plane",_.lcZ(5,16,t.plane$))("airportOptions",_.lcZ(6,18,t.airportOptions$))("planeTypeOptions",_.lcZ(7,20,t.planeTypeOptions$)),_.xp6(4),_.Q6J("ngIf",_.lcZ(9,22,t.loading$)))},directives:[ge.V,ye.h4,Le,De.O5,xe.O],pipes:[re.X$,De.Ov],styles:[""]}),e}(),_e=function(){return{minWidth:"50vw"}},Ee=function(){return{overflow:"auto"}},Fe=function(){var e=function(){function e(t){s(this,e),this.store=t,this.display=!1,this.sub=new ue.w,this.displayChange=new _.vpe}return n(e,[{key:"ngOnInit",value:function(){var e=this;this.sub.add(this.store.select(K).subscribe(function(t){return e.display=t})),this.airportOptions$=this.store.select(pe.HJ),this.store.dispatch((0,de.g9)()),this.planeTypeOptions$=this.store.select(fe.by),this.store.dispatch((0,he.bf)())}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(S({plane:e})),this.close()}},{key:"onCancelled",value:function(){this.plane={},this.close()}},{key:"close",value:function(){this.store.dispatch(j())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_.Y36(d.yh))},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-plane-new-dialog"]],outputs:{displayChange:"displayChange"},decls:7,vars:21,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"plane","airportOptions","planeTypeOptions","cancel","save"]],template:function(e,t){1&e&&(_.TgZ(0,"p-dialog",0),_.NdJ("visibleChange",function(e){return t.display=e}),_.TgZ(1,"p-header"),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"app-plane-form",1),_.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),_.ALo(5,"async"),_.ALo(6,"async"),_.qZA(),_.qZA()),2&e&&(_.Akn(_.DdM(19,_e)),_.Q6J("focusOnShow",!1)("visible",t.display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",_.DdM(20,Ee)),_.xp6(2),_.hij(" ",_.lcZ(3,13,"plane.add")," "),_.xp6(2),_.Q6J("plane",t.plane)("airportOptions",_.lcZ(5,15,t.airportOptions$))("planeTypeOptions",_.lcZ(6,17,t.planeTypeOptions$)))},directives:[ge.V,ye.h4,Le],pipes:[re.X$,De.Ov],styles:[""]}),e}(),$e=function(){var t=function(){function t(e,n,i,a,o){s(this,t),this.store=e,this.authService=n,this.planeDas=i,this.translateService=a,this.biaTranslationService=o,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=te.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1}return n(t,[{key:"ngOnInit",value:function(){this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(Y),this.totalCount$=this.store.select(N),this.loading$=this.store.select(V)}},{key:"onCreate",value:function(){this.store.dispatch(k())}},{key:"onEdit",value:function(e){this.store.dispatch(w({id:e})),this.store.dispatch(x())}},{key:"onDelete",value:function(){this.selectedPlanes&&this.store.dispatch(O({ids:this.selectedPlanes.map(function(e){return e.id})}))}},{key:"onSelectedElementsChanged",value:function(e){this.selectedPlanes=e}},{key:"onPageSizeChange",value:function(e){this.pageSize=e}},{key:"onLoadLazy",value:function(e){this.store.dispatch(A({event:e}))}},{key:"searchGlobalChanged",value:function(e){this.globalSearchValue=e}},{key:"displayedColumnsChanged",value:function(e){this.displayedColumns=e}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(e){this.viewPreference=e}},{key:"onExportCSV",value:function(){var e=this,t={};this.columns.map(function(n){return t[n.value.split(".")[1]]=e.translateService.instant(n.value)});var n=Object.assign({columns:t},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(n).subscribe(function(t){ie.saveAs(t,e.translateService.instant("app.planes")+".csv")})}},{key:"setPermissions",value:function(){this.canEdit=this.authService.hasPermission(oe.y.Plane_Update),this.canDelete=this.authService.hasPermission(oe.y.Plane_Delete),this.canAdd=this.authService.hasPermission(oe.y.Plane_Create)}},{key:"initTableConfiguration",value:function(){var t=this;this.biaTranslationService.currentCultureDateFormat$.subscribe(function(n){t.tableConfiguration={columns:[new ee.ML("msn","plane.msn"),Object.assign(new ee.ML("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:ee.d5.Boolean}),Object.assign(new ee.ML("firstFlightDate","plane.firstFlightDate"),{type:ee.d5.Date,formatDate:n.dateFormat}),Object.assign(new ee.ML("firstFlightTime","plane.firstFlightTime"),{isSearchable:!1,isSortable:!1,type:ee.d5.Date,formatDate:n.timeFormat}),Object.assign(new ee.ML("lastFlightDate","plane.lastFlightDate"),{type:ee.d5.Date,formatDate:n.dateTimeFormat}),Object.assign(new ee.ML("capacity","plane.capacity"),{type:ee.d5.Number,filterMode:ee.ZF.Equals}),Object.assign(new ee.ML("planeType","plane.planeType"),{type:ee.d5.OneToMany}),Object.assign(new ee.ML("connectingAirports","plane.connectingAirports"),{type:ee.d5.ManyToMany})]},t.columns=t.tableConfiguration.columns.map(function(e){return{key:e.field,value:e.header}}),t.displayedColumns=e(t.columns)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(_.Y36(d.yh),_.Y36(ne.e),_.Y36(E),_.Y36(re.sK),_.Y36(ae.P6))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-planes-index"]],viewQuery:function(e,t){var n;(1&e&&_.Gf(W.$,5),2&e)&&(_.iGM(n=_.CRH())&&(t.planeListComponent=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&_.ekj("bia-flex",t.flex)},decls:12,vars:29,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","edit","loadLazy","selectedElementsChanged"]],template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"bia-table-header",2),_.NdJ("create",function(){return t.onCreate()})("exportCSV",function(){return t.onExportCSV()})("delete",function(){return t.onDelete()}),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"bia-table-controller",3),_.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),_.ALo(5,"async"),_.qZA(),_.TgZ(6,"bia-table",4),_.NdJ("edit",function(e){return t.onEdit(e)})("loadLazy",function(e){return t.onLoadLazy(e)})("selectedElementsChanged",function(e){return t.onSelectedElementsChanged(e)}),_.ALo(7,"async"),_.ALo(8,"async"),_.ALo(9,"async"),_.qZA(),_.qZA(),_.qZA(),_._UZ(10,"app-plane-edit-dialog"),_._UZ(11,"app-plane-new-dialog")),2&e&&(_.xp6(2),_.Q6J("headerTitle",_.lcZ(3,19,"plane.listOf"))("canAdd",t.canAdd)("canExportCSV",!0)("selectedElements",t.selectedPlanes),_.xp6(2),_.Q6J("defaultPageSize",t.defaultPageSize)("length",_.lcZ(5,21,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),_.xp6(2),_.Q6J("elements",_.lcZ(7,23,t.planes$))("totalRecord",_.lcZ(8,25,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",t.canEdit)("canSelectElement",t.canDelete)("loading",_.lcZ(9,27,t.loading$))("viewPreference",t.viewPreference))},directives:[se.xw,se.yH,le.l,ce.B,W.$,Me,Fe],pipes:[re.X$,De.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),t}(),Ue=o(84594),Je=o(16249),ze=o(63364),Ge=o(23291),Ne=[{path:"",data:{breadcrumb:null,permission:oe.y.Plane_List_Access},component:$e,canActivate:[Je.n]},{path:"**",redirectTo:""}],He=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({imports:[[Ue.m,p.Bz.forChild(Ne),d.Aw.forFeature("planes-popup",J),f.sQ.forFeature([X]),ze.i,Ge.O]]}),e}()}}])}();