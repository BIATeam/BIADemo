"use strict";(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[634],{59634:function(e,t,n){n.r(t),n.d(t,{PlaneModule:function(){return zt}});var i=n(94666),o=n(86710),a=n(91601),l=n(25917),s=n(92996),r=n(43190),c=n(88002),p=n(5304),u=n(94612),d=n(57057);const h="feature-planes-offline",f=!0;var g,m;(m=g||(g={})).loadAllByPost=(0,o.PH)("["+h+"] Load all by post",(0,o.Ky)()),m.load=(0,o.PH)("["+h+"] Load",(0,o.Ky)()),m.create=(0,o.PH)("["+h+"] Create",(0,o.Ky)()),m.update=(0,o.PH)("["+h+"] Update",(0,o.Ky)()),m.remove=(0,o.PH)("["+h+"] Remove",(0,o.Ky)()),m.multiRemove=(0,o.PH)("["+h+"] Multi Remove",(0,o.Ky)()),m.loadAllByPostSuccess=(0,o.PH)("["+h+"] Load all by post success",(0,o.Ky)()),m.loadSuccess=(0,o.PH)("["+h+"] Load success",(0,o.Ky)()),m.failure=(0,o.PH)("["+h+"] Failure",(0,o.Ky)());var y=n(74147),b=n(37716);let C=(()=>{class e extends y.Z{constructor(e){super(e,"Planes")}}return e.\u0275fac=function(t){return new(t||e)(b.LFG(b.zs3))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const w=(0,n(80273).H)({selectId:e=>e.id,sortComparer:!1}),S=w.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),v=(0,o.Lq)(S,(0,o.on)(g.loadAllByPost,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!0})),(0,o.on)(g.load,e=>Object.assign(Object.assign({},e),{loadingGet:!0})),(0,o.on)(g.loadAllByPostSuccess,(e,{result:t,event:n})=>{const i=w.setAll(t.data,e);return i.totalCount=t.totalCount,i.lastLazyLoadEvent=n,i.loadingGetAll=!1,i}),(0,o.on)(g.loadSuccess,(e,{plane:t})=>Object.assign(Object.assign({},e),{currentPlane:t,loadingGet:!1})),(0,o.on)(g.failure,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})));function x(e,t){return(0,o.UY)({planes:v})(e,t)}const A=(0,o.ZF)(h),Z=(0,o.P1)(A,e=>e.planes),T=(0,o.P1)(Z,e=>e.totalCount),M=(0,o.P1)(Z,e=>e.currentPlane),L=(0,o.P1)(Z,e=>e.lastLazyLoadEvent),O=(0,o.P1)(Z,e=>e.loadingGet),N=(0,o.P1)(Z,e=>e.loadingGetAll),{selectAll:J}=w.getSelectors(Z);n(82762);var Q=n(42);let P=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.planeDas=t,this.biaMessageService=n,this.store=i,this.loadAllByPost$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(g.loadAllByPost),(0,s.j)("event"),(0,r.w)(e=>this.planeDas.getListByPost({event:e}).pipe((0,c.U)(t=>g.loadAllByPostSuccess({result:t,event:e})),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(g.failure({error:e})))))))),this.load$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(g.load),(0,s.j)("id"),(0,r.w)(e=>this.planeDas.get({id:e}).pipe((0,c.U)(e=>g.loadSuccess({plane:e})),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(g.failure({error:e})))))))),this.create$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(g.create),(0,s.j)("plane"),(0,u.b)(e=>(0,l.of)(e).pipe((0,d.M)(this.store.select(L)))),(0,r.w)(([e,t])=>this.planeDas.post({item:e,offlineMode:f}).pipe((0,c.U)(()=>(this.biaMessageService.showAddSuccess(),g.loadAllByPost({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(g.failure({error:e})))))))),this.update$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(g.update),(0,s.j)("plane"),(0,u.b)(e=>(0,l.of)(e).pipe((0,d.M)(this.store.select(L)))),(0,r.w)(([e,t])=>this.planeDas.put({item:e,id:e.id,offlineMode:f}).pipe((0,c.U)(()=>(this.biaMessageService.showUpdateSuccess(),g.loadAllByPost({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(g.failure({error:e})))))))),this.destroy$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(g.remove),(0,s.j)("id"),(0,u.b)(e=>(0,l.of)(e).pipe((0,d.M)(this.store.select(L)))),(0,r.w)(([e,t])=>this.planeDas.delete({id:e,offlineMode:f}).pipe((0,c.U)(()=>(this.biaMessageService.showDeleteSuccess(),g.loadAllByPost({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(g.failure({error:e})))))))),this.multiDestroy$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(g.multiRemove),(0,s.j)("ids"),(0,u.b)(e=>(0,l.of)(e).pipe((0,d.M)(this.store.select(L)))),(0,r.w)(([e,t])=>this.planeDas.deletes({ids:e,offlineMode:f}).pipe((0,c.U)(()=>(this.biaMessageService.showDeleteSuccess(),g.loadAllByPost({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(g.failure({error:e}))))))))}}return e.\u0275fac=function(t){return new(t||e)(b.LFG(a.eX),b.LFG(C),b.LFG(Q.X),b.LFG(o.yh))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac}),e})();var $=n(75319),I=n(88385),D=n(79090),Y=n(40136),q=n(39083),F=n(49457),B=n(38042),k=n(29206),E=n(28049),_=n(59142);let H=(()=>{class e{constructor(e,t,n){this.store=e,this.signalRService=t,this.authService=n}initialize(){console.log("%c [Planes] Register SignalR : refresh-planes","color: purple; font-weight: bold"),this.signalRService.addMethod("refresh-planes",()=>{this.store.select(L).pipe((0,E.P)()).subscribe(e=>{console.log("%c [Planes] RefreshSuccess","color: green; font-weight: bold"),this.store.dispatch(g.loadAllByPost({event:e}))})}),this.targetedFeature={parentKey:this.authService.getCurrentTeamId(Y.k0.Site).toString(),featureName:"planes"},this.signalRService.joinGroup(this.targetedFeature)}destroy(){console.log("%c [Planes] Unregister SignalR : refresh-planes","color: purple; font-weight: bold"),this.signalRService.removeMethod("refresh-planes"),this.signalRService.leaveGroup(this.targetedFeature)}}return e.\u0275fac=function(t){return new(t||e)(b.LFG(o.yh),b.LFG(_.Y),b.LFG(q.e))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var z=n(46468),R=n(9112),U=n(76668),j=n(59931),G=n(84845),K=n(37597),V=n(94529);let X=(()=>{class e{constructor(e){this.store=e,this.planeTypeOptions$=this.store.select(G.by),this.airportOptions$=this.store.select(U.HJ),this.dictOptionDtos$=(0,R.aj)([this.planeTypeOptions$,this.airportOptions$]).pipe((0,c.U)(e=>[new V.b("planeType",e[0]),new V.b("connectingAirports",e[1])]))}loadAllOptions(){this.store.dispatch(K.l.loadAll()),this.store.dispatch(j.q.loadAll())}}return e.\u0275fac=function(t){return new(t||e)(b.LFG(o.yh))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var W=n(95336),ee=n(16375),te=n(13653),ne=n(71289),ie=n(45435),oe=n(81780),ae=n(35618),le=n(81606),se=n(76743),re=n(38583),ce=n(3679),pe=n(11466),ue=n(86320),de=n(70667),he=n(33013),fe=n(13928),ge=n(88030),me=n(50103),ye=n(36949),be=n(12332),Ce=n(88598),we=n(45862),Se=n(49067);function ve(e,t){1&e&&(b.TgZ(0,"th",10),b._UZ(1,"p-tableHeaderCheckbox"),b.qZA())}function xe(e,t){if(1&e&&(b.TgZ(0,"th",12),b._uU(1),b.ALo(2,"translate"),b._UZ(3,"p-sortIcon",13),b.qZA()),2&e){const e=b.oxw().$implicit;b.Q6J("pSortableColumn",e.field),b.xp6(1),b.hij(" ",b.lcZ(2,3,null==e?null:e.header)," "),b.xp6(2),b.Q6J("field",e.field)}}function Ae(e,t){if(1&e&&(b.TgZ(0,"th"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e){const e=b.oxw().$implicit;b.xp6(1),b.hij(" ",b.lcZ(2,1,null==e?null:e.header)," ")}}function Ze(e,t){if(1&e&&(b.ynx(0),b.YNc(1,xe,4,5,"th",11),b.YNc(2,Ae,3,3,"th",9),b.BQk()),2&e){const e=t.$implicit;b.xp6(1),b.Q6J("ngIf",!0===(null==e?null:e.isSortable)),b.xp6(1),b.Q6J("ngIf",!0!==(null==e?null:e.isSortable))}}function Te(e,t){1&e&&b._UZ(0,"th")}const Me=function(e){return{"p-state-filled":e}};function Le(e,t){if(1&e){const e=b.EpF();b.TgZ(0,"span",17),b.TgZ(1,"input",18),b.NdJ("input",function(t){b.CHM(e);const n=b.oxw().$implicit;return b.oxw(3),b.MAs(1).filter(t.target.value,n.field,n.filterMode)}),b.ALo(2,"translate"),b.qZA(),b.qZA()}if(2&e){const e=b.oxw().$implicit;b.oxw(3);const t=b.MAs(1);b.xp6(1),b.s9C("type","Number"===e.type?"number":"text"),b.s9C("placeholder",void 0!==e.searchPlaceholder?e.searchPlaceholder:!0===e.isDate?b.lcZ(2,4,"bia.dateIso8601"):""),b.Q6J("value",null==t.filters[e.field]?null:t.filters[e.field].value)("ngClass",b.VKq(6,Me,""!==(null==t.filters[e.field]?null:t.filters[e.field].value)))}}function Oe(e,t){if(1&e&&(b.TgZ(0,"th",15),b.YNc(1,Le,3,8,"span",16),b.qZA()),2&e){const e=t.$implicit;b.Q6J("ngSwitch",e.field),b.xp6(1),b.Q6J("ngIf",!0===e.isSearchable)}}function Ne(e,t){if(1&e&&(b.TgZ(0,"tr"),b.YNc(1,Te,1,0,"th",9),b.YNc(2,Oe,2,2,"th",14),b.qZA()),2&e){const e=b.oxw().$implicit,t=b.oxw(2);b.xp6(1),b.Q6J("ngIf",t.canSelectElement),b.xp6(1),b.Q6J("ngForOf",e)}}function Je(e,t){if(1&e&&(b.TgZ(0,"tr"),b.YNc(1,ve,2,0,"th",7),b.YNc(2,Ze,3,2,"ng-container",8),b.qZA(),b.YNc(3,Ne,3,2,"tr",9)),2&e){const e=t.$implicit,n=b.oxw(2);b.xp6(1),b.Q6J("ngIf",n.canSelectElement),b.xp6(1),b.Q6J("ngForOf",e),b.xp6(1),b.Q6J("ngIf",n.showColSearch)}}function Qe(e,t){if(1&e&&b._UZ(0,"p-tableCheckbox",23),2&e){const e=b.oxw(2).$implicit;b.Q6J("value",e)}}function Pe(e,t){1&e&&b._UZ(0,"i",24)}function $e(e,t){if(1&e&&(b.TgZ(0,"td"),b.YNc(1,Qe,1,1,"p-tableCheckbox",21),b.YNc(2,Pe,1,0,"i",22),b.qZA()),2&e){const e=b.oxw().$implicit,t=b.oxw(2);b.xp6(1),b.Q6J("ngIf",!0!==t.isFooter(e)&&e.id>0),b.xp6(1),b.Q6J("ngIf",!0===t.isFooter(e))}}function Ie(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"input",29),b.NdJ("change",function(){return b.CHM(e),b.oxw(6).onChange()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(3).$implicit;b.xp6(1),b.Q6J("formControlName",e.field)}}function De(e,t){1&e&&(b.TgZ(0,"span",30),b._uU(1,"*"),b.qZA())}function Ye(e,t){if(1&e&&(b.ynx(0,15),b.YNc(1,Ie,2,1,"ng-container",27),b.BQk(),b.YNc(2,De,2,0,"span",28)),2&e){const e=b.oxw(2).$implicit,t=b.oxw(3);b.Q6J("ngSwitch",e.field),b.xp6(2),b.Q6J("ngIf",!0===t.isRequired(e.field))}}function qe(e,t){1&e&&b.YNc(0,Ye,3,2,"ng-template",26)}function Fe(e,t){if(1&e&&(b.ynx(0),b._uU(1),b.BQk()),2&e){const e=b.oxw(3).$implicit,t=b.oxw().$implicit;b.xp6(1),b.hij(" ",t[e.field]," ")}}function Be(e,t){if(1&e&&(b.ynx(0,15),b.YNc(1,Fe,2,1,"ng-container",27),b.BQk()),2&e){const e=b.oxw(2).$implicit;b.Q6J("ngSwitch",e.field)}}function ke(e,t){1&e&&b.YNc(0,Be,2,1,"ng-template",31)}const Ee=function(){return{width:"100%"}};function _e(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"p-dropdown",35),b.NdJ("onChange",function(){return b.CHM(e),b.oxw(7).onChange()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(4).$implicit,t=b.oxw(3);b.xp6(1),b.Akn(b.DdM(4,Ee)),b.Q6J("formControlName",e.field)("options",t.getOptionDto(e.field))}}function He(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"p-multiSelect",36),b.NdJ("onChange",function(){return b.CHM(e),b.oxw(7).onChange()})("onPanelShow",function(){return b.CHM(e),b.oxw(7).onPanelShowMultiSelect()})("onPanelHide",function(){return b.CHM(e),b.oxw(7).onPanelHideMultiSelect()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(4).$implicit,t=b.oxw(3);b.xp6(1),b.Akn(b.DdM(4,Ee)),b.Q6J("formControlName",e.field)("options",t.getOptionDto(e.field))}}function ze(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"p-checkbox",37),b.NdJ("onChange",function(){return b.CHM(e),b.oxw(7).onChange()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(4).$implicit;b.xp6(1),b.Q6J("binary",!0)("formControlName",e.field)}}function Re(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"input",38),b.NdJ("change",function(){return b.CHM(e),b.oxw(7).onChange()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(4).$implicit;b.xp6(1),b.Q6J("formControlName",e.field)}}function Ue(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"p-calendar",39),b.NdJ("onShow",function(){return b.CHM(e),b.oxw(7).onShowCalendar()})("onSelect",function(){return b.CHM(e),b.oxw(7).onChange()})("onBlur",function(){return b.CHM(e),b.oxw(7).onBlurCalendar()})("onClose",function(){return b.CHM(e),b.oxw(7).onCloseCalendar()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(4).$implicit;b.xp6(1),b.Akn(b.DdM(5,Ee)),b.Q6J("formControlName",e.field)("showButtonBar",!0)("inputStyle",b.DdM(6,Ee))}}function je(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"p-calendar",40),b.NdJ("onShow",function(){return b.CHM(e),b.oxw(7).onShowCalendar()})("onSelect",function(){return b.CHM(e),b.oxw(7).onChange()})("onBlur",function(){return b.CHM(e),b.oxw(7).onBlurCalendar()})("onClose",function(){return b.CHM(e),b.oxw(7).onCloseCalendar()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(4).$implicit;b.xp6(1),b.Akn(b.DdM(5,Ee)),b.Q6J("formControlName",e.field)("inputStyle",b.DdM(6,Ee))("timeOnly",!0)}}function Ge(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"p-calendar",41),b.NdJ("onShow",function(){return b.CHM(e),b.oxw(7).onShowCalendar()})("onSelect",function(){return b.CHM(e),b.oxw(7).onChange()})("onBlur",function(){return b.CHM(e),b.oxw(7).onBlurCalendar()})("onClose",function(){return b.CHM(e),b.oxw(7).onCloseCalendar()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(4).$implicit;b.xp6(1),b.Akn(b.DdM(5,Ee)),b.Q6J("formControlName",e.field)("inputStyle",b.DdM(6,Ee))("timeOnly",!0)}}function Ke(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"p-calendar",42),b.NdJ("onShow",function(){return b.CHM(e),b.oxw(7).onShowCalendar()})("onSelect",function(){return b.CHM(e),b.oxw(7).onChange()})("onBlur",function(){return b.CHM(e),b.oxw(7).onBlurCalendar()})("onClose",function(){return b.CHM(e),b.oxw(7).onCloseCalendar()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(4).$implicit;b.xp6(1),b.Akn(b.DdM(5,Ee)),b.Q6J("formControlName",e.field)("inputStyle",b.DdM(6,Ee))("timeOnly",!0)}}function Ve(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"p-calendar",43),b.NdJ("onShow",function(){return b.CHM(e),b.oxw(7).onShowCalendar()})("onSelect",function(){return b.CHM(e),b.oxw(7).onChange()})("onBlur",function(){return b.CHM(e),b.oxw(7).onBlurCalendar()})("onClose",function(){return b.CHM(e),b.oxw(7).onCloseCalendar()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(4).$implicit;b.xp6(1),b.Akn(b.DdM(5,Ee)),b.Q6J("formControlName",e.field)("showButtonBar",!0)("inputStyle",b.DdM(6,Ee))}}function Xe(e,t){if(1&e){const e=b.EpF();b.ynx(0),b.TgZ(1,"input",44),b.NdJ("change",function(){return b.CHM(e),b.oxw(7).onChange()}),b.qZA(),b.BQk()}if(2&e){const e=b.oxw(4).$implicit;b.xp6(1),b.Q6J("maxlength",e.maxlength)("formControlName",e.field)}}function We(e,t){1&e&&(b.TgZ(0,"span",30),b._uU(1,"*"),b.qZA())}function et(e,t){if(1&e&&(b.ynx(0,15),b.YNc(1,_e,2,5,"ng-container",34),b.YNc(2,He,2,5,"ng-container",34),b.YNc(3,ze,2,2,"ng-container",34),b.YNc(4,Re,2,1,"ng-container",34),b.YNc(5,Ue,2,7,"ng-container",34),b.YNc(6,je,2,7,"ng-container",34),b.YNc(7,Ge,2,7,"ng-container",34),b.YNc(8,Ke,2,7,"ng-container",34),b.YNc(9,Ve,2,7,"ng-container",34),b.YNc(10,Xe,2,2,"ng-container",27),b.BQk(),b.YNc(11,We,2,0,"span",28)),2&e){const e=b.oxw(3).$implicit,t=b.oxw(3);b.Q6J("ngSwitch",e.type),b.xp6(1),b.Q6J("ngSwitchCase","OneToMany"),b.xp6(1),b.Q6J("ngSwitchCase","ManyToMany"),b.xp6(1),b.Q6J("ngSwitchCase","Boolean"),b.xp6(1),b.Q6J("ngSwitchCase","Number"),b.xp6(1),b.Q6J("ngSwitchCase","Date"),b.xp6(1),b.Q6J("ngSwitchCase","Time"),b.xp6(1),b.Q6J("ngSwitchCase","TimeOnly"),b.xp6(1),b.Q6J("ngSwitchCase","TimeSecOnly"),b.xp6(1),b.Q6J("ngSwitchCase","DateTime"),b.xp6(2),b.Q6J("ngIf",!0===t.isRequired(e.field))}}function tt(e,t){if(1&e&&(b.ynx(0),b._uU(1),b.BQk()),2&e){const e=b.oxw(5).$implicit,t=b.oxw().$implicit;b.xp6(1),b.hij(" ",null==t[e.field]?null:t[e.field].display," ")}}function nt(e,t){if(1&e&&(b.ynx(0),b._uU(1),b.BQk()),2&e){const e=b.oxw(5).$implicit,t=b.oxw().$implicit,n=b.oxw(2);b.xp6(1),b.hij(" ",n.formatDisplayName(t[e.field])," ")}}function it(e,t){if(1&e&&(b.ynx(0),b._uU(1),b.ALo(2,"formatValue"),b.BQk()),2&e){const e=b.oxw(5).$implicit,t=b.oxw().$implicit;b.xp6(1),b.hij(" ",b.xi3(2,1,t[e.field],e)," ")}}function ot(e,t){if(1&e&&(b.ynx(0),b.ynx(1,15),b.YNc(2,tt,2,1,"ng-container",34),b.YNc(3,nt,2,1,"ng-container",34),b.YNc(4,it,3,4,"ng-container",27),b.BQk(),b.BQk()),2&e){const e=b.oxw(4).$implicit;b.xp6(1),b.Q6J("ngSwitch",e.type),b.xp6(1),b.Q6J("ngSwitchCase","OneToMany"),b.xp6(1),b.Q6J("ngSwitchCase","ManyToMany")}}function at(e,t){if(1&e&&b.YNc(0,ot,5,3,"ng-container",9),2&e){const e=b.oxw(4).$implicit,t=b.oxw(2);b.Q6J("ngIf",!0!==t.isFooter(e))}}function lt(e,t){if(1&e&&(b.YNc(0,et,12,11,"ng-template",32),b.YNc(1,at,1,1,"ng-template",null,33,b.W1O)),2&e){const e=b.MAs(2),t=b.oxw(2).$implicit;b.Q6J("ngIf",!0===t.isEditable)("ngIfElse",e)}}function st(e,t){1&e&&b.YNc(0,lt,3,2,"ng-template",26)}function rt(e,t){1&e&&(b.TgZ(0,"label"),b._uU(1,"-"),b.qZA())}function ct(e,t){if(1&e&&b.YNc(0,rt,2,0,"label",9),2&e){const e=b.oxw(3).$implicit;b.Q6J("ngIf",!0===e.isEditable)}}function pt(e,t){if(1&e&&(b.ynx(0),b._uU(1),b.BQk()),2&e){const e=b.oxw(4).$implicit,t=b.oxw().$implicit;b.xp6(1),b.hij(" ",null==t[e.field]?null:t[e.field].display," ")}}function ut(e,t){if(1&e&&(b.ynx(0),b._uU(1),b.BQk()),2&e){const e=b.oxw(4).$implicit,t=b.oxw().$implicit,n=b.oxw(2);b.xp6(1),b.hij(" ",n.formatDisplayName(t[e.field])," ")}}function dt(e,t){1&e&&b._UZ(0,"i",47)}function ht(e,t){if(1&e&&(b.ynx(0),b.YNc(1,dt,1,0,"i",46),b.BQk()),2&e){const e=b.oxw(4).$implicit,t=b.oxw().$implicit;b.xp6(1),b.Q6J("ngIf",!0===t[e.field])}}function ft(e,t){if(1&e&&(b.ynx(0),b._uU(1),b.ALo(2,"formatValue"),b.BQk()),2&e){const e=b.oxw(4).$implicit,t=b.oxw().$implicit;b.xp6(1),b.hij(" ",b.xi3(2,1,t[e.field],e)," ")}}function gt(e,t){if(1&e&&(b.ynx(0,15),b.YNc(1,pt,2,1,"ng-container",34),b.YNc(2,ut,2,1,"ng-container",34),b.YNc(3,ht,2,1,"ng-container",34),b.YNc(4,ft,3,4,"ng-container",27),b.BQk()),2&e){const e=b.oxw(3).$implicit;b.Q6J("ngSwitch",e.type),b.xp6(1),b.Q6J("ngSwitchCase","OneToMany"),b.xp6(1),b.Q6J("ngSwitchCase","ManyToMany"),b.xp6(1),b.Q6J("ngSwitchCase","Boolean")}}function mt(e,t){if(1&e&&(b.YNc(0,ct,1,1,"ng-template",32),b.YNc(1,gt,5,4,"ng-template",null,45,b.W1O)),2&e){const e=b.MAs(2),t=b.oxw(3).$implicit,n=b.oxw(2);b.Q6J("ngIf",!0===n.isFooter(t))("ngIfElse",e)}}function yt(e,t){1&e&&b.YNc(0,mt,3,2,"ng-template",31)}function bt(e,t){if(1&e){const e=b.EpF();b.TgZ(0,"td",25),b.NdJ("click",function(){b.CHM(e);const t=b.oxw().$implicit;return b.oxw(2).initEditableRow(t)}),b.TgZ(1,"p-cellEditor"),b.YNc(2,qe,1,0,void 0,9),b.YNc(3,ke,1,0,void 0,9),b.YNc(4,st,1,0,void 0,9),b.YNc(5,yt,1,0,void 0,9),b.qZA(),b.qZA()}if(2&e){const e=t.$implicit,n=b.oxw(3);b.xp6(2),b.Q6J("ngIf",!0===n.isSpecificInput(e.field)),b.xp6(1),b.Q6J("ngIf",!0===n.isSpecificInput(e.field)),b.xp6(1),b.Q6J("ngIf",!0!==n.isSpecificInput(e.field)),b.xp6(1),b.Q6J("ngIf",!0!==n.isSpecificInput(e.field))}}function Ct(e,t){if(1&e){const e=b.EpF();b.TgZ(0,"tr",19),b.NdJ("focusout",function(){return b.CHM(e),b.oxw(2).onFocusout()})("keyup.enter",function(){return b.CHM(e),b.oxw(2).initEditableRow(null)})("keyup.escape",function(){return b.CHM(e),b.oxw(2).cancel()}),b.YNc(1,$e,3,2,"td",9),b.YNc(2,bt,6,4,"td",20),b.qZA()}if(2&e){const e=t.$implicit,n=t.columns,i=b.oxw(2);b.Q6J("pSelectableRow",!0!==i.isFooter(e)?e:null)("pEditableRow",e),b.xp6(1),b.Q6J("ngIf",i.canSelectElement),b.xp6(1),b.Q6J("ngForOf",n)}}function wt(e,t){if(1&e&&(b.TgZ(0,"tr"),b.TgZ(1,"td",48),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.qZA()),2&e){const e=t.$implicit;b.xp6(1),b.uIk("colspan",e.length+1),b.xp6(1),b.hij(" ",b.lcZ(3,2,"bia.NoRecordsFound")," ")}}function St(e,t){if(1&e){const e=b.EpF();b.TgZ(0,"p-table",2,3),b.NdJ("onFilter",function(){return b.CHM(e),b.oxw().onFilter()})("onLazyLoad",function(t){return b.CHM(e),b.oxw().onLoadLazy(t)})("onStateSave",function(t){return b.CHM(e),b.oxw().onStateSave(t)})("selectionChange",function(){return b.CHM(e),b.oxw().onSelectionChange()}),b.ALo(2,"async"),b.YNc(3,Je,4,3,"ng-template",4),b.YNc(4,Ct,3,4,"ng-template",5),b.YNc(5,wt,4,4,"ng-template",6),b.qZA()}if(2&e){const e=b.oxw();b.Q6J("autoLayout",!0)("reorderableColumns",!0)("columns",e.displayedColumns)("value",e.elements)("paginator",e.paginator)("rows",e.pageSize)("totalRecords",e.totalRecord)("lazy",!0)("loading",e.loading&&null!==b.lcZ(2,14,e.showLoading$))("stateStorage","session")("stateKey",e.tableStateKey)("lazyLoadOnInit",e.getLazyLoadOnInit())("sortField",e.sortFieldValue)("sortOrder",e.sortOrderValue)}}let vt=(()=>{class e extends ue.l{constructor(e,t,n,i){super(e,t,n,i),this.formBuilder=e,this.authService=t,this.biaMessageService=n,this.translateService=i}initForm(){var e;this.form=this.formBuilder.group({id:[this.element.id],msn:[this.element.msn,ce.kI.required],isActive:[this.element.isActive],lastFlightDate:[this.element.lastFlightDate],deliveryDate:[this.element.deliveryDate],syncTime:[this.element.syncTime],capacity:[this.element.capacity,ce.kI.required],connectingAirports:[this.element.connectingAirports],planeType:[null===(e=this.element.planeType)||void 0===e?void 0:e.id]})}onSubmit(){var e;if(this.form.valid){const t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=pe.P.Differential(t.connectingAirports,null===(e=this.element)||void 0===e?void 0:e.connectingAirports),t.planeType=pe.P.Clone(t.planeType),t.siteId=this.authService.getCurrentTeamId(Y.k0.Site),this.save.emit(t),this.form.reset()}}}return e.\u0275fac=function(t){return new(t||e)(b.Y36(ce.qu),b.Y36(q.e),b.Y36(Q.X),b.Y36(oe.sK))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-plane-table"]],features:[b.qOj],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","p-float-label",4,"ngIf"],[1,"p-float-label"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","showSeconds","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur","onClose"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","pi pi-check",4,"ngIf"],[1,"pi","pi-check"],[1,"app-empty-message"]],template:function(e,t){1&e&&(b.TgZ(0,"form",0),b.YNc(1,St,6,16,"p-table",1),b.qZA()),2&e&&(b.Q6J("formGroup",t.form),b.xp6(1),b.Q6J("ngIf",t.configuration))},directives:[ce._Y,ce.JL,ce.sg,re.O5,de.iA,he.jx,re.sg,de.Mo,de.lQ,de.fz,re.RF,fe.o,re.mk,ge.oO,de.Ei,de.D$,de.UA,de.YL,re.ED,ce.Fj,ce.JJ,ce.u,re.n9,me.Lt,ye.NU,be.XZ,ce.wV,Ce.f,we.D,ce.nD],pipes:[re.Ov,oe.X$,Se.c],styles:["[_nghost-%COMP%]{flex-direction:column}[_nghost-%COMP%]     p-table .searchTR .p-float-label .p-inputtext{padding-top:2px!important}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center!important}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),e})();function xt(e,t){if(1&e){const e=b.EpF();b.TgZ(0,"bia-table",6),b.NdJ("clickRow",function(t){return b.CHM(e),b.oxw().onEdit(t)})("loadLazy",function(t){return b.CHM(e),b.oxw().onLoadLazy(t)})("selectedElementsChanged",function(t){return b.CHM(e),b.oxw().onSelectedElementsChanged(t)}),b.ALo(1,"async"),b.ALo(2,"async"),b.ALo(3,"async"),b.qZA()}if(2&e){const e=b.oxw();b.Q6J("elements",b.lcZ(1,12,e.planes$))("totalRecord",b.lcZ(2,14,e.totalCount$))("columnToDisplays",e.displayedColumns)("pageSize",e.pageSize)("configuration",e.tableConfiguration)("showColSearch",e.showColSearch)("globalSearchValue",e.globalSearchValue)("canClickRow",e.canEdit)("canSelectElement",e.canDelete)("loading",b.lcZ(3,16,e.loading$))("viewPreference",e.viewPreference)("tableStateKey",e.tableStateKey)}}function At(e,t){if(1&e){const e=b.EpF();b.TgZ(0,"app-plane-table",7),b.NdJ("loadLazy",function(t){return b.CHM(e),b.oxw().onLoadLazy(t)})("selectedElementsChanged",function(t){return b.CHM(e),b.oxw().onSelectedElementsChanged(t)})("save",function(t){return b.CHM(e),b.oxw().onSave(t)}),b.ALo(1,"async"),b.ALo(2,"async"),b.ALo(3,"async"),b.ALo(4,"async"),b.qZA()}if(2&e){const e=b.oxw();b.Q6J("elements",b.lcZ(1,14,e.planes$))("dictOptionDtos",b.lcZ(2,16,e.planeOptionsService.dictOptionDtos$))("totalRecord",b.lcZ(3,18,e.totalCount$))("columnToDisplays",e.displayedColumns)("pageSize",e.pageSize)("configuration",e.tableConfiguration)("showColSearch",e.showColSearch)("globalSearchValue",e.globalSearchValue)("canEdit",e.canEdit)("canAdd",e.canAdd)("canSelectElement",e.canDelete)("loading",b.lcZ(4,20,e.loading$))("viewPreference",e.viewPreference)("tableStateKey",e.tableStateKey)}}let Zt=(()=>{class e{constructor(e,t,n,i,o,a,l,s,r,c){this.store=e,this.router=t,this.activatedRoute=n,this.authService=i,this.planeDas=o,this.translateService=a,this.biaTranslationService=l,this.planesSignalRService=s,this.planeOptionsService=r,this.injector=c,this.useCalcMode=!1,this.useSignalR=false,this.useView=!1,this.useRefreshAtLanguageChange=!1,this.flex=!0,this.sub=new $.w,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=Y.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.tableStateKey=this.useView?"planesGrid":void 0}get planeListComponent(){return void 0!==this.biaTableComponent?this.biaTableComponent:this.planeTableComponent}ngOnInit(){this.parentIds=[],this.sub=new $.w,this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(J),this.totalCount$=this.store.select(T),this.loading$=this.store.select(N),this.OnDisplay(),this.useCalcMode&&this.sub.add(this.biaTranslationService.currentCulture$.subscribe(e=>{this.planeOptionsService.loadAllOptions()})),this.useRefreshAtLanguageChange&&this.sub.add(this.biaTranslationService.currentCulture$.pipe((0,te.T)(1)).subscribe(e=>{this.onLoadLazy(this.planeListComponent.getLazyLoadMetadata())})),ee.d.isModeEnabled&&this.sub.add(this.injector.get(ee.d).serverAvailable$.pipe((0,te.T)(1),(0,ne.g)(1400),(0,ie.h)(e=>!0===e)).subscribe(e=>{this.onLoadLazy(this.planeListComponent.getLazyLoadMetadata())}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe(),this.OnHide()}OnDisplay(){this.useView&&this.store.dispatch((0,z.Tx)()),this.useSignalR&&this.planesSignalRService.initialize()}OnHide(){this.useSignalR&&this.planesSignalRService.destroy()}onCreate(){this.useCalcMode||this.router.navigate(["../create"],{relativeTo:this.activatedRoute})}onEdit(e){this.useCalcMode||this.router.navigate(["../"+e+"/edit"],{relativeTo:this.activatedRoute})}onSave(e){this.useCalcMode&&((null==e?void 0:e.id)>0?this.canEdit&&this.store.dispatch(g.update({plane:e})):this.canAdd&&this.store.dispatch(g.create({plane:e})))}onDelete(){this.selectedPlanes&&this.canDelete&&this.store.dispatch(g.multiRemove({ids:this.selectedPlanes.map(e=>e.id)}))}onSelectedElementsChanged(e){this.selectedPlanes=e}onPageSizeChange(e){this.pageSize=e}onLoadLazy(e){const t=Object.assign({parentIds:this.parentIds},e);this.store.dispatch(g.loadAllByPost({event:t}))}searchGlobalChanged(e){this.globalSearchValue=e}displayedColumnsChanged(e){this.displayedColumns=e}onToggleSearch(){this.showColSearch=!this.showColSearch}onViewChange(e){this.viewPreference=e}onExportCSV(){const e={};this.columns.map(t=>e[t.value.split(".")[1]]=this.translateService.instant(t.value));const t=Object.assign({parentIds:this.parentIds,columns:e},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(t).subscribe(e=>{F.saveAs(e,this.translateService.instant("app.planes")+".csv")})}setPermissions(){this.canEdit=this.authService.hasPermission(k.y.Plane_Update),this.canDelete=this.authService.hasPermission(k.y.Plane_Delete),this.canAdd=this.authService.hasPermission(k.y.Plane_Create)}initTableConfiguration(){this.biaTranslationService.currentCultureDateFormat$.subscribe(e=>{this.tableConfiguration={columns:[new D.ML("msn","plane.msn"),Object.assign(new D.ML("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:D.d5.Boolean}),Object.assign(new D.ML("lastFlightDate","plane.lastFlightDate"),{type:D.d5.DateTime,formatDate:e.dateTimeFormat}),Object.assign(new D.ML("deliveryDate","plane.deliveryDate"),{type:D.d5.Date,formatDate:e.dateFormat}),Object.assign(new D.ML("syncTime","plane.syncTime"),{type:D.d5.TimeSecOnly,formatDate:e.timeFormatSec}),Object.assign(new D.ML("capacity","plane.capacity"),{type:D.d5.Number,filterMode:D.ZF.Equals}),Object.assign(new D.ML("planeType","plane.planeType"),{type:D.d5.OneToMany}),Object.assign(new D.ML("connectingAirports","plane.connectingAirports"),{type:D.d5.ManyToMany})]},this.columns=this.tableConfiguration.columns.map(e=>({key:e.field,value:e.header})),this.displayedColumns=[...this.columns]})}}return e.\u0275fac=function(t){return new(t||e)(b.Y36(o.yh),b.Y36(i.F0),b.Y36(i.gz),b.Y36(q.e),b.Y36(C),b.Y36(oe.sK),b.Y36(B.P6),b.Y36(H),b.Y36(X),b.Y36(b.zs3))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-planes-index"]],viewQuery:function(e,t){if(1&e&&(b.Gf(I.$,5),b.Gf(W.t,5)),2&e){let e;b.iGM(e=b.CRH())&&(t.biaTableComponent=e.first),b.iGM(e=b.CRH())&&(t.planeTableComponent=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&b.ekj("bia-flex",t.flex)},decls:8,vars:16,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","clickRow","loadLazy","selectedElementsChanged",4,"ngIf"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save",4,"ngIf"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","clickRow","loadLazy","selectedElementsChanged"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save"]],template:function(e,t){1&e&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"bia-table-header",2),b.NdJ("create",function(){return t.onCreate()})("exportCSV",function(){return t.onExportCSV()})("delete",function(){return t.onDelete()}),b.ALo(3,"translate"),b.qZA(),b.TgZ(4,"bia-table-controller",3),b.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),b.ALo(5,"async"),b.qZA(),b.YNc(6,xt,4,18,"bia-table",4),b.YNc(7,At,5,22,"app-plane-table",5),b.qZA(),b.qZA()),2&e&&(b.xp6(2),b.Q6J("headerTitle",b.lcZ(3,12,"plane.listOf"))("canAdd",t.canAdd&&!t.useCalcMode)("canDelete",t.canDelete)("canExportCSV",!0)("selectedElements",t.selectedPlanes),b.xp6(2),b.Q6J("defaultPageSize",t.defaultPageSize)("length",b.lcZ(5,14,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns)("tableStateKey",t.tableStateKey),b.xp6(2),b.Q6J("ngIf",!t.useCalcMode),b.xp6(1),b.Q6J("ngIf",t.useCalcMode))},directives:[ae.xw,ae.yH,le.l,se.B,re.O5,I.$,vt],pipes:[oe.X$,re.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),e})();var Tt=n(61028),Mt=n(4207);const Lt=function(){return{width:"100%"}},Ot=function(){return{width:"100%"}};let Nt=(()=>{class e{constructor(e,t){this.formBuilder=e,this.authService=t,this.plane={},this.save=new b.vpe,this.cancel=new b.vpe,this.initForm()}ngOnChanges(e){this.plane&&(this.form.reset(),this.plane&&this.form.patchValue(Object.assign({},this.plane)))}initForm(){var e;this.form=this.formBuilder.group({id:[this.plane.id],msn:[this.plane.msn,ce.kI.required],isActive:[this.plane.isActive],lastFlightDate:[this.plane.lastFlightDate],deliveryDate:[this.plane.deliveryDate],syncTime:[this.plane.syncTime],capacity:[this.plane.capacity,ce.kI.required],connectingAirports:[this.plane.connectingAirports],planeType:[null===(e=this.plane.planeType)||void 0===e?void 0:e.id]})}onCancel(){this.form.reset(),this.cancel.next()}onSubmit(){var e;if(this.form.valid){const t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=pe.P.Differential(t.connectingAirports,null===(e=this.plane)||void 0===e?void 0:e.connectingAirports),t.planeType=pe.P.Clone(t.planeType),t.siteId=this.authService.getCurrentTeamId(Y.k0.Site),this.save.emit(t),this.form.reset()}}}return e.\u0275fac=function(t){return new(t||e)(b.Y36(ce.qu),b.Y36(q.e))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-plane-form"]],inputs:{plane:"plane",airportOptions:"airportOptions",planeTypeOptions:"planeTypeOptions"},outputs:{save:"save",cancel:"cancel"},features:[b.TTD],decls:63,vars:50,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"p-float-label"],["formControlName","msn","type","text","pInputText","","maxlength","64",2,"width","100%"],[1,"bia-star-mandatory"],["binary","true","formControlName","isActive",3,"label"],["biaLocale","","formControlName","lastFlightDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0","appendTo","body",3,"inputStyle"],["biaLocale","","formControlName","deliveryDate","placeholder","\xa0","appendTo","body","dateFormat","yy-mm-dd",3,"showButtonBar","inputStyle"],["formControlName","syncTime","showTime","true","showSeconds","true","placeholder","\xa0","dataType","string",3,"timeOnly","inputStyle"],["formControlName","capacity","type","number","pInputText","",2,"width","100%"],["placeholder","\xa0","formControlName","planeType","optionLabel","display","datakey","id",3,"options","showClear"],["defaultLabel","\xa0","formControlName","connectingAirports","optionLabel","display","datakey","id",3,"options","virtualScroll"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-outlined",3,"label","click"]],template:function(e,t){1&e&&(b.TgZ(0,"form",0),b.NdJ("submit",function(){return t.onSubmit()}),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"span",3),b._UZ(4,"input",4),b.TgZ(5,"label"),b.TgZ(6,"span",5),b._uU(7,"*"),b.qZA(),b._uU(8),b.ALo(9,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(10,"div",1),b.TgZ(11,"div",2),b._UZ(12,"p-checkbox",6),b.ALo(13,"translate"),b.qZA(),b.qZA(),b.TgZ(14,"div",1),b.TgZ(15,"div",2),b.TgZ(16,"span",3),b._UZ(17,"p-calendar",7),b.TgZ(18,"label"),b._uU(19),b.ALo(20,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(21,"div",1),b.TgZ(22,"div",2),b.TgZ(23,"span",3),b._UZ(24,"p-calendar",8),b.TgZ(25,"label"),b._uU(26),b.ALo(27,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(28,"div",1),b.TgZ(29,"div",2),b.TgZ(30,"span",3),b._UZ(31,"p-calendar",9),b.TgZ(32,"label"),b._uU(33),b.ALo(34,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(35,"div",1),b.TgZ(36,"div",2),b.TgZ(37,"span",3),b._UZ(38,"input",10),b.TgZ(39,"label"),b.TgZ(40,"span",5),b._uU(41,"*"),b.qZA(),b._uU(42),b.ALo(43,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(44,"div",1),b.TgZ(45,"div",2),b.TgZ(46,"span",3),b._UZ(47,"p-dropdown",11),b.TgZ(48,"label"),b._uU(49),b.ALo(50,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(51,"div",1),b.TgZ(52,"div",2),b.TgZ(53,"span",3),b._UZ(54,"p-multiSelect",12),b.TgZ(55,"label"),b._uU(56),b.ALo(57,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(58,"div",13),b._UZ(59,"button",14),b.ALo(60,"translate"),b.TgZ(61,"button",15),b.NdJ("click",function(){return t.onCancel()}),b.ALo(62,"translate"),b.qZA(),b.qZA(),b.qZA()),2&e&&(b.Q6J("formGroup",t.form),b.xp6(8),b.Oqu(b.lcZ(9,25,"plane.msn")),b.xp6(4),b.s9C("label",b.lcZ(13,27,"plane.isActive")),b.xp6(5),b.Q6J("inputStyle",b.DdM(45,Lt)),b.xp6(2),b.Oqu(b.lcZ(20,29,"plane.lastFlightDate")),b.xp6(5),b.Q6J("showButtonBar",!0)("inputStyle",b.DdM(46,Lt)),b.xp6(2),b.Oqu(b.lcZ(27,31,"plane.deliveryDate")),b.xp6(5),b.Q6J("timeOnly",!0)("inputStyle",b.DdM(47,Lt)),b.xp6(2),b.Oqu(b.lcZ(34,33,"plane.syncTime")),b.xp6(9),b.Oqu(b.lcZ(43,35,"plane.capacity")),b.xp6(5),b.Akn(b.DdM(48,Ot)),b.Q6J("options",t.planeTypeOptions)("showClear",!0),b.xp6(2),b.Oqu(b.lcZ(50,37,"plane.planeType")),b.xp6(5),b.Akn(b.DdM(49,Ot)),b.Q6J("options",t.airportOptions)("virtualScroll",!0),b.xp6(2),b.Oqu(b.lcZ(57,39,"plane.connectingAirports")),b.xp6(3),b.s9C("label",b.lcZ(60,41,"bia.save")),b.Q6J("disabled",!t.form.valid),b.xp6(2),b.s9C("label",b.lcZ(62,43,"bia.cancel")))},directives:[ce._Y,ce.JL,ae.xw,ce.sg,ae.Wh,ae.yH,ce.Fj,ce.JJ,ce.u,fe.o,ce.nD,be.XZ,Ce.f,we.D,ce.wV,me.Lt,ye.NU,ae.SQ,Mt.Hq],pipes:[oe.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}"]}),e})(),Jt=(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.router=t,this.activatedRoute=n,this.planeOptionsService=i,this.biaTranslationService=o,this.sub=new $.w}ngOnInit(){this.sub.add(this.biaTranslationService.currentCulture$.subscribe(e=>{this.planeOptionsService.loadAllOptions()}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch(g.create({plane:e})),this.router.navigate(["../"],{relativeTo:this.activatedRoute})}onCancelled(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}return e.\u0275fac=function(t){return new(t||e)(b.Y36(o.yh),b.Y36(i.F0),b.Y36(i.gz),b.Y36(X),b.Y36(B.P6))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-plane-new"]],decls:3,vars:6,consts:[[3,"airportOptions","planeTypeOptions","cancel","save"]],template:function(e,t){1&e&&(b.TgZ(0,"app-plane-form",0),b.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),b.ALo(1,"async"),b.ALo(2,"async"),b.qZA()),2&e&&b.Q6J("airportOptions",b.lcZ(1,2,t.planeOptionsService.airportOptions$))("planeTypeOptions",b.lcZ(2,4,t.planeOptionsService.planeTypeOptions$))},directives:[Nt],pipes:[re.Ov],styles:[""]}),e})(),Qt=(()=>{class e{constructor(e){this.store=e,this.sub=new $.w,this.InitSub(),this.loading$=this.store.select(O),this.plane$=this.store.select(M)}get currentPlane(){var e;return(null===(e=this._currentPlane)||void 0===e?void 0:e.id)===this._currentPlaneId?this._currentPlane:null}get currentPlaneId(){return this._currentPlaneId}set currentPlaneId(e){this._currentPlaneId=Number(e),this.store.dispatch(g.load({id:e}))}InitSub(){this.sub=new $.w,this.sub.add(this.store.select(M).subscribe(e=>{e&&(this._currentPlane=e)}))}}return e.\u0275fac=function(t){return new(t||e)(b.LFG(o.yh))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Pt=n(79373);function $t(e,t){1&e&&b._UZ(0,"bia-spinner",2),2&e&&b.Q6J("overlay",!0)}let It=(()=>{class e{constructor(e,t,n,i,o,a){this.store=e,this.router=t,this.activatedRoute=n,this.planeOptionsService=i,this.planeService=o,this.biaTranslationService=a,this.displayChange=new b.vpe,this.sub=new $.w}ngOnInit(){this.sub.add(this.biaTranslationService.currentCulture$.subscribe(e=>{this.planeOptionsService.loadAllOptions()}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch(g.update({plane:e})),this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}onCancelled(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}}return e.\u0275fac=function(t){return new(t||e)(b.Y36(o.yh),b.Y36(i.F0),b.Y36(i.gz),b.Y36(X),b.Y36(Qt),b.Y36(B.P6))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-plane-edit"]],outputs:{displayChange:"displayChange"},decls:6,vars:12,consts:[[3,"plane","airportOptions","planeTypeOptions","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(b.TgZ(0,"app-plane-form",0),b.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),b.ALo(1,"async"),b.ALo(2,"async"),b.ALo(3,"async"),b.qZA(),b.YNc(4,$t,1,1,"bia-spinner",1),b.ALo(5,"async")),2&e&&(b.Q6J("plane",b.lcZ(1,4,t.planeService.plane$))("airportOptions",b.lcZ(2,6,t.planeOptionsService.airportOptions$))("planeTypeOptions",b.lcZ(3,8,t.planeOptionsService.planeTypeOptions$)),b.xp6(4),b.Q6J("ngIf",b.lcZ(5,10,t.planeService.loading$)))},directives:[Nt,re.O5,Pt.O],pipes:[re.Ov],styles:[""]}),e})();var Dt=n(16249),Yt=n(30466);function qt(e,t){1&e&&b._UZ(0,"bia-spinner",1),2&e&&b.Q6J("overlay",!0)}let Ft=(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.route=t,this.planeService=n,this.layoutService=i,this.biaTranslationService=o,this.sub=new $.w}ngOnInit(){this.sub.add(this.biaTranslationService.currentCulture$.subscribe(e=>{this.planeService.currentPlaneId=this.route.snapshot.params.planeId})),this.sub.add(this.store.select(M).subscribe(e=>{(null==e?void 0:e.msn)&&(this.route.data.pipe((0,E.P)()).subscribe(t=>{t.breadcrumb=e.msn}),this.layoutService.refreshBreadcrumb())}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Y36(o.yh),b.Y36(i.gz),b.Y36(Qt),b.Y36(Yt.N),b.Y36(B.P6))},e.\u0275cmp=b.Xpm({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(b._UZ(0,"router-outlet"),b.YNc(1,qt,1,1,"bia-spinner",0),b.ALo(2,"async")),2&e&&(b.xp6(1),b.Q6J("ngIf",b.lcZ(2,1,t.planeService.loading$)))},directives:[i.lC,re.O5,Pt.O],pipes:[re.Ov],styles:[""]}),e})();var Bt=n(98832),kt=n(53460),Et=n(63364),_t=n(23291);const Ht=[{path:"",data:{breadcrumb:null,permission:k.y.Plane_List_Access,InjectComponent:Zt},component:kt.e,canActivate:[Dt.n],children:[{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:k.y.Plane_Create,title:"plane.add",InjectComponent:Jt},component:Bt._,canActivate:[Dt.n]},{path:":planeId",data:{breadcrumb:"",canNavigate:!0},component:Ft,canActivate:[Dt.n],children:[{path:"edit",data:{breadcrumb:"bia.edit",canNavigate:!0,permission:k.y.Plane_Update,title:"plane.edit",InjectComponent:It},component:Bt._,canActivate:[Dt.n]},{path:"",redirectTo:"edit"}]}]},{path:"**",redirectTo:""}];let zt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[Tt.m,i.Bz.forChild(Ht),o.Aw.forFeature(h,x),a.sQ.forFeature([P]),Et.i,_t.O]]}),e})()}}]);