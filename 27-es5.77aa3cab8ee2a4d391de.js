!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[27],{7767:function(e,t,n){n.d(t,{q:function(){return y}});var i=n(37716),o=n(3679),r=n(11466),a=n(81780),s=n(35618),l=n(50103),c=n(38583),d=n(4714),p=n(4207),m=n(65224);function h(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",12),i.TgZ(1,"button",13),i.NdJ("click",function(){return i.CHM(n),i.oxw().addUserFromDirectory()}),i.qZA(),i.qZA()}}var g,b=function(){return{width:"100%"}},y=((g=function(){function e(t,n){u(this,e),this.formBuilder=t,this.translateService=n,this.member={},this.canAddFromDirectory=!1,this.save=new i.vpe,this.cancel=new i.vpe,this.displayUserAddFromDirectoryDialog=!1,this.initForm()}return f(e,[{key:"ngOnChanges",value:function(e){this.member&&(this.form.reset(),this.member&&this.form.patchValue(Object.assign({},this.member)))}},{key:"initForm",value:function(){this.form=this.formBuilder.group({id:[this.member.id],user:[this.member.user,o.kI.required],roles:[this.member.roles]})}},{key:"onCancel",value:function(){this.form.reset(),this.cancel.next()}},{key:"addUserFromDirectory",value:function(){this.displayUserAddFromDirectoryDialog=!0}},{key:"onSubmit",value:function(){var e;if(this.form.valid){var t=this.form.value;t.id=t.id>0?t.id:0,t.roles=r.P.Differential(t.roles,null===(e=this.member)||void 0===e?void 0:e.roles),t.user=Object.assign({},t.user),t.teamId=this.teamId,this.save.emit(t),this.form.reset()}}}]),e}()).\u0275fac=function(e){return new(e||g)(i.Y36(o.qu),i.Y36(a.sK))},g.\u0275cmp=i.Xpm({type:g,selectors:[["bia-member-form-edit"]],inputs:{member:"member",roleOptions:"roleOptions",userOptions:"userOptions",teamId:"teamId",canAddFromDirectory:"canAddFromDirectory"},outputs:{save:"save",cancel:"cancel"},features:[i.TTD],decls:25,vars:27,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"p-float-label"],["placeholder","\xa0","formControlName","user","optionLabel","display","datakey","id",3,"options","filter","showClear"],[1,"bia-star-mandatory"],["class","app-field-container","fxFlex","10",4,"ngIf"],["formControlName","roles","multiple","multiple","checkbox","checkbox","optionLabel","display",3,"options","showToggleAll"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-secondary",3,"label","click"],[3,"display","displayChange"],["fxFlex","10",1,"app-field-container"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-sm","p-button-rounded","p-button-text","align-right",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"form",0),i.NdJ("submit",function(){return t.onSubmit()}),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",1),i.TgZ(4,"div",2),i.TgZ(5,"span",3),i._UZ(6,"p-dropdown",4),i.TgZ(7,"label"),i.TgZ(8,"span",5),i._uU(9,"*"),i.qZA(),i._uU(10),i.ALo(11,"translate"),i.qZA(),i.qZA(),i.qZA(),i.YNc(12,h,2,0,"div",6),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"div",1),i.TgZ(14,"div",2),i.TgZ(15,"label"),i._uU(16),i.ALo(17,"translate"),i.qZA(),i._UZ(18,"p-listbox",7),i.qZA(),i.qZA(),i.TgZ(19,"div",8),i._UZ(20,"button",9),i.ALo(21,"translate"),i.TgZ(22,"button",10),i.NdJ("click",function(){return t.onCancel()}),i.ALo(23,"translate"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(24,"bia-user-add-from-directory-dialog",11),i.NdJ("displayChange",function(e){return t.displayUserAddFromDirectoryDialog=e}),i.qZA()),2&e&&(i.Q6J("formGroup",t.form),i.xp6(6),i.Akn(i.DdM(25,b)),i.Q6J("options",t.userOptions)("filter",!0)("showClear",!0),i.xp6(4),i.Oqu(i.lcZ(11,17,"member.user")),i.xp6(2),i.Q6J("ngIf",t.canAddFromDirectory),i.xp6(4),i.hij("",i.lcZ(17,19,"member.roles"),":"),i.xp6(2),i.Akn(i.DdM(26,b)),i.Q6J("options",t.roleOptions)("showToggleAll",!1),i.xp6(2),i.s9C("label",i.lcZ(21,21,"bia.save")),i.Q6J("disabled",!t.form.valid),i.xp6(2),i.s9C("label",i.lcZ(23,23,"bia.cancel")),i.xp6(2),i.Q6J("display",t.displayUserAddFromDirectoryDialog))},directives:[o._Y,o.JL,s.xw,o.sg,s.Wh,s.yH,l.Lt,o.JJ,o.u,c.O5,d.Ri,s.SQ,p.Hq,m.C],pipes:[a.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}.align-right[_ngcontent-%COMP%]{margin-left:auto;display:block;padding-right:0}"]}),g)},89490:function(e,t,n){n.d(t,{m:function(){return y}});var i=n(37716),o=n(3679),r=n(11466),a=n(81780),s=n(35618),l=n(36949),c=n(38583),d=n(4714),p=n(4207),m=n(65224);function h(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",12),i.TgZ(1,"button",13),i.NdJ("click",function(){return i.CHM(n),i.oxw().addUserFromDirectory()}),i.qZA(),i.qZA()}}var g,b=function(){return{width:"100%"}},y=((g=function(){function e(t,n){u(this,e),this.formBuilder=t,this.translateService=n,this.members={},this.canAddFromDirectory=!1,this.save=new i.vpe,this.cancel=new i.vpe,this.displayUserAddFromDirectoryDialog=!1,this.initForm()}return f(e,[{key:"ngOnChanges",value:function(e){if(this.members){var t=this.form.value.users;t&&(this.members.users=this.members.users.concat(t)),this.form.reset(),this.form.patchValue(Object.assign({},this.members))}}},{key:"initForm",value:function(){this.form=this.formBuilder.group({users:[this.members.users,o.kI.required],roles:[]})}},{key:"onCancel",value:function(){this.form.reset(),this.cancel.next()}},{key:"addUserFromDirectory",value:function(){this.displayUserAddFromDirectoryDialog=!0}},{key:"onSubmit",value:function(){var e;if(this.form.valid){var t=this.form.value;t.roles=r.P.Differential(t.roles,null===(e=this.members)||void 0===e?void 0:e.roles),t.users=r.P.Differential(t.users,[]),t.teamId=this.teamId,this.save.emit(t),this.form.reset()}}}]),e}()).\u0275fac=function(e){return new(e||g)(i.Y36(o.qu),i.Y36(a.sK))},g.\u0275cmp=i.Xpm({type:g,selectors:[["bia-member-form-new"]],inputs:{members:"members",roleOptions:"roleOptions",userOptions:"userOptions",teamId:"teamId",canAddFromDirectory:"canAddFromDirectory"},outputs:{save:"save",cancel:"cancel"},features:[i.TTD],decls:25,vars:26,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"p-float-label"],["defaultLabel","\xa0","formControlName","users","optionLabel","display","datakey","id","appendTo","body",3,"options","virtualScroll"],[1,"bia-star-mandatory"],["class","app-field-container","fxFlex","10",4,"ngIf"],["formControlName","roles","multiple","multiple","checkbox","checkbox","optionLabel","display",3,"options","showToggleAll"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-secondary",3,"label","click"],[3,"display","displayChange"],["fxFlex","10",1,"app-field-container"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-sm","p-button-rounded","p-button-text","align-right",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"form",0),i.NdJ("submit",function(){return t.onSubmit()}),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",1),i.TgZ(4,"div",2),i.TgZ(5,"span",3),i._UZ(6,"p-multiSelect",4),i.TgZ(7,"label"),i.TgZ(8,"span",5),i._uU(9,"*"),i.qZA(),i._uU(10),i.ALo(11,"translate"),i.qZA(),i.qZA(),i.qZA(),i.YNc(12,h,2,0,"div",6),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"div",1),i.TgZ(14,"div",2),i.TgZ(15,"label"),i._uU(16),i.ALo(17,"translate"),i.qZA(),i._UZ(18,"p-listbox",7),i.qZA(),i.qZA(),i.TgZ(19,"div",8),i._UZ(20,"button",9),i.ALo(21,"translate"),i.TgZ(22,"button",10),i.NdJ("click",function(){return t.onCancel()}),i.ALo(23,"translate"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(24,"bia-user-add-from-directory-dialog",11),i.NdJ("displayChange",function(e){return t.displayUserAddFromDirectoryDialog=e}),i.qZA()),2&e&&(i.Q6J("formGroup",t.form),i.xp6(6),i.Akn(i.DdM(24,b)),i.Q6J("options",t.userOptions)("virtualScroll",!0),i.xp6(4),i.Oqu(i.lcZ(11,16,"member.user")),i.xp6(2),i.Q6J("ngIf",t.canAddFromDirectory),i.xp6(4),i.hij("",i.lcZ(17,18,"member.roles"),":"),i.xp6(2),i.Akn(i.DdM(25,b)),i.Q6J("options",t.roleOptions)("showToggleAll",!1),i.xp6(2),i.s9C("label",i.lcZ(21,20,"bia.save")),i.Q6J("disabled",!t.form.valid),i.xp6(2),i.s9C("label",i.lcZ(23,22,"bia.cancel")),i.xp6(2),i.Q6J("display",t.displayUserAddFromDirectoryDialog))},directives:[o._Y,o.JL,s.xw,o.sg,s.Wh,s.yH,l.NU,o.JJ,o.u,c.O5,d.Ri,s.SQ,p.Hq,m.C],pipes:[a.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}.align-right[_ngcontent-%COMP%]{margin-left:auto;display:block;padding-right:0}"]}),g)},34601:function(e,t,n){n.d(t,{U:function(){return Me}});var i=n(3679),o=n(39083),a=n(11466),l=n(9716),c=n(86320),d=n(37716),p=n(42),m=n(81780),h=n(38583),g=n(70667),b=n(33013),y=n(13928),v=n(88030),w=n(50103),x=n(36949),S=n(12332),C=n(88598),A=n(45862),Z=n(49067);function M(e,t){1&e&&(d.TgZ(0,"th",10),d._UZ(1,"p-tableHeaderCheckbox"),d.qZA())}function L(e,t){if(1&e&&(d.TgZ(0,"th",12),d._uU(1),d.ALo(2,"translate"),d._UZ(3,"p-sortIcon",13),d.qZA()),2&e){var n=d.oxw().$implicit;d.Q6J("pSortableColumn",n.field),d.xp6(1),d.hij(" ",d.lcZ(2,3,null==n?null:n.header)," "),d.xp6(2),d.Q6J("field",n.field)}}function O(e,t){if(1&e&&(d.TgZ(0,"th"),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e){var n=d.oxw().$implicit;d.xp6(1),d.hij(" ",d.lcZ(2,1,null==n?null:n.header)," ")}}function T(e,t){if(1&e&&(d.ynx(0),d.YNc(1,L,4,5,"th",11),d.YNc(2,O,3,3,"th",9),d.BQk()),2&e){var n=t.$implicit;d.xp6(1),d.Q6J("ngIf",!0===(null==n?null:n.isSortable)),d.xp6(1),d.Q6J("ngIf",!0!==(null==n?null:n.isSortable))}}function k(e,t){1&e&&d._UZ(0,"th")}var J=function(e){return{"p-state-filled":e}};function N(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"span",17),d.TgZ(1,"input",18),d.NdJ("input",function(e){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(3),d.MAs(1).filter(e.target.value,t.field,t.filterMode)}),d.ALo(2,"translate"),d.qZA(),d.qZA()}if(2&e){var i=d.oxw().$implicit;d.oxw(3);var o=d.MAs(1);d.xp6(1),d.s9C("type","Number"===i.type?"number":"text"),d.s9C("placeholder",void 0!==i.searchPlaceholder?i.searchPlaceholder:!0===i.isDate?d.lcZ(2,4,"bia.dateIso8601"):""),d.Q6J("value",null==o.filters[i.field]?null:o.filters[i.field].value)("ngClass",d.VKq(6,J,""!==(null==o.filters[i.field]?null:o.filters[i.field].value)))}}function I(e,t){if(1&e&&(d.TgZ(0,"th",15),d.YNc(1,N,3,8,"span",16),d.qZA()),2&e){var n=t.$implicit;d.Q6J("ngSwitch",n.field),d.xp6(1),d.Q6J("ngIf",!0===n.isSearchable)}}function Q(e,t){if(1&e&&(d.TgZ(0,"tr"),d.YNc(1,k,1,0,"th",9),d.YNc(2,I,2,2,"th",14),d.qZA()),2&e){var n=d.oxw().$implicit,i=d.oxw(2);d.xp6(1),d.Q6J("ngIf",i.canSelectElement),d.xp6(1),d.Q6J("ngForOf",n)}}function D(e,t){if(1&e&&(d.TgZ(0,"tr"),d.YNc(1,M,2,0,"th",7),d.YNc(2,T,3,2,"ng-container",8),d.qZA(),d.YNc(3,Q,3,2,"tr",9)),2&e){var n=t.$implicit,i=d.oxw(2);d.xp6(1),d.Q6J("ngIf",i.canSelectElement),d.xp6(1),d.Q6J("ngForOf",n),d.xp6(1),d.Q6J("ngIf",i.showColSearch)}}function F(e,t){if(1&e&&d._UZ(0,"p-tableCheckbox",23),2&e){var n=d.oxw(2).$implicit;d.Q6J("value",n)}}function $(e,t){1&e&&d._UZ(0,"i",24)}function q(e,t){if(1&e&&(d.TgZ(0,"td"),d.YNc(1,F,1,1,"p-tableCheckbox",21),d.YNc(2,$,1,0,"i",22),d.qZA()),2&e){var n=d.oxw().$implicit,i=d.oxw(2);d.xp6(1),d.Q6J("ngIf",!0!==i.isFooter(n)&&n.id>0),d.xp6(1),d.Q6J("ngIf",!0===i.isFooter(n))}}function P(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"input",29),d.NdJ("change",function(){return d.CHM(n),d.oxw(6).onChange()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(3).$implicit;d.xp6(1),d.Q6J("formControlName",i.field)}}function R(e,t){1&e&&(d.TgZ(0,"span",30),d._uU(1,"*"),d.qZA())}function B(e,t){if(1&e&&(d.ynx(0,15),d.YNc(1,P,2,1,"ng-container",27),d.BQk(),d.YNc(2,R,2,0,"span",28)),2&e){var n=d.oxw(2).$implicit,i=d.oxw(3);d.Q6J("ngSwitch",n.field),d.xp6(2),d.Q6J("ngIf",!0===i.isRequired(n.field))}}function E(e,t){1&e&&d.YNc(0,B,3,2,"ng-template",26)}function Y(e,t){if(1&e&&(d.ynx(0),d._uU(1),d.BQk()),2&e){var n=d.oxw(3).$implicit,i=d.oxw().$implicit;d.xp6(1),d.hij(" ",i[n.field]," ")}}function U(e,t){if(1&e&&(d.ynx(0,15),d.YNc(1,Y,2,1,"ng-container",27),d.BQk()),2&e){var n=d.oxw(2).$implicit;d.Q6J("ngSwitch",n.field)}}function H(e,t){1&e&&d.YNc(0,U,2,1,"ng-template",31)}var _=function(){return{width:"100%"}};function z(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"p-dropdown",35),d.NdJ("onChange",function(){return d.CHM(n),d.oxw(7).onChange()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(4).$implicit,o=d.oxw(3);d.xp6(1),d.Akn(d.DdM(4,_)),d.Q6J("formControlName",i.field)("options",o.getOptionDto(i.field))}}function j(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"p-multiSelect",36),d.NdJ("onChange",function(){return d.CHM(n),d.oxw(7).onChange()})("onPanelShow",function(){return d.CHM(n),d.oxw(7).onPanelShowMultiSelect()})("onPanelHide",function(){return d.CHM(n),d.oxw(7).onPanelHideMultiSelect()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(4).$implicit,o=d.oxw(3);d.xp6(1),d.Akn(d.DdM(4,_)),d.Q6J("formControlName",i.field)("options",o.getOptionDto(i.field))}}function G(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"p-checkbox",37),d.NdJ("onChange",function(){return d.CHM(n),d.oxw(7).onChange()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(4).$implicit;d.xp6(1),d.Q6J("binary",!0)("formControlName",i.field)}}function K(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"input",38),d.NdJ("change",function(){return d.CHM(n),d.oxw(7).onChange()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(4).$implicit;d.xp6(1),d.Q6J("formControlName",i.field)}}function V(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"p-calendar",39),d.NdJ("onShow",function(){return d.CHM(n),d.oxw(7).onShowCalendar()})("onSelect",function(){return d.CHM(n),d.oxw(7).onChange()})("onBlur",function(){return d.CHM(n),d.oxw(7).onBlurCalendar()})("onClose",function(){return d.CHM(n),d.oxw(7).onCloseCalendar()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(4).$implicit;d.xp6(1),d.Akn(d.DdM(5,_)),d.Q6J("formControlName",i.field)("showButtonBar",!0)("inputStyle",d.DdM(6,_))}}function W(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"p-calendar",40),d.NdJ("onShow",function(){return d.CHM(n),d.oxw(7).onShowCalendar()})("onSelect",function(){return d.CHM(n),d.oxw(7).onChange()})("onBlur",function(){return d.CHM(n),d.oxw(7).onBlurCalendar()})("onClose",function(){return d.CHM(n),d.oxw(7).onCloseCalendar()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(4).$implicit;d.xp6(1),d.Akn(d.DdM(5,_)),d.Q6J("formControlName",i.field)("inputStyle",d.DdM(6,_))("timeOnly",!0)}}function X(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"p-calendar",41),d.NdJ("onShow",function(){return d.CHM(n),d.oxw(7).onShowCalendar()})("onSelect",function(){return d.CHM(n),d.oxw(7).onChange()})("onBlur",function(){return d.CHM(n),d.oxw(7).onBlurCalendar()})("onClose",function(){return d.CHM(n),d.oxw(7).onCloseCalendar()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(4).$implicit;d.xp6(1),d.Akn(d.DdM(5,_)),d.Q6J("formControlName",i.field)("inputStyle",d.DdM(6,_))("timeOnly",!0)}}function ee(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"p-calendar",42),d.NdJ("onShow",function(){return d.CHM(n),d.oxw(7).onShowCalendar()})("onSelect",function(){return d.CHM(n),d.oxw(7).onChange()})("onBlur",function(){return d.CHM(n),d.oxw(7).onBlurCalendar()})("onClose",function(){return d.CHM(n),d.oxw(7).onCloseCalendar()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(4).$implicit;d.xp6(1),d.Akn(d.DdM(5,_)),d.Q6J("formControlName",i.field)("inputStyle",d.DdM(6,_))("timeOnly",!0)}}function te(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"p-calendar",43),d.NdJ("onShow",function(){return d.CHM(n),d.oxw(7).onShowCalendar()})("onSelect",function(){return d.CHM(n),d.oxw(7).onChange()})("onBlur",function(){return d.CHM(n),d.oxw(7).onBlurCalendar()})("onClose",function(){return d.CHM(n),d.oxw(7).onCloseCalendar()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(4).$implicit;d.xp6(1),d.Akn(d.DdM(5,_)),d.Q6J("formControlName",i.field)("showButtonBar",!0)("inputStyle",d.DdM(6,_))}}function ne(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"input",44),d.NdJ("change",function(){return d.CHM(n),d.oxw(7).onChange()}),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(4).$implicit;d.xp6(1),d.Q6J("maxlength",i.maxlength)("formControlName",i.field)}}function ie(e,t){1&e&&(d.TgZ(0,"span",30),d._uU(1,"*"),d.qZA())}function oe(e,t){if(1&e&&(d.ynx(0,15),d.YNc(1,z,2,5,"ng-container",34),d.YNc(2,j,2,5,"ng-container",34),d.YNc(3,G,2,2,"ng-container",34),d.YNc(4,K,2,1,"ng-container",34),d.YNc(5,V,2,7,"ng-container",34),d.YNc(6,W,2,7,"ng-container",34),d.YNc(7,X,2,7,"ng-container",34),d.YNc(8,ee,2,7,"ng-container",34),d.YNc(9,te,2,7,"ng-container",34),d.YNc(10,ne,2,2,"ng-container",27),d.BQk(),d.YNc(11,ie,2,0,"span",28)),2&e){var n=d.oxw(3).$implicit,i=d.oxw(3);d.Q6J("ngSwitch",n.type),d.xp6(1),d.Q6J("ngSwitchCase","OneToMany"),d.xp6(1),d.Q6J("ngSwitchCase","ManyToMany"),d.xp6(1),d.Q6J("ngSwitchCase","Boolean"),d.xp6(1),d.Q6J("ngSwitchCase","Number"),d.xp6(1),d.Q6J("ngSwitchCase","Date"),d.xp6(1),d.Q6J("ngSwitchCase","Time"),d.xp6(1),d.Q6J("ngSwitchCase","TimeOnly"),d.xp6(1),d.Q6J("ngSwitchCase","TimeSecOnly"),d.xp6(1),d.Q6J("ngSwitchCase","DateTime"),d.xp6(2),d.Q6J("ngIf",!0===i.isRequired(n.field))}}function re(e,t){if(1&e&&(d.ynx(0),d._uU(1),d.BQk()),2&e){var n=d.oxw(5).$implicit,i=d.oxw().$implicit;d.xp6(1),d.hij(" ",null==i[n.field]?null:i[n.field].display," ")}}function ae(e,t){if(1&e&&(d.ynx(0),d._uU(1),d.BQk()),2&e){var n=d.oxw(5).$implicit,i=d.oxw().$implicit,o=d.oxw(2);d.xp6(1),d.hij(" ",o.formatDisplayName(i[n.field])," ")}}function se(e,t){if(1&e&&(d.ynx(0),d._uU(1),d.ALo(2,"formatValue"),d.BQk()),2&e){var n=d.oxw(5).$implicit,i=d.oxw().$implicit;d.xp6(1),d.hij(" ",d.xi3(2,1,i[n.field],n)," ")}}function le(e,t){if(1&e&&(d.ynx(0),d.ynx(1,15),d.YNc(2,re,2,1,"ng-container",34),d.YNc(3,ae,2,1,"ng-container",34),d.YNc(4,se,3,4,"ng-container",27),d.BQk(),d.BQk()),2&e){var n=d.oxw(4).$implicit;d.xp6(1),d.Q6J("ngSwitch",n.type),d.xp6(1),d.Q6J("ngSwitchCase","OneToMany"),d.xp6(1),d.Q6J("ngSwitchCase","ManyToMany")}}function ce(e,t){if(1&e&&d.YNc(0,le,5,3,"ng-container",9),2&e){var n=d.oxw(4).$implicit,i=d.oxw(2);d.Q6J("ngIf",!0!==i.isFooter(n))}}function ue(e,t){if(1&e&&(d.YNc(0,oe,12,11,"ng-template",32),d.YNc(1,ce,1,1,"ng-template",null,33,d.W1O)),2&e){var n=d.MAs(2),i=d.oxw(2).$implicit;d.Q6J("ngIf",!0===i.isEditable)("ngIfElse",n)}}function de(e,t){1&e&&d.YNc(0,ue,3,2,"ng-template",26)}function fe(e,t){1&e&&(d.TgZ(0,"label"),d._uU(1,"-"),d.qZA())}function pe(e,t){if(1&e&&d.YNc(0,fe,2,0,"label",9),2&e){var n=d.oxw(3).$implicit;d.Q6J("ngIf",!0===n.isEditable)}}function me(e,t){if(1&e&&(d.ynx(0),d._uU(1),d.BQk()),2&e){var n=d.oxw(4).$implicit,i=d.oxw().$implicit;d.xp6(1),d.hij(" ",null==i[n.field]?null:i[n.field].display," ")}}function he(e,t){if(1&e&&(d.ynx(0),d._uU(1),d.BQk()),2&e){var n=d.oxw(4).$implicit,i=d.oxw().$implicit,o=d.oxw(2);d.xp6(1),d.hij(" ",o.formatDisplayName(i[n.field])," ")}}function ge(e,t){1&e&&d._UZ(0,"i",47)}function be(e,t){if(1&e&&(d.ynx(0),d.YNc(1,ge,1,0,"i",46),d.BQk()),2&e){var n=d.oxw(4).$implicit,i=d.oxw().$implicit;d.xp6(1),d.Q6J("ngIf",!0===i[n.field])}}function ye(e,t){if(1&e&&(d.ynx(0),d._uU(1),d.ALo(2,"formatValue"),d.BQk()),2&e){var n=d.oxw(4).$implicit,i=d.oxw().$implicit;d.xp6(1),d.hij(" ",d.xi3(2,1,i[n.field],n)," ")}}function ve(e,t){if(1&e&&(d.ynx(0,15),d.YNc(1,me,2,1,"ng-container",34),d.YNc(2,he,2,1,"ng-container",34),d.YNc(3,be,2,1,"ng-container",34),d.YNc(4,ye,3,4,"ng-container",27),d.BQk()),2&e){var n=d.oxw(3).$implicit;d.Q6J("ngSwitch",n.type),d.xp6(1),d.Q6J("ngSwitchCase","OneToMany"),d.xp6(1),d.Q6J("ngSwitchCase","ManyToMany"),d.xp6(1),d.Q6J("ngSwitchCase","Boolean")}}function we(e,t){if(1&e&&(d.YNc(0,pe,1,1,"ng-template",32),d.YNc(1,ve,5,4,"ng-template",null,45,d.W1O)),2&e){var n=d.MAs(2),i=d.oxw(3).$implicit,o=d.oxw(2);d.Q6J("ngIf",!0===o.isFooter(i))("ngIfElse",n)}}function xe(e,t){1&e&&d.YNc(0,we,3,2,"ng-template",31)}function Se(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"td",25),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw(2).initEditableRow(e)}),d.TgZ(1,"p-cellEditor"),d.YNc(2,E,1,0,void 0,9),d.YNc(3,H,1,0,void 0,9),d.YNc(4,de,1,0,void 0,9),d.YNc(5,xe,1,0,void 0,9),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit,o=d.oxw(3);d.xp6(2),d.Q6J("ngIf",!0===o.isSpecificInput(i.field)),d.xp6(1),d.Q6J("ngIf",!0===o.isSpecificInput(i.field)),d.xp6(1),d.Q6J("ngIf",!0!==o.isSpecificInput(i.field)),d.xp6(1),d.Q6J("ngIf",!0!==o.isSpecificInput(i.field))}}function Ce(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"tr",19),d.NdJ("focusout",function(){return d.CHM(n),d.oxw(2).onFocusout()})("keyup.enter",function(){return d.CHM(n),d.oxw(2).initEditableRow(null)})("keyup.escape",function(){return d.CHM(n),d.oxw(2).cancel()}),d.YNc(1,q,3,2,"td",9),d.YNc(2,Se,6,4,"td",20),d.qZA()}if(2&e){var i=t.$implicit,o=t.columns,r=d.oxw(2);d.Q6J("pSelectableRow",!0!==r.isFooter(i)?i:null)("pEditableRow",i),d.xp6(1),d.Q6J("ngIf",r.canSelectElement),d.xp6(1),d.Q6J("ngForOf",o)}}function Ae(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td",48),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.qZA()),2&e){var n=t.$implicit;d.xp6(1),d.uIk("colspan",n.length+1),d.xp6(1),d.hij(" ",d.lcZ(3,2,"bia.NoRecordsFound")," ")}}function Ze(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"p-table",2,3),d.NdJ("onFilter",function(){return d.CHM(n),d.oxw().onFilter()})("onLazyLoad",function(e){return d.CHM(n),d.oxw().onLoadLazy(e)})("onStateSave",function(e){return d.CHM(n),d.oxw().onStateSave(e)})("selectionChange",function(){return d.CHM(n),d.oxw().onSelectionChange()}),d.ALo(2,"async"),d.YNc(3,D,4,3,"ng-template",4),d.YNc(4,Ce,3,4,"ng-template",5),d.YNc(5,Ae,4,4,"ng-template",6),d.qZA()}if(2&e){var i=d.oxw();d.Q6J("autoLayout",!0)("reorderableColumns",!0)("columns",i.displayedColumns)("value",i.elements)("paginator",i.paginator)("rows",i.pageSize)("totalRecords",i.totalRecord)("lazy",!0)("loading",i.loading&&null!==d.lcZ(2,14,i.showLoading$))("stateStorage","session")("stateKey",i.tableStateKey)("lazyLoadOnInit",i.getLazyLoadOnInit())("sortField",i.sortFieldValue)("sortOrder",i.sortOrderValue)}}var Me=function(){var e=function(e){r(n,e);var t=s(n);function n(e,i,o,r,a){var s;return u(this,n),(s=t.call(this,e,i,o,r)).formBuilder=e,s.authService=i,s.biaMessageService=o,s.translateService=r,s.siteService=a,s}return f(n,[{key:"initForm",value:function(){this.form=this.formBuilder.group({id:[this.element.id],user:[this.element.user,i.kI.required],roles:[this.element.roles]})}},{key:"onSubmit",value:function(){var e;if(this.form.valid){var t=this.form.value;t.id=t.id>0?t.id:0,t.roles=a.P.Differential(t.roles,null===(e=this.element)||void 0===e?void 0:e.roles),t.user=Object.assign({},t.user),t.teamId=this.siteService.currentSiteId,this.save.emit(t),this.form.reset()}}}]),n}(c.l);return e.\u0275fac=function(t){return new(t||e)(d.Y36(i.qu),d.Y36(o.e),d.Y36(p.X),d.Y36(m.sK),d.Y36(l.P))},e.\u0275cmp=d.Xpm({type:e,selectors:[["bia-member-table"]],features:[d.qOj],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","p-float-label",4,"ngIf"],[1,"p-float-label"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","showSeconds","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur","onClose"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","pi pi-check",4,"ngIf"],[1,"pi","pi-check"],[1,"app-empty-message"]],template:function(e,t){1&e&&(d.TgZ(0,"form",0),d.YNc(1,Ze,6,16,"p-table",1),d.qZA()),2&e&&(d.Q6J("formGroup",t.form),d.xp6(1),d.Q6J("ngIf",t.configuration))},directives:[i._Y,i.JL,i.sg,h.O5,g.iA,b.jx,h.sg,g.Mo,g.lQ,g.fz,h.RF,y.o,h.mk,v.oO,g.Ei,g.D$,g.UA,g.YL,h.ED,i.Fj,i.JJ,i.u,h.n9,w.Lt,x.NU,S.XZ,i.wV,C.f,A.D,i.nD],pipes:[h.Ov,m.X$,Z.c],styles:["[_nghost-%COMP%]{flex-direction:column}[_nghost-%COMP%]     p-table .searchTR .p-float-label .p-inputtext{padding-top:2px!important}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center!important}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),e}()},3014:function(e,t,n){n.d(t,{W:function(){return m}});var i,o=n(86710),r=n(91601),a=n(25021),s=n(24317),l=n(61028),c=n(11936),d=n(39682),f=n(95546),p=n(37716),m=((i=function e(){u(this,e)}).\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[l.m,o.Aw.forFeature("members",s.ll),r.sQ.forFeature([a.c]),d.U,c.p,f.q]]}),i)},19737:function(e,t,n){n.d(t,{W:function(){return l}});var i,o=n(74147),a=n(37716),l=((i=function(e){r(n,e);var t=s(n);function n(e){return u(this,n),t.call(this,e,"Members")}return n}(o.Z)).\u0275fac=function(e){return new(e||i)(a.LFG(a.zs3))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},63140:function(e,t,n){n.d(t,{n:function(){return h}});var i,o=n(9112),r=n(88002),a=n(65448),s=n(96875),l=n(23913),c=n(76048),d=n(94529),p=n(37716),m=n(86710),h=((i=function(){function e(t){u(this,e),this.store=t,this.userOptions$=this.store.select(l.yp),this.roleOptions$=this.store.select(a.wA),this.dictOptionDtos$=(0,o.aj)([this.userOptions$,this.roleOptions$]).pipe((0,r.U)(function(e){return[new d.b("user",e[0]),new d.b("roles",e[1])]}))}return f(e,[{key:"loadAllOptions",value:function(e){this.store.dispatch(c.d.loadAll()),this.store.dispatch(s.E.loadAll({teamTypeId:e}))}},{key:"refreshUsersOptions",value:function(){this.store.dispatch(c.d.loadAll())}}]),e}()).\u0275fac=function(e){return new(e||i)(p.LFG(m.yh))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},92580:function(e,t,n){n.d(t,{n:function(){return c}});var i,o=n(75319),r=n(24317),a=n(22795),s=n(37716),l=n(86710),c=((i=function(){function e(t){u(this,e),this.store=t,this.sub=new o.w,this.InitSub(),this.loading$=this.store.select(r.Sg),this.member$=this.store.select(r.R4)}return f(e,[{key:"currentMember",get:function(){var e;return(null===(e=this._currentMember)||void 0===e?void 0:e.id)===this._currentMemberId?this._currentMember:null}},{key:"currentMemberId",get:function(){return this._currentMemberId},set:function(e){this._currentMemberId=Number(e),this.store.dispatch(a.L.load({id:e}))}},{key:"InitSub",value:function(){var e=this;this.sub=new o.w,this.sub.add(this.store.select(r.R4).subscribe(function(t){t&&(e._currentMember=t)}))}}]),e}()).\u0275fac=function(e){return new(e||i)(s.LFG(l.yh))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},24317:function(e,t,n){n.d(t,{Ux:function(){return y},R4:function(){return m},yG:function(){return h},Sg:function(){return g},QJ:function(){return b},T7:function(){return p},ll:function(){return u}});var i=n(80273),r=n(86710),a=n(22795),s=(0,i.H)({selectId:function(e){return e.id},sortComparer:!1}),l=s.getInitialState({totalCount:0,currentMember:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),c=(0,r.Lq)(l,(0,r.on)(a.L.loadAllByPost,function(e,t){return o(t),Object.assign(Object.assign({},e),{loadingGetAll:!0})}),(0,r.on)(a.L.load,function(e){return Object.assign(Object.assign({},e),{loadingGet:!0})}),(0,r.on)(a.L.loadAllByPostSuccess,function(e,t){var n=t.result,i=t.event,o=s.setAll(n.data,e);return o.totalCount=n.totalCount,o.lastLazyLoadEvent=i,o.loadingGetAll=!1,o}),(0,r.on)(a.L.loadSuccess,function(e,t){var n=t.member;return Object.assign(Object.assign({},e),{currentMember:n,loadingGet:!1})}),(0,r.on)(a.L.failure,function(e,t){return o(t),Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})}));function u(e,t){return(0,r.UY)({members:c})(e,t)}var d=(0,r.ZF)("members"),f=(0,r.P1)(d,function(e){return e.members}),p=(0,r.P1)(f,function(e){return e.totalCount}),m=(0,r.P1)(f,function(e){return e.currentMember}),h=(0,r.P1)(f,function(e){return e.lastLazyLoadEvent}),g=(0,r.P1)(f,function(e){return e.loadingGet}),b=(0,r.P1)(f,function(e){return e.loadingGetAll}),y=s.getSelectors(f).selectAll},22795:function(e,t,n){n.d(t,{L:function(){return i}});var i,o,r=n(86710);(o=i||(i={})).loadAllByPost=(0,r.PH)("[Members] Load all by post",(0,r.Ky)()),o.load=(0,r.PH)("[Members] Load",(0,r.Ky)()),o.create=(0,r.PH)("[Members] Create",(0,r.Ky)()),o.createMulti=(0,r.PH)("[Members] Create multi",(0,r.Ky)()),o.update=(0,r.PH)("[Members] Update",(0,r.Ky)()),o.remove=(0,r.PH)("[Members] Remove",(0,r.Ky)()),o.multiRemove=(0,r.PH)("[Members] Multi Remove",(0,r.Ky)()),o.loadAllByPostSuccess=(0,r.PH)("[Members] Load all by post success",(0,r.Ky)()),o.loadSuccess=(0,r.PH)("[Members] Load success",(0,r.Ky)()),o.failure=(0,r.PH)("[Members] Failure",(0,r.Ky)())},25021:function(e,n,i){i.d(n,{c:function(){return x}});var o,r=i(25917),a=i(92996),s=i(43190),l=i(88002),c=i(5304),d=i(94612),f=i(57057),p=i(91601),m=i(22795),h=i(19737),g=i(24317),b=i(82762),y=i(37716),v=i(42),w=i(86710),x=((o=function e(n,i,o,h){var y=this;u(this,e),this.actions$=n,this.memberDas=i,this.biaMessageService=o,this.store=h,this.loadAllByPost$=(0,p.GW)(function(){return y.actions$.pipe((0,p.l4)(m.L.loadAllByPost),(0,a.j)("event"),(0,s.w)(function(e){return y.memberDas.getListByPost({event:e}).pipe((0,l.U)(function(t){return m.L.loadAllByPostSuccess({result:t,event:e})}),(0,c.K)(function(e){return y.biaMessageService.showError(),(0,r.of)(m.L.failure({error:e}))}))}))}),this.load$=(0,p.GW)(function(){return y.actions$.pipe((0,p.l4)(m.L.load),(0,a.j)("id"),(0,s.w)(function(e){return y.memberDas.get({id:e}).pipe((0,l.U)(function(e){return m.L.loadSuccess({member:e})}),(0,c.K)(function(e){return y.biaMessageService.showError(),(0,r.of)(m.L.failure({error:e}))}))}))}),this.create$=(0,p.GW)(function(){return y.actions$.pipe((0,p.l4)(m.L.create),(0,a.j)("member"),(0,d.b)(function(e){return(0,r.of)(e).pipe((0,f.M)(y.store.select(g.yG)))}),(0,s.w)(function(n){var i=t(n,2),o=i[0],a=i[1];return y.memberDas.post({item:o}).pipe((0,l.U)(function(){return y.biaMessageService.showAddSuccess(),e.useSignalR?(0,b.b)():m.L.loadAllByPost({event:a})}),(0,c.K)(function(e){return y.biaMessageService.showError(),(0,r.of)(m.L.failure({error:e}))}))}))}),this.createMulti$=(0,p.GW)(function(){return y.actions$.pipe((0,p.l4)(m.L.createMulti),(0,a.j)("members"),(0,d.b)(function(e){return(0,r.of)(e).pipe((0,f.M)(y.store.select(g.yG)))}),(0,s.w)(function(n){var i=t(n,2),o=i[0],a=i[1];return y.memberDas.postItem({item:o,endpoint:"addMulti"}).pipe((0,l.U)(function(){return y.biaMessageService.showAddSuccess(),e.useSignalR?(0,b.b)():m.L.loadAllByPost({event:a})}),(0,c.K)(function(e){return y.biaMessageService.showError(),(0,r.of)(m.L.failure({error:e}))}))}))}),this.update$=(0,p.GW)(function(){return y.actions$.pipe((0,p.l4)(m.L.update),(0,a.j)("member"),(0,d.b)(function(e){return(0,r.of)(e).pipe((0,f.M)(y.store.select(g.yG)))}),(0,s.w)(function(n){var i=t(n,2),o=i[0],a=i[1];return y.memberDas.put({item:o,id:o.id}).pipe((0,l.U)(function(){return y.biaMessageService.showUpdateSuccess(),e.useSignalR?(0,b.b)():m.L.loadAllByPost({event:a})}),(0,c.K)(function(e){return y.biaMessageService.showError(),(0,r.of)(m.L.failure({error:e}))}))}))}),this.destroy$=(0,p.GW)(function(){return y.actions$.pipe((0,p.l4)(m.L.remove),(0,a.j)("id"),(0,d.b)(function(e){return(0,r.of)(e).pipe((0,f.M)(y.store.select(g.yG)))}),(0,s.w)(function(n){var i=t(n,2),o=i[0],a=i[1];return y.memberDas.delete({id:o}).pipe((0,l.U)(function(){return y.biaMessageService.showDeleteSuccess(),e.useSignalR?(0,b.b)():m.L.loadAllByPost({event:a})}),(0,c.K)(function(e){return y.biaMessageService.showError(),(0,r.of)(m.L.failure({error:e}))}))}))}),this.multiDestroy$=(0,p.GW)(function(){return y.actions$.pipe((0,p.l4)(m.L.multiRemove),(0,a.j)("ids"),(0,d.b)(function(e){return(0,r.of)(e).pipe((0,f.M)(y.store.select(g.yG)))}),(0,s.w)(function(n){var i=t(n,2),o=i[0],a=i[1];return y.memberDas.deletes({ids:o}).pipe((0,l.U)(function(){return y.biaMessageService.showDeleteSuccess(),e.useSignalR?(0,b.b)():m.L.loadAllByPost({event:a})}),(0,c.K)(function(e){return y.biaMessageService.showError(),(0,r.of)(m.L.failure({error:e}))}))}))})}).useSignalR=!1,o.\u0275fac=function(e){return new(e||o)(y.LFG(p.eX),y.LFG(h.W),y.LFG(v.X),y.LFG(w.yh))},o.\u0275prov=y.Yz7({token:o,factory:o.\u0275fac}),o)},97985:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(37716),o=n(86710),r=n(22795),a=n(75319),s=n(92580),l=n(94666),c=n(63140),d=n(23913),p=n(13653),m=n(39083),h=n(29206),g=n(7767),b=n(38583),y=n(79373);function v(e,t){1&e&&i._UZ(0,"bia-spinner",2),2&e&&i.Q6J("overlay",!0)}var w,x=((w=function(){function e(t){u(this,e),this.displayChange=new i.vpe,this.sub=new a.w,this.canAddFromDirectory=!1,this.memberService=t.get(s.n),this.store=t.get(o.yh),this.router=t.get(l.F0),this.activatedRoute=t.get(l.gz),this.memberOptionsService=t.get(c.n),this.authService=t.get(m.e)}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.sub=new a.w,this.canAddFromDirectory=this.authService.hasPermission(h.y.User_Add),this.memberOptionsService.loadAllOptions(this.teamTypeId),this.sub.add(this.store.select(d.nC).pipe((0,p.T)(1)).subscribe(function(t){e.memberOptionsService.refreshUsersOptions()}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(r.L.update({member:e})),this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}}]),e}()).\u0275fac=function(e){return new(e||w)(i.Y36(i.zs3))},w.\u0275cmp=i.Xpm({type:w,selectors:[["bia-member-edit"]],outputs:{displayChange:"displayChange"},decls:6,vars:14,consts:[[3,"member","roleOptions","userOptions","teamId","canAddFromDirectory","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(i.TgZ(0,"bia-member-form-edit",0),i.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),i.ALo(1,"async"),i.ALo(2,"async"),i.ALo(3,"async"),i.qZA(),i.YNc(4,v,1,1,"bia-spinner",1),i.ALo(5,"async")),2&e&&(i.Q6J("member",i.lcZ(1,6,t.memberService.member$))("roleOptions",i.lcZ(2,8,t.memberOptionsService.roleOptions$))("userOptions",i.lcZ(3,10,t.memberOptionsService.userOptions$))("teamId",t.teamId)("canAddFromDirectory",t.canAddFromDirectory),i.xp6(4),i.Q6J("ngIf",i.lcZ(5,12,t.memberService.loading$)))},directives:[g.q,b.O5,y.O],pipes:[b.Ov],styles:[""]}),w)},78311:function(e,t,n){n.d(t,{b:function(){return b}});var i=n(86710),o=n(75319),r=n(24317),a=n(94666),s=n(92580),l=n(30466),c=n(28049),d=n(37716),p=n(38583),m=n(79373);function h(e,t){1&e&&d._UZ(0,"bia-spinner",1),2&e&&d.Q6J("overlay",!0)}var g,b=((g=function(){function e(t){u(this,e),this.sub=new o.w,this.store=t.get(i.yh),this.activatedRoute=t.get(a.gz),this.memberService=t.get(s.n),this.layoutService=t.get(l.N)}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.memberService.currentMemberId=this.activatedRoute.snapshot.params.memberId,this.sub.add(this.store.select(r.R4).subscribe(function(t){(null==t?void 0:t.user)&&(e.activatedRoute.data.pipe((0,c.P)()).subscribe(function(e){e.breadcrumb=t.user.display}),e.layoutService.refreshBreadcrumb())}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||g)(d.Y36(d.zs3))},g.\u0275cmp=d.Xpm({type:g,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(d._UZ(0,"router-outlet"),d.YNc(1,h,1,1,"bia-spinner",0),d.ALo(2,"async")),2&e&&(d.xp6(1),d.Q6J("ngIf",d.lcZ(2,1,t.memberService.loading$)))},directives:[a.lC,p.O5,m.O],pipes:[p.Ov],styles:[""]}),g)},36819:function(e,t,n){n.d(t,{A:function(){return v}});var i,o=n(86710),r=n(22795),a=function e(){u(this,e)},s=n(63140),l=n(94666),c=n(23913),d=n(75319),p=n(13653),m=n(39083),h=n(29206),g=n(37716),b=n(89490),y=n(38583),v=((i=function(){function e(t){u(this,e),this.sub=new d.w,this.canAddFromDirectory=!1,this.store=t.get(o.yh),this.router=t.get(l.F0),this.activatedRoute=t.get(l.gz),this.memberOptionsService=t.get(s.n),this.authService=t.get(m.e)}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.sub=new d.w,this.canAddFromDirectory=this.authService.hasPermission(h.y.User_Add),this.members=new a,this.memberOptionsService.loadAllOptions(this.teamTypeId),this.sub.add(this.store.select(c.nC).pipe((0,p.T)(1)).subscribe(function(t){e.memberOptionsService.refreshUsersOptions(),e.members.users=t}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(r.L.createMulti({members:e})),this.members=new a,this.router.navigate(["../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.members=new a,this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}]),e}()).\u0275fac=function(e){return new(e||i)(g.Y36(g.zs3))},i.\u0275cmp=g.Xpm({type:i,selectors:[["bia-member-new"]],decls:3,vars:9,consts:[[3,"members","roleOptions","userOptions","teamId","canAddFromDirectory","cancel","save"]],template:function(e,t){1&e&&(g.TgZ(0,"bia-member-form-new",0),g.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),g.ALo(1,"async"),g.ALo(2,"async"),g.qZA()),2&e&&g.Q6J("members",t.members)("roleOptions",g.lcZ(1,5,t.memberOptionsService.roleOptions$))("userOptions",g.lcZ(2,7,t.memberOptionsService.userOptions$))("teamId",t.teamId)("canAddFromDirectory",t.canAddFromDirectory)},directives:[b.m],pipes:[y.Ov],styles:[""]}),i)},1691:function(t,n,i){i.d(n,{p:function(){return F}});var o,r=i(86710),a=i(24317),s=i(22795),l=i(75319),c=i(88385),d=i(79090),p=i(40136),m=i(94666),h=i(19737),g=i(49457),b=i(81780),y=i(38042),v=i(28049),w=i(59142),x=i(37716),S=((o=function(){function e(t,n){u(this,e),this.store=t,this.signalRService=n}return f(e,[{key:"initialize",value:function(e){var t=this;console.log("%c [Members] Register SignalR : refresh-members","color: purple; font-weight: bold"),this.signalRService.addMethod("refresh-members",function(){t.store.select(a.yG).pipe((0,v.P)()).subscribe(function(e){console.log("%c [Members] RefreshSuccess","color: green; font-weight: bold"),t.store.dispatch(s.L.loadAllByPost({event:e}))})}),this.targetedFeature={parentKey:e,featureName:"members"},this.signalRService.joinGroup(this.targetedFeature)}},{key:"destroy",value:function(){console.log("%c [Members] Unregister SignalR : refresh-members","color: purple; font-weight: bold"),this.signalRService.removeMethod("refresh-members"),this.signalRService.leaveGroup(this.targetedFeature)}}]),e}()).\u0275fac=function(e){return new(e||o)(x.LFG(r.yh),x.LFG(w.Y))},o.\u0275prov=x.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o),C=i(25021),A=i(46468),Z=i(63140),M=i(28731),L=i(13653),O=i(23913),T=i(35618),k=i(81606),J=i(76743),N=i(38583),I=i(34601);function Q(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"bia-table",6),x.NdJ("clickRow",function(e){return x.CHM(n),x.oxw().onEdit(e)})("loadLazy",function(e){return x.CHM(n),x.oxw().onLoadLazy(e)})("selectedElementsChanged",function(e){return x.CHM(n),x.oxw().onSelectedElementsChanged(e)}),x.ALo(1,"async"),x.ALo(2,"async"),x.ALo(3,"async"),x.qZA()}if(2&e){var i=x.oxw();x.Q6J("elements",x.lcZ(1,12,i.members$))("totalRecord",x.lcZ(2,14,i.totalCount$))("columnToDisplays",i.displayedColumns)("pageSize",i.pageSize)("configuration",i.tableConfiguration)("showColSearch",i.showColSearch)("globalSearchValue",i.globalSearchValue)("canClickRow",i.canEdit)("canSelectElement",i.canDelete)("loading",x.lcZ(3,16,i.loading$))("viewPreference",i.viewPreference)("tableStateKey",i.tableStateKey)}}function D(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"bia-member-table",7),x.NdJ("loadLazy",function(e){return x.CHM(n),x.oxw().onLoadLazy(e)})("selectedElementsChanged",function(e){return x.CHM(n),x.oxw().onSelectedElementsChanged(e)})("save",function(e){return x.CHM(n),x.oxw().onSave(e)}),x.ALo(1,"async"),x.ALo(2,"async"),x.ALo(3,"async"),x.ALo(4,"async"),x.qZA()}if(2&e){var i=x.oxw();x.Q6J("elements",x.lcZ(1,14,i.members$))("dictOptionDtos",x.lcZ(2,16,i.memberOptionsService.dictOptionDtos$))("totalRecord",x.lcZ(3,18,i.totalCount$))("columnToDisplays",i.displayedColumns)("pageSize",i.pageSize)("configuration",i.tableConfiguration)("showColSearch",i.showColSearch)("globalSearchValue",i.globalSearchValue)("canEdit",i.canEdit)("canAdd",i.canAdd)("canSelectElement",i.canDelete)("loading",x.lcZ(4,20,i.loading$))("viewPreference",i.viewPreference)("tableStateKey",i.tableStateKey)}}var F=function(){var t=function(){function t(e){u(this,t),this.useCalcMode=!1,this.useSignalR=!1,this.useView=!1,this.useRefreshAtLanguageChange=!0,this.flex=!0,this.sub=new l.w,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=p.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.tableStateKey=this.useView?"membersGrid":void 0,this.store=e.get(r.yh),this.router=e.get(m.F0),this.activatedRoute=e.get(m.gz),this.memberDas=e.get(h.W),this.translateService=e.get(b.sK),this.biaTranslationService=e.get(y.P6),this.membersSignalRService=e.get(S),this.useCalcMode&&(this.memberOptionsService=e.get(Z.n))}return f(t,[{key:"ngOnInit",value:function(){var e=this;this.sub=new l.w,this.initTableConfiguration(),this.teams$=this.store.select((0,M.sf)(this.teamTypeId)),this.sub.add(this.teams$.subscribe(function(){e.setPermissions()})),this.members$=this.store.select(a.Ux),this.totalCount$=this.store.select(a.T7),this.loading$=this.store.select(a.QJ),this.OnDisplay(),this.useCalcMode&&(this.memberOptionsService.loadAllOptions(this.teamTypeId),this.sub.add(this.store.select(O.nC).subscribe(function(t){e.memberOptionsService.refreshUsersOptions()}))),this.useRefreshAtLanguageChange&&this.sub.add(this.biaTranslationService.currentCulture$.pipe((0,L.T)(1)).subscribe(function(t){e.onLoadLazy(e.memberListComponent.getLazyLoadMetadata())}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe(),this.OnHide()}},{key:"OnDisplay",value:function(){this.useView&&this.store.dispatch((0,A.Tx)()),this.useSignalR&&(this.membersSignalRService.initialize(this.parentIds[0]),C.c.useSignalR=!0)}},{key:"OnHide",value:function(){this.useSignalR&&(C.c.useSignalR=!1,this.membersSignalRService.destroy())}},{key:"onCreate",value:function(){this.useCalcMode||this.router.navigate(["../create"],{relativeTo:this.activatedRoute})}},{key:"onEdit",value:function(e){this.useCalcMode||this.router.navigate(["../"+e+"/edit"],{relativeTo:this.activatedRoute})}},{key:"onSave",value:function(e){this.useCalcMode&&((null==e?void 0:e.id)>0?this.canEdit&&this.store.dispatch(s.L.update({member:e})):this.canAdd&&this.store.dispatch(s.L.create({member:e})))}},{key:"onDelete",value:function(){this.selectedMembers&&this.canDelete&&this.store.dispatch(s.L.multiRemove({ids:this.selectedMembers.map(function(e){return e.id})}))}},{key:"onSelectedElementsChanged",value:function(e){this.selectedMembers=e}},{key:"onPageSizeChange",value:function(e){this.pageSize=e}},{key:"onLoadLazy",value:function(e){var t=Object.assign({parentIds:this.parentIds},e);this.store.dispatch(s.L.loadAllByPost({event:t}))}},{key:"searchGlobalChanged",value:function(e){this.globalSearchValue=e}},{key:"displayedColumnsChanged",value:function(e){this.displayedColumns=e}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(e){this.viewPreference=e}},{key:"onExportCSV",value:function(){var e=this,t={};this.columns.map(function(n){return t[n.value.split(".")[1]]=e.translateService.instant(n.value)});var n=Object.assign({parentIds:this.parentIds,columns:t},this.memberListComponent.getLazyLoadMetadata());this.memberDas.getFile(n).subscribe(function(t){g.saveAs(t,e.translateService.instant("app.members")+".csv")})}},{key:"setPermissions",value:function(){}},{key:"initTableConfiguration",value:function(){var t=this;this.biaTranslationService.currentCultureDateFormat$.subscribe(function(n){t.tableConfiguration={columns:[Object.assign(new d.ML("user","member.user"),{type:d.d5.OneToMany}),Object.assign(new d.ML("roles","member.rolesForSite"),{type:d.d5.ManyToMany})]},t.columns=t.tableConfiguration.columns.map(function(e){return{key:e.field,value:e.header}}),t.displayedColumns=e(t.columns)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(x.Y36(x.zs3))},t.\u0275cmp=x.Xpm({type:t,selectors:[["bia-members-index"]],viewQuery:function(e,t){var n;(1&e&&x.Gf(c.$,5),2&e)&&(x.iGM(n=x.CRH())&&(t.memberListComponent=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&x.ekj("bia-flex",t.flex)},decls:8,vars:16,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","clickRow","loadLazy","selectedElementsChanged",4,"ngIf"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save",4,"ngIf"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","clickRow","loadLazy","selectedElementsChanged"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x.TgZ(1,"div",1),x.TgZ(2,"bia-table-header",2),x.NdJ("create",function(){return t.onCreate()})("exportCSV",function(){return t.onExportCSV()})("delete",function(){return t.onDelete()}),x.ALo(3,"translate"),x.qZA(),x.TgZ(4,"bia-table-controller",3),x.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),x.ALo(5,"async"),x.qZA(),x.YNc(6,Q,4,18,"bia-table",4),x.YNc(7,D,5,22,"bia-member-table",5),x.qZA(),x.qZA()),2&e&&(x.xp6(2),x.Q6J("headerTitle",x.lcZ(3,12,"member.listOfSiteMembers"))("canAdd",t.canAdd&&!t.useCalcMode)("canDelete",t.canDelete)("canExportCSV",!0)("selectedElements",t.selectedMembers),x.xp6(2),x.Q6J("defaultPageSize",t.defaultPageSize)("length",x.lcZ(5,14,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns)("tableStateKey",t.tableStateKey),x.xp6(2),x.Q6J("ngIf",!t.useCalcMode),x.xp6(1),x.Q6J("ngIf",t.useCalcMode))},directives:[T.xw,T.yH,k.l,J.B,N.O5,c.$,I.U],pipes:[b.X$,N.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),t}()}}])}();