!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(c){l=!0,o=c}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[274],{81274:function(t,o,a){a.r(o),a.d(o,{PlaneModule:function(){return on}});var s,p=a(94666),d=a(86710),f=a(91601),h=a(25917),g=a(92996),y=a(43190),m=a(88002),v=a(5304),b=a(94612),w=a(57057),C=a(40136),S="features-planes-view",x=C.k0.Site,T=(0,d.PH)("["+S+"] Load all by post",(0,d.Ky)()),Z=(0,d.PH)("["+S+"] Load",(0,d.Ky)()),A=(0,d.PH)("["+S+"] Create",(0,d.Ky)()),O=(0,d.PH)("["+S+"] Update",(0,d.Ky)()),M=(0,d.PH)("["+S+"] Remove",(0,d.Ky)()),L=(0,d.PH)("["+S+"] Multi Remove",(0,d.Ky)()),N=(0,d.PH)("["+S+"] Load all by post success",(0,d.Ky)()),k=(0,d.PH)("["+S+"] Load success",(0,d.Ky)()),J=(0,d.PH)("["+S+"] Failure",(0,d.Ky)()),Q=a(74147),I=a(37716),$=((s=function(e){c(n,e);var t=u(n);function n(e){return l(this,n),t.call(this,e,"Planes")}return n}(Q.Z)).\u0275fac=function(e){return new(e||s)(I.LFG(I.zs3))},s.\u0275prov=I.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s),D=(0,a(80273).H)({selectId:function(e){return e.id},sortComparer:!1}),P=D.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),Y=(0,d.Lq)(P,(0,d.on)(T,function(e,t){return r(t),Object.assign(Object.assign({},e),{loadingGetAll:!0})}),(0,d.on)(Z,function(e){return Object.assign(Object.assign({},e),{loadingGet:!0})}),(0,d.on)(N,function(e,t){var n=t.result,i=t.event,o=D.setAll(n.data,e);return o.totalCount=n.totalCount,o.lastLazyLoadEvent=i,o.loadingGetAll=!1,o}),(0,d.on)(k,function(e,t){var n=t.plane;return Object.assign(Object.assign({},e),{currentPlane:n,loadingGet:!1})}),(0,d.on)(J,function(e,t){return r(t),Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})}));function q(e,t){return(0,d.UY)({planes:Y})(e,t)}var F=(0,d.ZF)(S),E=(0,d.P1)(F,function(e){return e.planes}),_=(0,d.P1)(E,function(e){return e.totalCount}),B=(0,d.P1)(E,function(e){return e.currentPlane}),H=(0,d.P1)(E,function(e){return e.lastLazyLoadEvent}),R=(0,d.P1)(E,function(e){return e.loadingGet}),z=(0,d.P1)(E,function(e){return e.loadingGetAll}),j=D.getSelectors(E).selectAll;a(82762);var U=a(42),G=function(){var e=function e(t,n,o,a){var r=this;l(this,e),this.actions$=t,this.planeDas=n,this.biaMessageService=o,this.store=a,this.loadAllByPost$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(T),(0,g.j)("event"),(0,y.w)(function(e){return r.planeDas.getListByPost({event:e}).pipe((0,m.U)(function(t){return N({result:t,event:e})}),(0,v.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(J({error:e}))}))}))}),this.load$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(Z),(0,g.j)("id"),(0,y.w)(function(e){return r.planeDas.get({id:e}).pipe((0,m.U)(function(e){return k({plane:e})}),(0,v.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(J({error:e}))}))}))}),this.create$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(A),(0,g.j)("plane"),(0,b.b)(function(e){return(0,h.of)(e).pipe((0,w.M)(r.store.select(H)))}),(0,y.w)(function(e){var t=i(e,2),n=t[0],o=t[1];return r.planeDas.post({item:n}).pipe((0,m.U)(function(){return r.biaMessageService.showAddSuccess(),T({event:o})}),(0,v.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(J({error:e}))}))}))}),this.update$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(O),(0,g.j)("plane"),(0,b.b)(function(e){return(0,h.of)(e).pipe((0,w.M)(r.store.select(H)))}),(0,y.w)(function(e){var t=i(e,2),n=t[0],o=t[1];return r.planeDas.put({item:n,id:n.id}).pipe((0,m.U)(function(){return r.biaMessageService.showUpdateSuccess(),T({event:o})}),(0,v.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(J({error:e}))}))}))}),this.destroy$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(M),(0,g.j)("id"),(0,b.b)(function(e){return(0,h.of)(e).pipe((0,w.M)(r.store.select(H)))}),(0,y.w)(function(e){var t=i(e,2),n=t[0],o=t[1];return r.planeDas.delete({id:n}).pipe((0,m.U)(function(){return r.biaMessageService.showDeleteSuccess(),T({event:o})}),(0,v.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(J({error:e}))}))}))}),this.multiDestroy$=(0,f.GW)(function(){return r.actions$.pipe((0,f.l4)(L),(0,g.j)("ids"),(0,b.b)(function(e){return(0,h.of)(e).pipe((0,w.M)(r.store.select(H)))}),(0,y.w)(function(e){var t=i(e,2),n=t[0],o=t[1];return r.planeDas.deletes({ids:n}).pipe((0,m.U)(function(){return r.biaMessageService.showDeleteSuccess(),T({event:o})}),(0,v.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(J({error:e}))}))}))})};return e.\u0275fac=function(t){return new(t||e)(I.LFG(f.eX),I.LFG($),I.LFG(U.X),I.LFG(d.yh))},e.\u0275prov=I.Yz7({token:e,factory:e.\u0275fac}),e}(),K=a(75319),V=a(88385),W=a(79090),X=a(39083),ee=a(49457),te=a(38042),ne=a(29206),ie=a(28049),oe=a(59142),ae=function(){var e=function(){function e(t,n,i){l(this,e),this.store=t,this.signalRService=n,this.authService=i}return n(e,[{key:"initialize",value:function(){var e=this;console.log("%c [Planes] Register SignalR : refresh-planes","color: purple; font-weight: bold"),this.signalRService.addMethod("refresh-planes",function(){e.store.select(H).pipe((0,ie.P)()).subscribe(function(t){console.log("%c [Planes] RefreshSuccess","color: green; font-weight: bold"),e.store.dispatch(T({event:t}))})}),this.targetedFeature={parentKey:this.authService.getCurrentTeamId(C.k0.Site).toString(),featureName:"planes"},this.signalRService.joinGroup(this.targetedFeature)}},{key:"destroy",value:function(){console.log("%c [Planes] Unregister SignalR : refresh-planes","color: purple; font-weight: bold"),this.signalRService.removeMethod("refresh-planes"),this.signalRService.leaveGroup(this.targetedFeature)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(I.LFG(d.yh),I.LFG(oe.Y),I.LFG(X.e))},e.\u0275prov=I.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),re=a(46468),le=a(9112),ce=a(76668),se=a(59931),ue=a(84845),pe=a(37597),de=a(94529),fe=function(){var e=function(){function e(t){l(this,e),this.store=t,this.planeTypeOptions$=this.store.select(ue.by),this.airportOptions$=this.store.select(ce.HJ),this.dictOptionDtos$=(0,le.aj)([this.planeTypeOptions$,this.airportOptions$]).pipe((0,m.U)(function(e){return[new de.b("planeType",e[0]),new de.b("connectingAirports",e[1])]}))}return n(e,[{key:"loadAllOptions",value:function(){this.store.dispatch(pe.l.loadAll()),this.store.dispatch(se.q.loadAll())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(I.LFG(d.yh))},e.\u0275prov=I.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),he=a(95336),ge=a(13653),ye=a(81780),me=a(35618),ve=a(81606),be=a(76743),we=a(38583),Ce=a(3679),Se=a(11466),xe=a(86320),Te=a(70667),Ze=a(33013),Ae=a(13928),Oe=a(88030),Me=a(50103),Le=a(36949),Ne=a(12332),ke=a(88598),Je=a(45862),Qe=a(49067);function Ie(e,t){1&e&&(I.TgZ(0,"th",10),I._UZ(1,"p-tableHeaderCheckbox"),I.qZA())}function $e(e,t){if(1&e&&(I.TgZ(0,"th",12),I._uU(1),I.ALo(2,"translate"),I._UZ(3,"p-sortIcon",13),I.qZA()),2&e){var n=I.oxw().$implicit;I.Q6J("pSortableColumn",n.field),I.xp6(1),I.hij(" ",I.lcZ(2,3,null==n?null:n.header)," "),I.xp6(2),I.Q6J("field",n.field)}}function De(e,t){if(1&e&&(I.TgZ(0,"th"),I._uU(1),I.ALo(2,"translate"),I.qZA()),2&e){var n=I.oxw().$implicit;I.xp6(1),I.hij(" ",I.lcZ(2,1,null==n?null:n.header)," ")}}function Pe(e,t){if(1&e&&(I.ynx(0),I.YNc(1,$e,4,5,"th",11),I.YNc(2,De,3,3,"th",9),I.BQk()),2&e){var n=t.$implicit;I.xp6(1),I.Q6J("ngIf",!0===(null==n?null:n.isSortable)),I.xp6(1),I.Q6J("ngIf",!0!==(null==n?null:n.isSortable))}}function Ye(e,t){1&e&&I._UZ(0,"th")}var qe=function(e){return{"p-state-filled":e}};function Fe(e,t){if(1&e){var n=I.EpF();I.TgZ(0,"span",17),I.TgZ(1,"input",18),I.NdJ("input",function(e){I.CHM(n);var t=I.oxw().$implicit;return I.oxw(3),I.MAs(1).filter(e.target.value,t.field,t.filterMode)}),I.ALo(2,"translate"),I.qZA(),I.qZA()}if(2&e){var i=I.oxw().$implicit;I.oxw(3);var o=I.MAs(1);I.xp6(1),I.s9C("type","Number"===i.type?"number":"text"),I.s9C("placeholder",void 0!==i.searchPlaceholder?i.searchPlaceholder:!0===i.isDate?I.lcZ(2,4,"bia.dateIso8601"):""),I.Q6J("value",null==o.filters[i.field]?null:o.filters[i.field].value)("ngClass",I.VKq(6,qe,""!==(null==o.filters[i.field]?null:o.filters[i.field].value)))}}function Ee(e,t){if(1&e&&(I.TgZ(0,"th",15),I.YNc(1,Fe,3,8,"span",16),I.qZA()),2&e){var n=t.$implicit;I.Q6J("ngSwitch",n.field),I.xp6(1),I.Q6J("ngIf",!0===n.isSearchable)}}function _e(e,t){if(1&e&&(I.TgZ(0,"tr"),I.YNc(1,Ye,1,0,"th",9),I.YNc(2,Ee,2,2,"th",14),I.qZA()),2&e){var n=I.oxw().$implicit,i=I.oxw(2);I.xp6(1),I.Q6J("ngIf",i.canSelectElement),I.xp6(1),I.Q6J("ngForOf",n)}}function Be(e,t){if(1&e&&(I.TgZ(0,"tr"),I.YNc(1,Ie,2,0,"th",7),I.YNc(2,Pe,3,2,"ng-container",8),I.qZA(),I.YNc(3,_e,3,2,"tr",9)),2&e){var n=t.$implicit,i=I.oxw(2);I.xp6(1),I.Q6J("ngIf",i.canSelectElement),I.xp6(1),I.Q6J("ngForOf",n),I.xp6(1),I.Q6J("ngIf",i.showColSearch)}}function He(e,t){if(1&e&&I._UZ(0,"p-tableCheckbox",23),2&e){var n=I.oxw(2).$implicit;I.Q6J("value",n)}}function Re(e,t){1&e&&I._UZ(0,"i",24)}function ze(e,t){if(1&e&&(I.TgZ(0,"td"),I.YNc(1,He,1,1,"p-tableCheckbox",21),I.YNc(2,Re,1,0,"i",22),I.qZA()),2&e){var n=I.oxw().$implicit,i=I.oxw(2);I.xp6(1),I.Q6J("ngIf",!0!==i.isFooter(n)&&n.id>0),I.xp6(1),I.Q6J("ngIf",!0===i.isFooter(n))}}function je(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"input",29),I.NdJ("change",function(){return I.CHM(n),I.oxw(6).onChange()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(3).$implicit;I.xp6(1),I.Q6J("formControlName",i.field)}}function Ue(e,t){1&e&&(I.TgZ(0,"span",30),I._uU(1,"*"),I.qZA())}function Ge(e,t){if(1&e&&(I.ynx(0,15),I.YNc(1,je,2,1,"ng-container",27),I.BQk(),I.YNc(2,Ue,2,0,"span",28)),2&e){var n=I.oxw(2).$implicit,i=I.oxw(3);I.Q6J("ngSwitch",n.field),I.xp6(2),I.Q6J("ngIf",!0===i.isRequired(n.field))}}function Ke(e,t){1&e&&I.YNc(0,Ge,3,2,"ng-template",26)}function Ve(e,t){if(1&e&&(I.ynx(0),I._uU(1),I.BQk()),2&e){var n=I.oxw(3).$implicit,i=I.oxw().$implicit;I.xp6(1),I.hij(" ",i[n.field]," ")}}function We(e,t){if(1&e&&(I.ynx(0,15),I.YNc(1,Ve,2,1,"ng-container",27),I.BQk()),2&e){var n=I.oxw(2).$implicit;I.Q6J("ngSwitch",n.field)}}function Xe(e,t){1&e&&I.YNc(0,We,2,1,"ng-template",31)}var et=function(){return{width:"100%"}};function tt(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"p-dropdown",35),I.NdJ("onChange",function(){return I.CHM(n),I.oxw(7).onChange()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(4).$implicit,o=I.oxw(3);I.xp6(1),I.Akn(I.DdM(4,et)),I.Q6J("formControlName",i.field)("options",o.getOptionDto(i.field))}}function nt(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"p-multiSelect",36),I.NdJ("onChange",function(){return I.CHM(n),I.oxw(7).onChange()})("onPanelShow",function(){return I.CHM(n),I.oxw(7).onPanelShowMultiSelect()})("onPanelHide",function(){return I.CHM(n),I.oxw(7).onPanelHideMultiSelect()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(4).$implicit,o=I.oxw(3);I.xp6(1),I.Akn(I.DdM(4,et)),I.Q6J("formControlName",i.field)("options",o.getOptionDto(i.field))}}function it(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"p-checkbox",37),I.NdJ("onChange",function(){return I.CHM(n),I.oxw(7).onChange()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(4).$implicit;I.xp6(1),I.Q6J("binary",!0)("formControlName",i.field)}}function ot(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"input",38),I.NdJ("change",function(){return I.CHM(n),I.oxw(7).onChange()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(4).$implicit;I.xp6(1),I.Q6J("formControlName",i.field)}}function at(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"p-calendar",39),I.NdJ("onShow",function(){return I.CHM(n),I.oxw(7).onShowCalendar()})("onSelect",function(){return I.CHM(n),I.oxw(7).onChange()})("onBlur",function(){return I.CHM(n),I.oxw(7).onBlurCalendar()})("onClose",function(){return I.CHM(n),I.oxw(7).onCloseCalendar()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(4).$implicit;I.xp6(1),I.Akn(I.DdM(5,et)),I.Q6J("formControlName",i.field)("showButtonBar",!0)("inputStyle",I.DdM(6,et))}}function rt(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"p-calendar",40),I.NdJ("onShow",function(){return I.CHM(n),I.oxw(7).onShowCalendar()})("onSelect",function(){return I.CHM(n),I.oxw(7).onChange()})("onBlur",function(){return I.CHM(n),I.oxw(7).onBlurCalendar()})("onClose",function(){return I.CHM(n),I.oxw(7).onCloseCalendar()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(4).$implicit;I.xp6(1),I.Akn(I.DdM(5,et)),I.Q6J("formControlName",i.field)("inputStyle",I.DdM(6,et))("timeOnly",!0)}}function lt(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"p-calendar",41),I.NdJ("onShow",function(){return I.CHM(n),I.oxw(7).onShowCalendar()})("onSelect",function(){return I.CHM(n),I.oxw(7).onChange()})("onBlur",function(){return I.CHM(n),I.oxw(7).onBlurCalendar()})("onClose",function(){return I.CHM(n),I.oxw(7).onCloseCalendar()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(4).$implicit;I.xp6(1),I.Akn(I.DdM(5,et)),I.Q6J("formControlName",i.field)("inputStyle",I.DdM(6,et))("timeOnly",!0)}}function ct(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"p-calendar",42),I.NdJ("onShow",function(){return I.CHM(n),I.oxw(7).onShowCalendar()})("onSelect",function(){return I.CHM(n),I.oxw(7).onChange()})("onBlur",function(){return I.CHM(n),I.oxw(7).onBlurCalendar()})("onClose",function(){return I.CHM(n),I.oxw(7).onCloseCalendar()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(4).$implicit;I.xp6(1),I.Akn(I.DdM(5,et)),I.Q6J("formControlName",i.field)("inputStyle",I.DdM(6,et))("timeOnly",!0)}}function st(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"p-calendar",43),I.NdJ("onShow",function(){return I.CHM(n),I.oxw(7).onShowCalendar()})("onSelect",function(){return I.CHM(n),I.oxw(7).onChange()})("onBlur",function(){return I.CHM(n),I.oxw(7).onBlurCalendar()})("onClose",function(){return I.CHM(n),I.oxw(7).onCloseCalendar()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(4).$implicit;I.xp6(1),I.Akn(I.DdM(5,et)),I.Q6J("formControlName",i.field)("showButtonBar",!0)("inputStyle",I.DdM(6,et))}}function ut(e,t){if(1&e){var n=I.EpF();I.ynx(0),I.TgZ(1,"input",44),I.NdJ("change",function(){return I.CHM(n),I.oxw(7).onChange()}),I.qZA(),I.BQk()}if(2&e){var i=I.oxw(4).$implicit;I.xp6(1),I.Q6J("maxlength",i.maxlength)("formControlName",i.field)}}function pt(e,t){1&e&&(I.TgZ(0,"span",30),I._uU(1,"*"),I.qZA())}function dt(e,t){if(1&e&&(I.ynx(0,15),I.YNc(1,tt,2,5,"ng-container",34),I.YNc(2,nt,2,5,"ng-container",34),I.YNc(3,it,2,2,"ng-container",34),I.YNc(4,ot,2,1,"ng-container",34),I.YNc(5,at,2,7,"ng-container",34),I.YNc(6,rt,2,7,"ng-container",34),I.YNc(7,lt,2,7,"ng-container",34),I.YNc(8,ct,2,7,"ng-container",34),I.YNc(9,st,2,7,"ng-container",34),I.YNc(10,ut,2,2,"ng-container",27),I.BQk(),I.YNc(11,pt,2,0,"span",28)),2&e){var n=I.oxw(3).$implicit,i=I.oxw(3);I.Q6J("ngSwitch",n.type),I.xp6(1),I.Q6J("ngSwitchCase","OneToMany"),I.xp6(1),I.Q6J("ngSwitchCase","ManyToMany"),I.xp6(1),I.Q6J("ngSwitchCase","Boolean"),I.xp6(1),I.Q6J("ngSwitchCase","Number"),I.xp6(1),I.Q6J("ngSwitchCase","Date"),I.xp6(1),I.Q6J("ngSwitchCase","Time"),I.xp6(1),I.Q6J("ngSwitchCase","TimeOnly"),I.xp6(1),I.Q6J("ngSwitchCase","TimeSecOnly"),I.xp6(1),I.Q6J("ngSwitchCase","DateTime"),I.xp6(2),I.Q6J("ngIf",!0===i.isRequired(n.field))}}function ft(e,t){if(1&e&&(I.ynx(0),I._uU(1),I.BQk()),2&e){var n=I.oxw(5).$implicit,i=I.oxw().$implicit;I.xp6(1),I.hij(" ",null==i[n.field]?null:i[n.field].display," ")}}function ht(e,t){if(1&e&&(I.ynx(0),I._uU(1),I.BQk()),2&e){var n=I.oxw(5).$implicit,i=I.oxw().$implicit,o=I.oxw(2);I.xp6(1),I.hij(" ",o.formatDisplayName(i[n.field])," ")}}function gt(e,t){if(1&e&&(I.ynx(0),I._uU(1),I.ALo(2,"formatValue"),I.BQk()),2&e){var n=I.oxw(5).$implicit,i=I.oxw().$implicit;I.xp6(1),I.hij(" ",I.xi3(2,1,i[n.field],n)," ")}}function yt(e,t){if(1&e&&(I.ynx(0),I.ynx(1,15),I.YNc(2,ft,2,1,"ng-container",34),I.YNc(3,ht,2,1,"ng-container",34),I.YNc(4,gt,3,4,"ng-container",27),I.BQk(),I.BQk()),2&e){var n=I.oxw(4).$implicit;I.xp6(1),I.Q6J("ngSwitch",n.type),I.xp6(1),I.Q6J("ngSwitchCase","OneToMany"),I.xp6(1),I.Q6J("ngSwitchCase","ManyToMany")}}function mt(e,t){if(1&e&&I.YNc(0,yt,5,3,"ng-container",9),2&e){var n=I.oxw(4).$implicit,i=I.oxw(2);I.Q6J("ngIf",!0!==i.isFooter(n))}}function vt(e,t){if(1&e&&(I.YNc(0,dt,12,11,"ng-template",32),I.YNc(1,mt,1,1,"ng-template",null,33,I.W1O)),2&e){var n=I.MAs(2),i=I.oxw(2).$implicit;I.Q6J("ngIf",!0===i.isEditable)("ngIfElse",n)}}function bt(e,t){1&e&&I.YNc(0,vt,3,2,"ng-template",26)}function wt(e,t){1&e&&(I.TgZ(0,"label"),I._uU(1,"-"),I.qZA())}function Ct(e,t){if(1&e&&I.YNc(0,wt,2,0,"label",9),2&e){var n=I.oxw(3).$implicit;I.Q6J("ngIf",!0===n.isEditable)}}function St(e,t){if(1&e&&(I.ynx(0),I._uU(1),I.BQk()),2&e){var n=I.oxw(4).$implicit,i=I.oxw().$implicit;I.xp6(1),I.hij(" ",null==i[n.field]?null:i[n.field].display," ")}}function xt(e,t){if(1&e&&(I.ynx(0),I._uU(1),I.BQk()),2&e){var n=I.oxw(4).$implicit,i=I.oxw().$implicit,o=I.oxw(2);I.xp6(1),I.hij(" ",o.formatDisplayName(i[n.field])," ")}}function Tt(e,t){1&e&&I._UZ(0,"i",47)}function Zt(e,t){if(1&e&&(I.ynx(0),I.YNc(1,Tt,1,0,"i",46),I.BQk()),2&e){var n=I.oxw(4).$implicit,i=I.oxw().$implicit;I.xp6(1),I.Q6J("ngIf",!0===i[n.field])}}function At(e,t){if(1&e&&(I.ynx(0),I._uU(1),I.ALo(2,"formatValue"),I.BQk()),2&e){var n=I.oxw(4).$implicit,i=I.oxw().$implicit;I.xp6(1),I.hij(" ",I.xi3(2,1,i[n.field],n)," ")}}function Ot(e,t){if(1&e&&(I.ynx(0,15),I.YNc(1,St,2,1,"ng-container",34),I.YNc(2,xt,2,1,"ng-container",34),I.YNc(3,Zt,2,1,"ng-container",34),I.YNc(4,At,3,4,"ng-container",27),I.BQk()),2&e){var n=I.oxw(3).$implicit;I.Q6J("ngSwitch",n.type),I.xp6(1),I.Q6J("ngSwitchCase","OneToMany"),I.xp6(1),I.Q6J("ngSwitchCase","ManyToMany"),I.xp6(1),I.Q6J("ngSwitchCase","Boolean")}}function Mt(e,t){if(1&e&&(I.YNc(0,Ct,1,1,"ng-template",32),I.YNc(1,Ot,5,4,"ng-template",null,45,I.W1O)),2&e){var n=I.MAs(2),i=I.oxw(3).$implicit,o=I.oxw(2);I.Q6J("ngIf",!0===o.isFooter(i))("ngIfElse",n)}}function Lt(e,t){1&e&&I.YNc(0,Mt,3,2,"ng-template",31)}function Nt(e,t){if(1&e){var n=I.EpF();I.TgZ(0,"td",25),I.NdJ("click",function(){I.CHM(n);var e=I.oxw().$implicit;return I.oxw(2).initEditableRow(e)}),I.TgZ(1,"p-cellEditor"),I.YNc(2,Ke,1,0,void 0,9),I.YNc(3,Xe,1,0,void 0,9),I.YNc(4,bt,1,0,void 0,9),I.YNc(5,Lt,1,0,void 0,9),I.qZA(),I.qZA()}if(2&e){var i=t.$implicit,o=I.oxw(3);I.xp6(2),I.Q6J("ngIf",!0===o.isSpecificInput(i.field)),I.xp6(1),I.Q6J("ngIf",!0===o.isSpecificInput(i.field)),I.xp6(1),I.Q6J("ngIf",!0!==o.isSpecificInput(i.field)),I.xp6(1),I.Q6J("ngIf",!0!==o.isSpecificInput(i.field))}}function kt(e,t){if(1&e){var n=I.EpF();I.TgZ(0,"tr",19),I.NdJ("focusout",function(){return I.CHM(n),I.oxw(2).onFocusout()})("keyup.enter",function(){return I.CHM(n),I.oxw(2).initEditableRow(null)})("keyup.escape",function(){return I.CHM(n),I.oxw(2).cancel()}),I.YNc(1,ze,3,2,"td",9),I.YNc(2,Nt,6,4,"td",20),I.qZA()}if(2&e){var i=t.$implicit,o=t.columns,a=I.oxw(2);I.Q6J("pSelectableRow",!0!==a.isFooter(i)?i:null)("pEditableRow",i),I.xp6(1),I.Q6J("ngIf",a.canSelectElement),I.xp6(1),I.Q6J("ngForOf",o)}}function Jt(e,t){if(1&e&&(I.TgZ(0,"tr"),I.TgZ(1,"td",48),I._uU(2),I.ALo(3,"translate"),I.qZA(),I.qZA()),2&e){var n=t.$implicit;I.xp6(1),I.uIk("colspan",n.length+1),I.xp6(1),I.hij(" ",I.lcZ(3,2,"bia.NoRecordsFound")," ")}}function Qt(e,t){if(1&e){var n=I.EpF();I.TgZ(0,"p-table",2,3),I.NdJ("onFilter",function(){return I.CHM(n),I.oxw().onFilter()})("onLazyLoad",function(e){return I.CHM(n),I.oxw().onLoadLazy(e)})("onStateSave",function(e){return I.CHM(n),I.oxw().onStateSave(e)})("selectionChange",function(){return I.CHM(n),I.oxw().onSelectionChange()}),I.ALo(2,"async"),I.YNc(3,Be,4,3,"ng-template",4),I.YNc(4,kt,3,4,"ng-template",5),I.YNc(5,Jt,4,4,"ng-template",6),I.qZA()}if(2&e){var i=I.oxw();I.Q6J("autoLayout",!0)("reorderableColumns",!0)("columns",i.displayedColumns)("value",i.elements)("paginator",i.paginator)("rows",i.pageSize)("totalRecords",i.totalRecord)("lazy",!0)("loading",i.loading&&null!==I.lcZ(2,14,i.showLoading$))("stateStorage","session")("stateKey",i.tableStateKey)("lazyLoadOnInit",i.getLazyLoadOnInit())("sortField",i.sortFieldValue)("sortOrder",i.sortOrderValue)}}var It=function(){var e=function(e){c(i,e);var t=u(i);function i(e,n,o,a){var r;return l(this,i),(r=t.call(this,e,n,o,a)).formBuilder=e,r.authService=n,r.biaMessageService=o,r.translateService=a,r}return n(i,[{key:"initForm",value:function(){var e;this.form=this.formBuilder.group({id:[this.element.id],msn:[this.element.msn,Ce.kI.required],isActive:[this.element.isActive],lastFlightDate:[this.element.lastFlightDate],deliveryDate:[this.element.deliveryDate],syncTime:[this.element.syncTime],capacity:[this.element.capacity,Ce.kI.required],connectingAirports:[this.element.connectingAirports],planeType:[null===(e=this.element.planeType)||void 0===e?void 0:e.id]})}},{key:"onSubmit",value:function(){var e;if(this.form.valid){var t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=Se.P.Differential(t.connectingAirports,null===(e=this.element)||void 0===e?void 0:e.connectingAirports),t.planeType=Se.P.Clone(t.planeType),t.siteId=this.authService.getCurrentTeamId(C.k0.Site),this.save.emit(t),this.form.reset()}}}]),i}(xe.l);return e.\u0275fac=function(t){return new(t||e)(I.Y36(Ce.qu),I.Y36(X.e),I.Y36(U.X),I.Y36(ye.sK))},e.\u0275cmp=I.Xpm({type:e,selectors:[["app-plane-table"]],features:[I.qOj],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","p-float-label",4,"ngIf"],[1,"p-float-label"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","showSeconds","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur","onClose"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur","onClose"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","pi pi-check",4,"ngIf"],[1,"pi","pi-check"],[1,"app-empty-message"]],template:function(e,t){1&e&&(I.TgZ(0,"form",0),I.YNc(1,Qt,6,16,"p-table",1),I.qZA()),2&e&&(I.Q6J("formGroup",t.form),I.xp6(1),I.Q6J("ngIf",t.configuration))},directives:[Ce._Y,Ce.JL,Ce.sg,we.O5,Te.iA,Ze.jx,we.sg,Te.Mo,Te.lQ,Te.fz,we.RF,Ae.o,we.mk,Oe.oO,Te.Ei,Te.D$,Te.UA,Te.YL,we.ED,Ce.Fj,Ce.JJ,Ce.u,we.n9,Me.Lt,Le.NU,Ne.XZ,Ce.wV,ke.f,Je.D,Ce.nD],pipes:[we.Ov,ye.X$,Qe.c],styles:["[_nghost-%COMP%]{flex-direction:column}[_nghost-%COMP%]     p-table .searchTR .p-float-label .p-inputtext{padding-top:2px!important}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center!important}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),e}();function $t(e,t){if(1&e){var n=I.EpF();I.TgZ(0,"bia-table",6),I.NdJ("clickRow",function(e){return I.CHM(n),I.oxw().onEdit(e)})("loadLazy",function(e){return I.CHM(n),I.oxw().onLoadLazy(e)})("selectedElementsChanged",function(e){return I.CHM(n),I.oxw().onSelectedElementsChanged(e)}),I.ALo(1,"async"),I.ALo(2,"async"),I.ALo(3,"async"),I.qZA()}if(2&e){var i=I.oxw();I.Q6J("elements",I.lcZ(1,12,i.planes$))("totalRecord",I.lcZ(2,14,i.totalCount$))("columnToDisplays",i.displayedColumns)("pageSize",i.pageSize)("configuration",i.tableConfiguration)("showColSearch",i.showColSearch)("globalSearchValue",i.globalSearchValue)("canClickRow",i.canEdit)("canSelectElement",i.canDelete)("loading",I.lcZ(3,16,i.loading$))("viewPreference",i.viewPreference)("tableStateKey",i.tableStateKey)}}function Dt(e,t){if(1&e){var n=I.EpF();I.TgZ(0,"app-plane-table",7),I.NdJ("loadLazy",function(e){return I.CHM(n),I.oxw().onLoadLazy(e)})("selectedElementsChanged",function(e){return I.CHM(n),I.oxw().onSelectedElementsChanged(e)})("save",function(e){return I.CHM(n),I.oxw().onSave(e)}),I.ALo(1,"async"),I.ALo(2,"async"),I.ALo(3,"async"),I.ALo(4,"async"),I.qZA()}if(2&e){var i=I.oxw();I.Q6J("elements",I.lcZ(1,14,i.planes$))("dictOptionDtos",I.lcZ(2,16,i.planeOptionsService.dictOptionDtos$))("totalRecord",I.lcZ(3,18,i.totalCount$))("columnToDisplays",i.displayedColumns)("pageSize",i.pageSize)("configuration",i.tableConfiguration)("showColSearch",i.showColSearch)("globalSearchValue",i.globalSearchValue)("canEdit",i.canEdit)("canAdd",i.canAdd)("canSelectElement",i.canDelete)("loading",I.lcZ(4,20,i.loading$))("viewPreference",i.viewPreference)("tableStateKey",i.tableStateKey)}}var Pt=function(){var t=function(){function t(e,n,i,o,a,r,c,s,u){l(this,t),this.store=e,this.router=n,this.activatedRoute=i,this.authService=o,this.planeDas=a,this.translateService=r,this.biaTranslationService=c,this.planesSignalRService=s,this.planeOptionsService=u,this.useCalcMode=!1,this.useSignalR=!1,this.useView=!0,this.useRefreshAtLanguageChange=!1,this.flex=!0,this.sub=new K.w,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=C.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.tableStateKey=this.useView?"planesGrid":void 0,this.useViewTeamWithTypeId=this.useView?x:null}return n(t,[{key:"planeListComponent",get:function(){return void 0!==this.biaTableComponent?this.biaTableComponent:this.planeTableComponent}},{key:"ngOnInit",value:function(){var e=this;this.parentIds=[],this.sub=new K.w,this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(j),this.totalCount$=this.store.select(_),this.loading$=this.store.select(z),this.OnDisplay(),this.useCalcMode&&this.sub.add(this.biaTranslationService.currentCulture$.subscribe(function(t){e.planeOptionsService.loadAllOptions()})),this.useRefreshAtLanguageChange&&this.sub.add(this.biaTranslationService.currentCulture$.pipe((0,ge.T)(1)).subscribe(function(t){e.onLoadLazy(e.planeListComponent.getLazyLoadMetadata())}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe(),this.OnHide()}},{key:"OnDisplay",value:function(){this.useView&&this.store.dispatch((0,re.Tx)()),this.useSignalR&&this.planesSignalRService.initialize()}},{key:"OnHide",value:function(){this.useSignalR&&this.planesSignalRService.destroy()}},{key:"onCreate",value:function(){this.useCalcMode||this.router.navigate(["../create"],{relativeTo:this.activatedRoute})}},{key:"onEdit",value:function(e){this.useCalcMode||this.router.navigate(["../"+e+"/edit"],{relativeTo:this.activatedRoute})}},{key:"onSave",value:function(e){this.useCalcMode&&((null==e?void 0:e.id)>0?this.canEdit&&this.store.dispatch(O({plane:e})):this.canAdd&&this.store.dispatch(A({plane:e})))}},{key:"onDelete",value:function(){this.selectedPlanes&&this.canDelete&&this.store.dispatch(L({ids:this.selectedPlanes.map(function(e){return e.id})}))}},{key:"onSelectedElementsChanged",value:function(e){this.selectedPlanes=e}},{key:"onPageSizeChange",value:function(e){this.pageSize=e}},{key:"onLoadLazy",value:function(e){var t=Object.assign({parentIds:this.parentIds},e);this.store.dispatch(T({event:t}))}},{key:"searchGlobalChanged",value:function(e){this.globalSearchValue=e}},{key:"displayedColumnsChanged",value:function(e){this.displayedColumns=e}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(e){this.viewPreference=e}},{key:"onExportCSV",value:function(){var e=this,t={};this.columns.map(function(n){return t[n.value.split(".")[1]]=e.translateService.instant(n.value)});var n=Object.assign({parentIds:this.parentIds,columns:t},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(n).subscribe(function(t){ee.saveAs(t,e.translateService.instant("app.planes")+".csv")})}},{key:"setPermissions",value:function(){this.canEdit=this.authService.hasPermission(ne.y.Plane_Update),this.canDelete=this.authService.hasPermission(ne.y.Plane_Delete),this.canAdd=this.authService.hasPermission(ne.y.Plane_Create)}},{key:"initTableConfiguration",value:function(){var t=this;this.biaTranslationService.currentCultureDateFormat$.subscribe(function(n){t.tableConfiguration={columns:[new W.ML("msn","plane.msn"),Object.assign(new W.ML("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:W.d5.Boolean}),Object.assign(new W.ML("lastFlightDate","plane.lastFlightDate"),{type:W.d5.DateTime,formatDate:n.dateTimeFormat}),Object.assign(new W.ML("deliveryDate","plane.deliveryDate"),{type:W.d5.Date,formatDate:n.dateFormat}),Object.assign(new W.ML("syncTime","plane.syncTime"),{type:W.d5.TimeSecOnly,formatDate:n.timeFormatSec}),Object.assign(new W.ML("capacity","plane.capacity"),{type:W.d5.Number,filterMode:W.ZF.Equals}),Object.assign(new W.ML("planeType","plane.planeType"),{type:W.d5.OneToMany}),Object.assign(new W.ML("connectingAirports","plane.connectingAirports"),{type:W.d5.ManyToMany})]},t.columns=t.tableConfiguration.columns.map(function(e){return{key:e.field,value:e.header}}),t.displayedColumns=e(t.columns)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Y36(d.yh),I.Y36(p.F0),I.Y36(p.gz),I.Y36(X.e),I.Y36($),I.Y36(ye.sK),I.Y36(te.P6),I.Y36(ae),I.Y36(fe))},t.\u0275cmp=I.Xpm({type:t,selectors:[["app-planes-index"]],viewQuery:function(e,t){var n;(1&e&&(I.Gf(V.$,5),I.Gf(he.t,5)),2&e)&&(I.iGM(n=I.CRH())&&(t.biaTableComponent=n.first),I.iGM(n=I.CRH())&&(t.planeTableComponent=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&I.ekj("bia-flex",t.flex)},decls:8,vars:17,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","useViewTeamWithTypeId","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","clickRow","loadLazy","selectedElementsChanged",4,"ngIf"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save",4,"ngIf"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","clickRow","loadLazy","selectedElementsChanged"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save"]],template:function(e,t){1&e&&(I.TgZ(0,"div",0),I.TgZ(1,"div",1),I.TgZ(2,"bia-table-header",2),I.NdJ("create",function(){return t.onCreate()})("exportCSV",function(){return t.onExportCSV()})("delete",function(){return t.onDelete()}),I.ALo(3,"translate"),I.qZA(),I.TgZ(4,"bia-table-controller",3),I.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),I.ALo(5,"async"),I.qZA(),I.YNc(6,$t,4,18,"bia-table",4),I.YNc(7,Dt,5,22,"app-plane-table",5),I.qZA(),I.qZA()),2&e&&(I.xp6(2),I.Q6J("headerTitle",I.lcZ(3,13,"plane.listOf"))("canAdd",t.canAdd&&!t.useCalcMode)("canDelete",t.canDelete)("canExportCSV",!0)("selectedElements",t.selectedPlanes),I.xp6(2),I.Q6J("defaultPageSize",t.defaultPageSize)("length",I.lcZ(5,15,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns)("tableStateKey",t.tableStateKey)("useViewTeamWithTypeId",t.useViewTeamWithTypeId),I.xp6(2),I.Q6J("ngIf",!t.useCalcMode),I.xp6(1),I.Q6J("ngIf",t.useCalcMode))},directives:[me.xw,me.yH,ve.l,be.B,we.O5,V.$,It],pipes:[ye.X$,we.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),t}(),Yt=a(61028),qt=a(4207),Ft=function(){return{width:"100%"}},Et=function(){return{width:"100%"}},_t=function(){var e=function(){function e(t,n){l(this,e),this.formBuilder=t,this.authService=n,this.plane={},this.save=new I.vpe,this.cancel=new I.vpe,this.initForm()}return n(e,[{key:"ngOnChanges",value:function(e){this.plane&&(this.form.reset(),this.plane&&this.form.patchValue(Object.assign({},this.plane)))}},{key:"initForm",value:function(){var e;this.form=this.formBuilder.group({id:[this.plane.id],msn:[this.plane.msn,Ce.kI.required],isActive:[this.plane.isActive],lastFlightDate:[this.plane.lastFlightDate],deliveryDate:[this.plane.deliveryDate],syncTime:[this.plane.syncTime],capacity:[this.plane.capacity,Ce.kI.required],connectingAirports:[this.plane.connectingAirports],planeType:[null===(e=this.plane.planeType)||void 0===e?void 0:e.id]})}},{key:"onCancel",value:function(){this.form.reset(),this.cancel.next()}},{key:"onSubmit",value:function(){var e;if(this.form.valid){var t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=Se.P.Differential(t.connectingAirports,null===(e=this.plane)||void 0===e?void 0:e.connectingAirports),t.planeType=Se.P.Clone(t.planeType),t.siteId=this.authService.getCurrentTeamId(C.k0.Site),this.save.emit(t),this.form.reset()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(I.Y36(Ce.qu),I.Y36(X.e))},e.\u0275cmp=I.Xpm({type:e,selectors:[["app-plane-form"]],inputs:{plane:"plane",airportOptions:"airportOptions",planeTypeOptions:"planeTypeOptions"},outputs:{save:"save",cancel:"cancel"},features:[I.TTD],decls:63,vars:50,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"p-float-label"],["formControlName","msn","type","text","pInputText","","maxlength","64",2,"width","100%"],[1,"bia-star-mandatory"],["binary","true","formControlName","isActive",3,"label"],["biaLocale","","formControlName","lastFlightDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0","appendTo","body",3,"inputStyle"],["biaLocale","","formControlName","deliveryDate","placeholder","\xa0","appendTo","body","dateFormat","yy-mm-dd",3,"showButtonBar","inputStyle"],["formControlName","syncTime","showTime","true","showSeconds","true","placeholder","\xa0","dataType","string",3,"timeOnly","inputStyle"],["formControlName","capacity","type","number","pInputText","",2,"width","100%"],["placeholder","\xa0","formControlName","planeType","optionLabel","display","datakey","id",3,"options","showClear"],["defaultLabel","\xa0","formControlName","connectingAirports","optionLabel","display","datakey","id",3,"options","virtualScroll"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-outlined",3,"label","click"]],template:function(e,t){1&e&&(I.TgZ(0,"form",0),I.NdJ("submit",function(){return t.onSubmit()}),I.TgZ(1,"div",1),I.TgZ(2,"div",2),I.TgZ(3,"span",3),I._UZ(4,"input",4),I.TgZ(5,"label"),I.TgZ(6,"span",5),I._uU(7,"*"),I.qZA(),I._uU(8),I.ALo(9,"translate"),I.qZA(),I.qZA(),I.qZA(),I.qZA(),I.TgZ(10,"div",1),I.TgZ(11,"div",2),I._UZ(12,"p-checkbox",6),I.ALo(13,"translate"),I.qZA(),I.qZA(),I.TgZ(14,"div",1),I.TgZ(15,"div",2),I.TgZ(16,"span",3),I._UZ(17,"p-calendar",7),I.TgZ(18,"label"),I._uU(19),I.ALo(20,"translate"),I.qZA(),I.qZA(),I.qZA(),I.qZA(),I.TgZ(21,"div",1),I.TgZ(22,"div",2),I.TgZ(23,"span",3),I._UZ(24,"p-calendar",8),I.TgZ(25,"label"),I._uU(26),I.ALo(27,"translate"),I.qZA(),I.qZA(),I.qZA(),I.qZA(),I.TgZ(28,"div",1),I.TgZ(29,"div",2),I.TgZ(30,"span",3),I._UZ(31,"p-calendar",9),I.TgZ(32,"label"),I._uU(33),I.ALo(34,"translate"),I.qZA(),I.qZA(),I.qZA(),I.qZA(),I.TgZ(35,"div",1),I.TgZ(36,"div",2),I.TgZ(37,"span",3),I._UZ(38,"input",10),I.TgZ(39,"label"),I.TgZ(40,"span",5),I._uU(41,"*"),I.qZA(),I._uU(42),I.ALo(43,"translate"),I.qZA(),I.qZA(),I.qZA(),I.qZA(),I.TgZ(44,"div",1),I.TgZ(45,"div",2),I.TgZ(46,"span",3),I._UZ(47,"p-dropdown",11),I.TgZ(48,"label"),I._uU(49),I.ALo(50,"translate"),I.qZA(),I.qZA(),I.qZA(),I.qZA(),I.TgZ(51,"div",1),I.TgZ(52,"div",2),I.TgZ(53,"span",3),I._UZ(54,"p-multiSelect",12),I.TgZ(55,"label"),I._uU(56),I.ALo(57,"translate"),I.qZA(),I.qZA(),I.qZA(),I.qZA(),I.TgZ(58,"div",13),I._UZ(59,"button",14),I.ALo(60,"translate"),I.TgZ(61,"button",15),I.NdJ("click",function(){return t.onCancel()}),I.ALo(62,"translate"),I.qZA(),I.qZA(),I.qZA()),2&e&&(I.Q6J("formGroup",t.form),I.xp6(8),I.Oqu(I.lcZ(9,25,"plane.msn")),I.xp6(4),I.s9C("label",I.lcZ(13,27,"plane.isActive")),I.xp6(5),I.Q6J("inputStyle",I.DdM(45,Ft)),I.xp6(2),I.Oqu(I.lcZ(20,29,"plane.lastFlightDate")),I.xp6(5),I.Q6J("showButtonBar",!0)("inputStyle",I.DdM(46,Ft)),I.xp6(2),I.Oqu(I.lcZ(27,31,"plane.deliveryDate")),I.xp6(5),I.Q6J("timeOnly",!0)("inputStyle",I.DdM(47,Ft)),I.xp6(2),I.Oqu(I.lcZ(34,33,"plane.syncTime")),I.xp6(9),I.Oqu(I.lcZ(43,35,"plane.capacity")),I.xp6(5),I.Akn(I.DdM(48,Et)),I.Q6J("options",t.planeTypeOptions)("showClear",!0),I.xp6(2),I.Oqu(I.lcZ(50,37,"plane.planeType")),I.xp6(5),I.Akn(I.DdM(49,Et)),I.Q6J("options",t.airportOptions)("virtualScroll",!0),I.xp6(2),I.Oqu(I.lcZ(57,39,"plane.connectingAirports")),I.xp6(3),I.s9C("label",I.lcZ(60,41,"bia.save")),I.Q6J("disabled",!t.form.valid),I.xp6(2),I.s9C("label",I.lcZ(62,43,"bia.cancel")))},directives:[Ce._Y,Ce.JL,me.xw,Ce.sg,me.Wh,me.yH,Ce.Fj,Ce.JJ,Ce.u,Ae.o,Ce.nD,Ne.XZ,ke.f,Je.D,Ce.wV,Me.Lt,Le.NU,me.SQ,qt.Hq],pipes:[ye.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}"]}),e}(),Bt=function(){var e=function(){function e(t,n,i,o,a){l(this,e),this.store=t,this.router=n,this.activatedRoute=i,this.planeOptionsService=o,this.biaTranslationService=a,this.sub=new K.w}return n(e,[{key:"ngOnInit",value:function(){var e=this;this.sub.add(this.biaTranslationService.currentCulture$.subscribe(function(t){e.planeOptionsService.loadAllOptions()}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(A({plane:e})),this.router.navigate(["../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(I.Y36(d.yh),I.Y36(p.F0),I.Y36(p.gz),I.Y36(fe),I.Y36(te.P6))},e.\u0275cmp=I.Xpm({type:e,selectors:[["app-plane-new"]],decls:3,vars:6,consts:[[3,"airportOptions","planeTypeOptions","cancel","save"]],template:function(e,t){1&e&&(I.TgZ(0,"app-plane-form",0),I.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),I.ALo(1,"async"),I.ALo(2,"async"),I.qZA()),2&e&&I.Q6J("airportOptions",I.lcZ(1,2,t.planeOptionsService.airportOptions$))("planeTypeOptions",I.lcZ(2,4,t.planeOptionsService.planeTypeOptions$))},directives:[_t],pipes:[we.Ov],styles:[""]}),e}(),Ht=function(){var e=function(){function e(t){l(this,e),this.store=t,this.sub=new K.w,this.InitSub(),this.loading$=this.store.select(R),this.plane$=this.store.select(B)}return n(e,[{key:"currentPlane",get:function(){var e;return(null===(e=this._currentPlane)||void 0===e?void 0:e.id)===this._currentPlaneId?this._currentPlane:null}},{key:"currentPlaneId",get:function(){return this._currentPlaneId},set:function(e){this._currentPlaneId=Number(e),this.store.dispatch(Z({id:e}))}},{key:"InitSub",value:function(){var e=this;this.sub=new K.w,this.sub.add(this.store.select(B).subscribe(function(t){t&&(e._currentPlane=t)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(I.LFG(d.yh))},e.\u0275prov=I.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Rt=a(79373);function zt(e,t){1&e&&I._UZ(0,"bia-spinner",2),2&e&&I.Q6J("overlay",!0)}var jt=function(){var e=function(){function e(t,n,i,o,a,r){l(this,e),this.store=t,this.router=n,this.activatedRoute=i,this.planeOptionsService=o,this.planeService=a,this.biaTranslationService=r,this.displayChange=new I.vpe,this.sub=new K.w}return n(e,[{key:"ngOnInit",value:function(){var e=this;this.sub.add(this.biaTranslationService.currentCulture$.subscribe(function(t){e.planeOptionsService.loadAllOptions()}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(O({plane:e})),this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(I.Y36(d.yh),I.Y36(p.F0),I.Y36(p.gz),I.Y36(fe),I.Y36(Ht),I.Y36(te.P6))},e.\u0275cmp=I.Xpm({type:e,selectors:[["app-plane-edit"]],outputs:{displayChange:"displayChange"},decls:6,vars:12,consts:[[3,"plane","airportOptions","planeTypeOptions","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(I.TgZ(0,"app-plane-form",0),I.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),I.ALo(1,"async"),I.ALo(2,"async"),I.ALo(3,"async"),I.qZA(),I.YNc(4,zt,1,1,"bia-spinner",1),I.ALo(5,"async")),2&e&&(I.Q6J("plane",I.lcZ(1,4,t.planeService.plane$))("airportOptions",I.lcZ(2,6,t.planeOptionsService.airportOptions$))("planeTypeOptions",I.lcZ(3,8,t.planeOptionsService.planeTypeOptions$)),I.xp6(4),I.Q6J("ngIf",I.lcZ(5,10,t.planeService.loading$)))},directives:[_t,we.O5,Rt.O],pipes:[we.Ov],styles:[""]}),e}(),Ut=a(16249),Gt=a(30466);function Kt(e,t){1&e&&I._UZ(0,"bia-spinner",1),2&e&&I.Q6J("overlay",!0)}var Vt=function(){var e=function(){function e(t,n,i,o,a){l(this,e),this.store=t,this.route=n,this.planeService=i,this.layoutService=o,this.biaTranslationService=a,this.sub=new K.w}return n(e,[{key:"ngOnInit",value:function(){var e=this;this.sub.add(this.biaTranslationService.currentCulture$.subscribe(function(t){e.planeService.currentPlaneId=e.route.snapshot.params.planeId})),this.sub.add(this.store.select(B).subscribe(function(t){(null==t?void 0:t.msn)&&(e.route.data.pipe((0,ie.P)()).subscribe(function(e){e.breadcrumb=t.msn}),e.layoutService.refreshBreadcrumb())}))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(I.Y36(d.yh),I.Y36(p.gz),I.Y36(Ht),I.Y36(Gt.N),I.Y36(te.P6))},e.\u0275cmp=I.Xpm({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(I._UZ(0,"router-outlet"),I.YNc(1,Kt,1,1,"bia-spinner",0),I.ALo(2,"async")),2&e&&(I.xp6(1),I.Q6J("ngIf",I.lcZ(2,1,t.planeService.loading$)))},directives:[p.lC,we.O5,Rt.O],pipes:[we.Ov],styles:[""]}),e}(),Wt=a(98832),Xt=a(53460),en=a(63364),tn=a(23291),nn=[{path:"",data:{breadcrumb:null,permission:ne.y.Plane_List_Access,InjectComponent:Pt},component:Xt.e,canActivate:[Ut.n],children:[{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:ne.y.Plane_Create,title:"plane.add",InjectComponent:Bt},component:Wt._,canActivate:[Ut.n]},{path:":planeId",data:{breadcrumb:"",canNavigate:!0},component:Vt,canActivate:[Ut.n],children:[{path:"edit",data:{breadcrumb:"bia.edit",canNavigate:!0,permission:ne.y.Plane_Update,title:"plane.edit",InjectComponent:jt},component:Wt._,canActivate:[Ut.n]},{path:"",redirectTo:"edit"}]}]},{path:"**",redirectTo:""}],on=function(){var e=function e(){l(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=I.oAB({type:e}),e.\u0275inj=I.cJS({imports:[[Yt.m,p.Bz.forChild(nn),d.Aw.forFeature(S,q),f.sQ.forFeature([G]),en.i,tn.O]]}),e}()}}])}();