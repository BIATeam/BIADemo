!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,o,a=[],r=!0,l=!1;try{for(t=t.call(e);!(r=(i=t.next()).done)&&(a.push(i.value),!n||a.length!==n);r=!0);}catch(c){l=!0,o=c}finally{try{r||null==t.return||t.return()}finally{if(l)throw o}}return a}(e,n)||o(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function l(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&u(e,n)}function u(e,n){return(u=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function s(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var t,i=f(e);if(n){var o=f(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return p(this,t)}}function p(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[681],{86681:function(n,o,a){a.r(o),a.d(o,{PlaneModule:function(){return Jn}});var u,p=a(2694),f=a(86710),d=a(91601),h=a(25917),g=a(92996),m=a(43190),y=a(88002),w=a(5304),x=a(94612),v=a(57057),C=(0,f.PH)("[Planes] Load all by post (CalcMode)",(0,f.Ky)()),b=(0,f.PH)("[Planes] Load (CalcMode)",(0,f.Ky)()),S=(0,f.PH)("[Planes] Create (CalcMode)",(0,f.Ky)()),M=(0,f.PH)("[Planes] Update (CalcMode)",(0,f.Ky)()),A=(0,f.PH)("[Planes] Remove (CalcMode)",(0,f.Ky)()),T=(0,f.PH)("[Planes] Multi Remove (CalcMode)",(0,f.Ky)()),N=(0,f.PH)("[Planes] Load all by post success (CalcMode)",(0,f.Ky)()),Q=(0,f.PH)("[Planes] Load success (CalcMode)",(0,f.Ky)()),Z=(0,f.PH)("[Planes] Failure (CalcMode)",(0,f.Ky)()),J=a(74147),L=a(37716),P=((u=function(e){c(t,e);var n=s(t);function t(e){return l(this,t),n.call(this,e,"Planes")}return t}(J.Z)).\u0275fac=function(e){return new(e||u)(L.LFG(L.zs3))},u.\u0275prov=L.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u),O=(0,a(80273).H)({selectId:function(e){return e.id},sortComparer:!1}),$=O.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),k=(0,f.Lq)($,(0,f.on)(C,function(e,n){return r(n),Object.assign(Object.assign({},e),{loadingGetAll:!0})}),(0,f.on)(b,function(e){return Object.assign(Object.assign({},e),{loadingGet:!0})}),(0,f.on)(N,function(e,n){var t=n.result,i=n.event,o=O.setAll(t.data,e);return o.currentPlane={},o.totalCount=t.totalCount,o.lastLazyLoadEvent=i,o.loadingGetAll=!1,o}),(0,f.on)(Q,function(e,n){var t=n.plane;return Object.assign(Object.assign({},e),{currentPlane:t,loadingGet:!1})}),(0,f.on)(Z,function(e,n){return r(n),Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})}));function F(e,n){return(0,f.UY)({planes:k})(e,n)}var D=(0,f.ZF)("planes-mode-calc"),E=(0,f.P1)(D,function(e){return e.planes}),I=(0,f.P1)(E,function(e){return e.totalCount}),Y=((0,f.P1)(E,function(e){return e.currentPlane}),(0,f.P1)(E,function(e){return e.lastLazyLoadEvent})),B=((0,f.P1)(E,function(e){return e.loadingGet}),(0,f.P1)(E,function(e){return e.loadingGetAll})),j=O.getSelectors(E).selectAll,H=a(42),q=function(){var e=function e(n,t,o,a){var r=this;l(this,e),this.actions$=n,this.planeDas=t,this.biaMessageService=o,this.store=a,this.loadAllByPost$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(C),(0,g.j)("event"),(0,m.w)(function(e){return r.planeDas.getListByPost(e).pipe((0,y.U)(function(n){return N({result:n,event:e})}),(0,w.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(Z({error:e}))}))}))}),this.load$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(b),(0,g.j)("id"),(0,m.w)(function(e){return r.planeDas.get(e).pipe((0,y.U)(function(e){return Q({plane:e})}),(0,w.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(Z({error:e}))}))}))}),this.create$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(S),(0,g.j)("plane"),(0,x.b)(function(e){return(0,h.of)(e).pipe((0,v.M)(r.store.select(Y)))}),(0,m.w)(function(e){var n=i(e,2),t=n[0],o=n[1];return r.planeDas.post(t).pipe((0,y.U)(function(){return r.biaMessageService.showAddSuccess(),C({event:o})}),(0,w.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(Z({error:e}))}))}))}),this.update$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(M),(0,g.j)("plane"),(0,x.b)(function(e){return(0,h.of)(e).pipe((0,v.M)(r.store.select(Y)))}),(0,m.w)(function(e){var n=i(e,2),t=n[0],o=n[1];return r.planeDas.put(t,t.id).pipe((0,y.U)(function(){return r.biaMessageService.showUpdateSuccess(),C({event:o})}),(0,w.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(Z({error:e}))}))}))}),this.destroy$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(A),(0,g.j)("id"),(0,x.b)(function(e){return(0,h.of)(e).pipe((0,v.M)(r.store.select(Y)))}),(0,m.w)(function(e){var n=i(e,2),t=n[0],o=n[1];return r.planeDas.delete(t).pipe((0,y.U)(function(){return r.biaMessageService.showDeleteSuccess(),C({event:o})}),(0,w.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(Z({error:e}))}))}))}),this.multiDestroy$=(0,d.GW)(function(){return r.actions$.pipe((0,d.l4)(T),(0,g.j)("ids"),(0,x.b)(function(e){return(0,h.of)(e).pipe((0,v.M)(r.store.select(Y)))}),(0,m.w)(function(e){var n=i(e,2),t=n[0],o=n[1];return r.planeDas.deletes(t).pipe((0,y.U)(function(){return r.biaMessageService.showDeleteSuccess(),C({event:o})}),(0,w.K)(function(e){return r.biaMessageService.showError(),(0,h.of)(Z({error:e}))}))}))})};return e.\u0275fac=function(n){return new(n||e)(L.LFG(d.eX),L.LFG(P),L.LFG(H.X),L.LFG(f.yh))},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac}),e}(),_=a(9112),z=a(88385),U=a(79090),G=a(40136),R=a(8340),K=a(49457),V=a(38042),W=a(29206),X=a(94529),ee=a(76668),ne=a(84845),te=a(59931),ie=a(37597),oe=a(81780),ae=a(35618),re=a(81606),le=a(76743),ce=a(3679),ue=a(11466),se=a(86320),pe=a(38583),fe=a(70667),de=a(33013),he=a(13928),ge=a(88030),me=a(50103),ye=a(36949),we=a(12332),xe=a(88598),ve=a(45862),Ce=a(49067);function be(e,n){1&e&&(L.TgZ(0,"th",10),L._UZ(1,"p-tableHeaderCheckbox"),L.qZA())}function Se(e,n){if(1&e&&(L.TgZ(0,"th",12),L._uU(1),L.ALo(2,"translate"),L._UZ(3,"p-sortIcon",13),L.qZA()),2&e){var t=L.oxw().$implicit;L.Q6J("pSortableColumn",t.field),L.xp6(1),L.hij(" ",L.lcZ(2,3,null==t?null:t.header)," "),L.xp6(2),L.Q6J("field",t.field)}}function Me(e,n){if(1&e&&(L.TgZ(0,"th"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e){var t=L.oxw().$implicit;L.xp6(1),L.hij(" ",L.lcZ(2,1,null==t?null:t.header)," ")}}function Ae(e,n){if(1&e&&(L.ynx(0),L.YNc(1,Se,4,5,"th",11),L.YNc(2,Me,3,3,"th",9),L.BQk()),2&e){var t=n.$implicit;L.xp6(1),L.Q6J("ngIf",!0===(null==t?null:t.isSortable)),L.xp6(1),L.Q6J("ngIf",!0!==(null==t?null:t.isSortable))}}function Te(e,n){1&e&&L._UZ(0,"th")}var Ne=function(e){return{"p-state-filled":e}};function Qe(e,n){if(1&e){var t=L.EpF();L.TgZ(0,"span",17),L.TgZ(1,"input",18),L.NdJ("input",function(e){L.CHM(t);var n=L.oxw().$implicit;return L.oxw(3),L.MAs(1).filter(e.target.value,n.field,n.filterMode)}),L.ALo(2,"translate"),L.qZA(),L.qZA()}if(2&e){var i=L.oxw().$implicit;L.oxw(3);var o=L.MAs(1);L.xp6(1),L.s9C("type","Number"===i.type?"number":"text"),L.s9C("placeholder",void 0!==i.searchPlaceholder?i.searchPlaceholder:!0===i.isDate?L.lcZ(2,4,"bia.dateIso8601"):""),L.Q6J("value",null==o.filters[i.field]?null:o.filters[i.field].value)("ngClass",L.VKq(6,Ne,""!==(null==o.filters[i.field]?null:o.filters[i.field].value)))}}function Ze(e,n){if(1&e&&(L.TgZ(0,"th",15),L.YNc(1,Qe,3,8,"span",16),L.qZA()),2&e){var t=n.$implicit;L.Q6J("ngSwitch",t.field),L.xp6(1),L.Q6J("ngIf",!0===t.isSearchable)}}function Je(e,n){if(1&e&&(L.TgZ(0,"tr"),L.YNc(1,Te,1,0,"th",9),L.YNc(2,Ze,2,2,"th",14),L.qZA()),2&e){var t=L.oxw().$implicit,i=L.oxw(2);L.xp6(1),L.Q6J("ngIf",i.canSelectElement),L.xp6(1),L.Q6J("ngForOf",t)}}function Le(e,n){if(1&e&&(L.TgZ(0,"tr"),L.YNc(1,be,2,0,"th",7),L.YNc(2,Ae,3,2,"ng-container",8),L.qZA(),L.YNc(3,Je,3,2,"tr",9)),2&e){var t=n.$implicit,i=L.oxw(2);L.xp6(1),L.Q6J("ngIf",i.canSelectElement),L.xp6(1),L.Q6J("ngForOf",t),L.xp6(1),L.Q6J("ngIf",i.showColSearch)}}function Pe(e,n){if(1&e&&L._UZ(0,"p-tableCheckbox",23),2&e){var t=L.oxw(2).$implicit;L.Q6J("value",t)}}function Oe(e,n){1&e&&L._UZ(0,"i",24)}function $e(e,n){if(1&e&&(L.TgZ(0,"td"),L.YNc(1,Pe,1,1,"p-tableCheckbox",21),L.YNc(2,Oe,1,0,"i",22),L.qZA()),2&e){var t=L.oxw().$implicit,i=L.oxw(2);L.xp6(1),L.Q6J("ngIf",!0!==i.isFooter(t)&&t.id>0),L.xp6(1),L.Q6J("ngIf",!0===i.isFooter(t))}}function ke(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"input",29),L.NdJ("change",function(){return L.CHM(t),L.oxw(6).onChange()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(3).$implicit;L.xp6(1),L.Q6J("formControlName",i.field)}}function Fe(e,n){1&e&&(L.TgZ(0,"span",30),L._uU(1,"*"),L.qZA())}function De(e,n){if(1&e&&(L.ynx(0,15),L.YNc(1,ke,2,1,"ng-container",27),L.BQk(),L.YNc(2,Fe,2,0,"span",28)),2&e){var t=L.oxw(2).$implicit,i=L.oxw(3);L.Q6J("ngSwitch",t.field),L.xp6(2),L.Q6J("ngIf",!0===i.isRequired(t.field))}}function Ee(e,n){1&e&&L.YNc(0,De,3,2,"ng-template",26)}function Ie(e,n){if(1&e&&(L.ynx(0),L._uU(1),L.BQk()),2&e){var t=L.oxw(3).$implicit,i=L.oxw().$implicit;L.xp6(1),L.hij(" ",i[t.field]," ")}}function Ye(e,n){if(1&e&&(L.ynx(0,15),L.YNc(1,Ie,2,1,"ng-container",27),L.BQk()),2&e){var t=L.oxw(2).$implicit;L.Q6J("ngSwitch",t.field)}}function Be(e,n){1&e&&L.YNc(0,Ye,2,1,"ng-template",31)}var je=function(){return{width:"100%"}};function He(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"p-dropdown",35),L.NdJ("onChange",function(){return L.CHM(t),L.oxw(7).onChange()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(4).$implicit,o=L.oxw(3);L.xp6(1),L.Akn(L.DdM(4,je)),L.Q6J("formControlName",i.field)("options",o.getOptionDto(i.field))}}function qe(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"p-multiSelect",36),L.NdJ("onChange",function(){return L.CHM(t),L.oxw(7).onChange()})("onPanelShow",function(){return L.CHM(t),L.oxw(7).onPanelShowMultiSelect()})("onPanelHide",function(){return L.CHM(t),L.oxw(7).onPanelHideMultiSelect()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(4).$implicit,o=L.oxw(3);L.xp6(1),L.Akn(L.DdM(4,je)),L.Q6J("formControlName",i.field)("options",o.getOptionDto(i.field))}}function _e(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"p-checkbox",37),L.NdJ("onChange",function(){return L.CHM(t),L.oxw(7).onChange()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(4).$implicit;L.xp6(1),L.Q6J("binary",!0)("formControlName",i.field)}}function ze(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"input",38),L.NdJ("change",function(){return L.CHM(t),L.oxw(7).onChange()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(4).$implicit;L.xp6(1),L.Q6J("formControlName",i.field)}}function Ue(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"p-calendar",39),L.NdJ("onShow",function(){return L.CHM(t),L.oxw(7).onShowCalendar()})("onSelect",function(){return L.CHM(t),L.oxw(7).onChange()})("onBlur",function(){return L.CHM(t),L.oxw(7).onBlurCalendar()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(4).$implicit;L.xp6(1),L.Akn(L.DdM(5,je)),L.Q6J("formControlName",i.field)("showButtonBar",!0)("inputStyle",L.DdM(6,je))}}function Ge(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"p-calendar",40),L.NdJ("onShow",function(){return L.CHM(t),L.oxw(7).onShowCalendar()})("onSelect",function(){return L.CHM(t),L.oxw(7).onChange()})("onBlur",function(){return L.CHM(t),L.oxw(7).onBlurCalendar()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(4).$implicit;L.xp6(1),L.Akn(L.DdM(5,je)),L.Q6J("formControlName",i.field)("inputStyle",L.DdM(6,je))("timeOnly",!0)}}function Re(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"p-calendar",41),L.NdJ("onShow",function(){return L.CHM(t),L.oxw(7).onShowCalendar()})("onSelect",function(){return L.CHM(t),L.oxw(7).onChange()})("onBlur",function(){return L.CHM(t),L.oxw(7).onBlurCalendar()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(4).$implicit;L.xp6(1),L.Akn(L.DdM(5,je)),L.Q6J("formControlName",i.field)("inputStyle",L.DdM(6,je))("timeOnly",!0)}}function Ke(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"p-calendar",42),L.NdJ("onShow",function(){return L.CHM(t),L.oxw(7).onShowCalendar()})("onSelect",function(){return L.CHM(t),L.oxw(7).onChange()})("onBlur",function(){return L.CHM(t),L.oxw(7).onBlurCalendar()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(4).$implicit;L.xp6(1),L.Akn(L.DdM(5,je)),L.Q6J("formControlName",i.field)("inputStyle",L.DdM(6,je))("timeOnly",!0)}}function Ve(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"p-calendar",43),L.NdJ("onShow",function(){return L.CHM(t),L.oxw(7).onShowCalendar()})("onSelect",function(){return L.CHM(t),L.oxw(7).onChange()})("onBlur",function(){return L.CHM(t),L.oxw(7).onBlurCalendar()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(4).$implicit;L.xp6(1),L.Akn(L.DdM(5,je)),L.Q6J("formControlName",i.field)("showButtonBar",!0)("inputStyle",L.DdM(6,je))}}function We(e,n){if(1&e){var t=L.EpF();L.ynx(0),L.TgZ(1,"input",44),L.NdJ("change",function(){return L.CHM(t),L.oxw(7).onChange()}),L.qZA(),L.BQk()}if(2&e){var i=L.oxw(4).$implicit;L.xp6(1),L.Q6J("maxlength",i.maxlength)("formControlName",i.field)}}function Xe(e,n){1&e&&(L.TgZ(0,"span",30),L._uU(1,"*"),L.qZA())}function en(e,n){if(1&e&&(L.ynx(0,15),L.YNc(1,He,2,5,"ng-container",34),L.YNc(2,qe,2,5,"ng-container",34),L.YNc(3,_e,2,2,"ng-container",34),L.YNc(4,ze,2,1,"ng-container",34),L.YNc(5,Ue,2,7,"ng-container",34),L.YNc(6,Ge,2,7,"ng-container",34),L.YNc(7,Re,2,7,"ng-container",34),L.YNc(8,Ke,2,7,"ng-container",34),L.YNc(9,Ve,2,7,"ng-container",34),L.YNc(10,We,2,2,"ng-container",27),L.BQk(),L.YNc(11,Xe,2,0,"span",28)),2&e){var t=L.oxw(3).$implicit,i=L.oxw(3);L.Q6J("ngSwitch",t.type),L.xp6(1),L.Q6J("ngSwitchCase","OneToMany"),L.xp6(1),L.Q6J("ngSwitchCase","ManyToMany"),L.xp6(1),L.Q6J("ngSwitchCase","Boolean"),L.xp6(1),L.Q6J("ngSwitchCase","Number"),L.xp6(1),L.Q6J("ngSwitchCase","Date"),L.xp6(1),L.Q6J("ngSwitchCase","Time"),L.xp6(1),L.Q6J("ngSwitchCase","TimeOnly"),L.xp6(1),L.Q6J("ngSwitchCase","TimeSecOnly"),L.xp6(1),L.Q6J("ngSwitchCase","DateTime"),L.xp6(2),L.Q6J("ngIf",!0===i.isRequired(t.field))}}function nn(e,n){if(1&e&&(L.ynx(0),L._uU(1),L.BQk()),2&e){var t=L.oxw(5).$implicit,i=L.oxw().$implicit;L.xp6(1),L.hij(" ",null==i[t.field]?null:i[t.field].display," ")}}function tn(e,n){if(1&e&&(L.ynx(0),L._uU(1),L.BQk()),2&e){var t=L.oxw(5).$implicit,i=L.oxw().$implicit,o=L.oxw(2);L.xp6(1),L.hij(" ",o.formatDisplayName(i[t.field])," ")}}function on(e,n){if(1&e&&(L.ynx(0),L._uU(1),L.ALo(2,"formatValue"),L.BQk()),2&e){var t=L.oxw(5).$implicit,i=L.oxw().$implicit;L.xp6(1),L.hij(" ",L.xi3(2,1,i[t.field],t)," ")}}function an(e,n){if(1&e&&(L.ynx(0),L.ynx(1,15),L.YNc(2,nn,2,1,"ng-container",34),L.YNc(3,tn,2,1,"ng-container",34),L.YNc(4,on,3,4,"ng-container",27),L.BQk(),L.BQk()),2&e){var t=L.oxw(4).$implicit;L.xp6(1),L.Q6J("ngSwitch",t.type),L.xp6(1),L.Q6J("ngSwitchCase","OneToMany"),L.xp6(1),L.Q6J("ngSwitchCase","ManyToMany")}}function rn(e,n){if(1&e&&L.YNc(0,an,5,3,"ng-container",9),2&e){var t=L.oxw(4).$implicit,i=L.oxw(2);L.Q6J("ngIf",!0!==i.isFooter(t))}}function ln(e,n){if(1&e&&(L.YNc(0,en,12,11,"ng-template",32),L.YNc(1,rn,1,1,"ng-template",null,33,L.W1O)),2&e){var t=L.MAs(2),i=L.oxw(2).$implicit;L.Q6J("ngIf",!0===i.isEditable)("ngIfElse",t)}}function cn(e,n){1&e&&L.YNc(0,ln,3,2,"ng-template",26)}function un(e,n){1&e&&(L.TgZ(0,"label"),L._uU(1,"-"),L.qZA())}function sn(e,n){if(1&e&&L.YNc(0,un,2,0,"label",9),2&e){var t=L.oxw(3).$implicit;L.Q6J("ngIf",!0===t.isEditable)}}function pn(e,n){if(1&e&&(L.ynx(0),L._uU(1),L.BQk()),2&e){var t=L.oxw(4).$implicit,i=L.oxw().$implicit;L.xp6(1),L.hij(" ",null==i[t.field]?null:i[t.field].display," ")}}function fn(e,n){if(1&e&&(L.ynx(0),L._uU(1),L.BQk()),2&e){var t=L.oxw(4).$implicit,i=L.oxw().$implicit,o=L.oxw(2);L.xp6(1),L.hij(" ",o.formatDisplayName(i[t.field])," ")}}function dn(e,n){1&e&&L._UZ(0,"i",47)}function hn(e,n){if(1&e&&(L.ynx(0),L.YNc(1,dn,1,0,"i",46),L.BQk()),2&e){var t=L.oxw(4).$implicit,i=L.oxw().$implicit;L.xp6(1),L.Q6J("ngIf",!0===i[t.field])}}function gn(e,n){if(1&e&&(L.ynx(0),L._uU(1),L.ALo(2,"formatValue"),L.BQk()),2&e){var t=L.oxw(4).$implicit,i=L.oxw().$implicit;L.xp6(1),L.hij(" ",L.xi3(2,1,i[t.field],t)," ")}}function mn(e,n){if(1&e&&(L.ynx(0,15),L.YNc(1,pn,2,1,"ng-container",34),L.YNc(2,fn,2,1,"ng-container",34),L.YNc(3,hn,2,1,"ng-container",34),L.YNc(4,gn,3,4,"ng-container",27),L.BQk()),2&e){var t=L.oxw(3).$implicit;L.Q6J("ngSwitch",t.type),L.xp6(1),L.Q6J("ngSwitchCase","OneToMany"),L.xp6(1),L.Q6J("ngSwitchCase","ManyToMany"),L.xp6(1),L.Q6J("ngSwitchCase","Boolean")}}function yn(e,n){if(1&e&&(L.YNc(0,sn,1,1,"ng-template",32),L.YNc(1,mn,5,4,"ng-template",null,45,L.W1O)),2&e){var t=L.MAs(2),i=L.oxw(3).$implicit,o=L.oxw(2);L.Q6J("ngIf",!0===o.isFooter(i))("ngIfElse",t)}}function wn(e,n){1&e&&L.YNc(0,yn,3,2,"ng-template",31)}function xn(e,n){if(1&e){var t=L.EpF();L.TgZ(0,"td",25),L.NdJ("click",function(){L.CHM(t);var e=L.oxw().$implicit;return L.oxw(2).initEditableRow(e)}),L.TgZ(1,"p-cellEditor"),L.YNc(2,Ee,1,0,void 0,9),L.YNc(3,Be,1,0,void 0,9),L.YNc(4,cn,1,0,void 0,9),L.YNc(5,wn,1,0,void 0,9),L.qZA(),L.qZA()}if(2&e){var i=n.$implicit,o=L.oxw(3);L.xp6(2),L.Q6J("ngIf",!0===o.isSpecificInput(i.field)),L.xp6(1),L.Q6J("ngIf",!0===o.isSpecificInput(i.field)),L.xp6(1),L.Q6J("ngIf",!0!==o.isSpecificInput(i.field)),L.xp6(1),L.Q6J("ngIf",!0!==o.isSpecificInput(i.field))}}function vn(e,n){if(1&e){var t=L.EpF();L.TgZ(0,"tr",19),L.NdJ("focusout",function(){return L.CHM(t),L.oxw(2).onFocusout()})("keyup.enter",function(){return L.CHM(t),L.oxw(2).initEditableRow(null)})("keyup.escape",function(){return L.CHM(t),L.oxw(2).cancel()}),L.YNc(1,$e,3,2,"td",9),L.YNc(2,xn,6,4,"td",20),L.qZA()}if(2&e){var i=n.$implicit,o=n.columns,a=L.oxw(2);L.Q6J("pSelectableRow",!0!==a.isFooter(i)?i:null)("pEditableRow",i),L.xp6(1),L.Q6J("ngIf",a.canSelectElement),L.xp6(1),L.Q6J("ngForOf",o)}}function Cn(e,n){if(1&e&&(L.TgZ(0,"tr"),L.TgZ(1,"td",48),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.qZA()),2&e){var t=n.$implicit;L.xp6(1),L.uIk("colspan",t.length+1),L.xp6(1),L.hij(" ",L.lcZ(3,2,"bia.NoRecordsFound")," ")}}function bn(e,n){if(1&e){var t=L.EpF();L.TgZ(0,"p-table",2,3),L.NdJ("onFilter",function(){return L.CHM(t),L.oxw().onFilter()})("onLazyLoad",function(e){return L.CHM(t),L.oxw().onLoadLazy(e)})("onStateSave",function(e){return L.CHM(t),L.oxw().onStateSave(e)})("selectionChange",function(){return L.CHM(t),L.oxw().onSelectionChange()}),L.ALo(2,"async"),L.YNc(3,Le,4,3,"ng-template",4),L.YNc(4,vn,3,4,"ng-template",5),L.YNc(5,Cn,4,4,"ng-template",6),L.qZA()}if(2&e){var i=L.oxw();L.Q6J("autoLayout",!0)("reorderableColumns",!0)("columns",i.displayedColumns)("value",i.elements)("paginator",i.paginator)("rows",i.pageSize)("totalRecords",i.totalRecord)("lazy",!0)("loading",i.loading&&null!==L.lcZ(2,14,i.showLoading$))("stateStorage","session")("stateKey",i.tableStateKey)("lazyLoadOnInit",i.getLazyLoadOnInit())("sortField",i.sortFieldValue)("sortOrder",i.sortOrderValue)}}var Sn=function(){var e=function(e){c(i,e);var n=s(i);function i(e,t,o,a){var r;return l(this,i),(r=n.call(this,e,t,o,a)).formBuilder=e,r.authService=t,r.biaMessageService=o,r.translateService=a,r.initForm(),r}return t(i,[{key:"initForm",value:function(){var e;this.form=this.formBuilder.group({id:[this.element.id],msn:[this.element.msn,ce.kI.required],isActive:[this.element.isActive],firstFlightDate:[this.element.firstFlightDate,ce.kI.required],firstFlightTime:[this.element.firstFlightTime,ce.kI.required],lastFlightDate:[this.element.lastFlightDate],capacity:[this.element.capacity,ce.kI.required],connectingAirports:[this.element.connectingAirports],planeType:[null===(e=this.element.planeType)||void 0===e?void 0:e.id]})}},{key:"onSubmit",value:function(){var e;if(this.form.valid){var n=this.form.value;n.id=n.id>0?n.id:0,n.isActive=!!n.isActive&&n.isActive,n.connectingAirports=ue.P.Differential(n.connectingAirports,null===(e=this.element)||void 0===e?void 0:e.connectingAirports),n.planeType=ue.P.Clone(n.planeType),this.save.emit(n),this.form.reset()}}}]),i}(se.l);return e.\u0275fac=function(n){return new(n||e)(L.Y36(ce.qu),L.Y36(R.e),L.Y36(H.X),L.Y36(oe.sK))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-plane-table"]],features:[L.qOj],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","p-float-label",4,"ngIf"],[1,"p-float-label"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","showSeconds","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","pi pi-check",4,"ngIf"],[1,"pi","pi-check"],[1,"app-empty-message"]],template:function(e,n){1&e&&(L.TgZ(0,"form",0),L.YNc(1,bn,6,16,"p-table",1),L.qZA()),2&e&&(L.Q6J("formGroup",n.form),L.xp6(1),L.Q6J("ngIf",n.configuration))},directives:[ce._Y,ce.JL,ce.sg,pe.O5,fe.iA,de.jx,pe.sg,fe.Mo,fe.lQ,fe.fz,pe.RF,he.o,pe.mk,ge.oO,fe.Ei,fe.D$,fe.UA,fe.YL,pe.ED,ce.Fj,ce.JJ,ce.u,pe.n9,me.Lt,ye.NU,we.XZ,ce.wV,xe.f,ve.D,ce.nD],pipes:[pe.Ov,oe.X$,Ce.c],styles:["[_nghost-%COMP%]{flex-direction:column}[_nghost-%COMP%]     p-table .searchTR .p-float-label .p-inputtext{padding-top:2px!important}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),e}(),Mn=function(){var n=function(){function n(e,t,i,o,a){l(this,n),this.store=e,this.authService=t,this.planeDas=i,this.translateService=o,this.biaTranslationService=a,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=G.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1}return t(n,[{key:"ngOnInit",value:function(){this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(j),this.totalCount$=this.store.select(I),this.loading$=this.store.select(B);var e=this.store.select(ee.HJ);this.store.dispatch((0,te.g9)());var n=this.store.select(ne.by);this.store.dispatch((0,ie.bf)()),this.dictOptionDtos$=(0,_.aj)([n,e]).pipe((0,y.U)(function(e){return[new X.b("planeType",e[0]),new X.b("connectingAirports",e[1])]}))}},{key:"onDelete",value:function(){this.selectedPlanes&&this.canDelete&&this.store.dispatch(T({ids:this.selectedPlanes.map(function(e){return e.id})}))}},{key:"onSave",value:function(e){(null==e?void 0:e.id)>0?this.canEdit&&this.store.dispatch(M({plane:e})):this.canAdd&&this.store.dispatch(S({plane:e}))}},{key:"onSelectedElementsChanged",value:function(e){this.selectedPlanes=e}},{key:"onPageSizeChange",value:function(e){this.pageSize=e}},{key:"onLoadLazy",value:function(e){this.store.dispatch(C({event:e}))}},{key:"searchGlobalChanged",value:function(e){this.globalSearchValue=e}},{key:"displayedColumnsChanged",value:function(e){this.displayedColumns=e}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(e){this.viewPreference=e}},{key:"onExportCSV",value:function(){var e=this,n={};this.columns.map(function(t){return n[t.value.split(".")[1]]=e.translateService.instant(t.value)});var t=Object.assign({columns:n},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(t).subscribe(function(n){K.saveAs(n,e.translateService.instant("app.planes")+".csv")})}},{key:"setPermissions",value:function(){this.canEdit=this.authService.hasPermission(W.y.Plane_Update),this.canDelete=this.authService.hasPermission(W.y.Plane_Delete),this.canAdd=this.authService.hasPermission(W.y.Plane_Create)}},{key:"initTableConfiguration",value:function(){var n=this;this.biaTranslationService.currentCultureDateFormat$.subscribe(function(t){n.tableConfiguration={columns:[Object.assign(new U.ML("id","bia.id"),{isEditable:!1,type:U.d5.Number}),new U.ML("msn","plane.msn"),Object.assign(new U.ML("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:U.d5.Boolean}),Object.assign(new U.ML("firstFlightDate","plane.firstFlightDate"),{type:U.d5.Date,formatDate:t.dateFormat}),Object.assign(new U.ML("firstFlightTime","plane.firstFlightTime"),{isSearchable:!1,isSortable:!1,type:U.d5.Time,formatDate:t.timeFormat}),Object.assign(new U.ML("lastFlightDate","plane.lastFlightDate"),{type:U.d5.DateTime,formatDate:t.dateTimeFormat}),Object.assign(new U.ML("capacity","plane.capacity"),{type:U.d5.Number,filterMode:U.ZF.Equals}),Object.assign(new U.ML("planeType","plane.planeType"),{type:U.d5.OneToMany}),Object.assign(new U.ML("connectingAirports","plane.connectingAirports"),{type:U.d5.ManyToMany})]},n.columns=n.tableConfiguration.columns.map(function(e){return{key:e.field,value:e.header}}),n.displayedColumns=e(n.columns)})}}]),n}();return n.\u0275fac=function(e){return new(e||n)(L.Y36(f.yh),L.Y36(R.e),L.Y36(P),L.Y36(oe.sK),L.Y36(V.P6))},n.\u0275cmp=L.Xpm({type:n,selectors:[["app-planes-index"]],viewQuery:function(e,n){var t;(1&e&&L.Gf(z.$,5),2&e)&&(L.iGM(t=L.CRH())&&(n.planeListComponent=t.first))},hostVars:2,hostBindings:function(e,n){2&e&&L.ekj("bia-flex",n.flex)},decls:11,vars:33,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canExportCSV","selectedElements","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","loadLazy","selectedElementsChanged","save"]],template:function(e,n){1&e&&(L.TgZ(0,"div",0),L.TgZ(1,"div",1),L.TgZ(2,"bia-table-header",2),L.NdJ("exportCSV",function(){return n.onExportCSV()})("delete",function(){return n.onDelete()}),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"bia-table-controller",3),L.NdJ("displayedColumnsChange",function(e){return n.displayedColumnsChanged(e)})("filter",function(e){return n.searchGlobalChanged(e)})("pageSizeChange",function(e){return n.onPageSizeChange(e)})("toggleSearch",function(){return n.onToggleSearch()})("viewChange",function(e){return n.onViewChange(e)}),L.ALo(5,"async"),L.qZA(),L.TgZ(6,"app-plane-table",4),L.NdJ("loadLazy",function(e){return n.onLoadLazy(e)})("selectedElementsChanged",function(e){return n.onSelectedElementsChanged(e)})("save",function(e){return n.onSave(e)}),L.ALo(7,"async"),L.ALo(8,"async"),L.ALo(9,"async"),L.ALo(10,"async"),L.qZA(),L.qZA(),L.qZA()),2&e&&(L.xp6(2),L.Q6J("headerTitle",L.lcZ(3,21,"plane.listOf"))("canAdd",!1)("canExportCSV",!0)("selectedElements",n.selectedPlanes),L.xp6(2),L.Q6J("defaultPageSize",n.defaultPageSize)("length",L.lcZ(5,23,n.totalCount$))("columns",n.columns)("columnToDisplays",n.displayedColumns),L.xp6(2),L.Q6J("elements",L.lcZ(7,25,n.planes$))("dictOptionDtos",L.lcZ(8,27,n.dictOptionDtos$))("totalRecord",L.lcZ(9,29,n.totalCount$))("columnToDisplays",n.displayedColumns)("pageSize",n.pageSize)("configuration",n.tableConfiguration)("showColSearch",n.showColSearch)("globalSearchValue",n.globalSearchValue)("canEdit",n.canEdit)("canAdd",n.canAdd)("canSelectElement",n.canDelete)("loading",L.lcZ(10,31,n.loading$))("viewPreference",n.viewPreference))},directives:[ae.xw,ae.yH,re.l,le.B,Sn],pipes:[oe.X$,pe.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),n}(),An=a(84594),Tn=a(16249),Nn=a(63364),Qn=a(23291),Zn=[{path:"",data:{breadcrumb:null,permission:W.y.Plane_List_Access},component:Mn,canActivate:[Tn.n]},{path:"**",redirectTo:""}],Jn=function(){var e=function e(){l(this,e)};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=L.oAB({type:e}),e.\u0275inj=L.cJS({imports:[[An.m,p.Bz.forChild(Zn),f.Aw.forFeature("planes-mode-calc",F),d.sQ.forFeature([q]),Nn.i,Qn.O]]}),e}()}}])}();