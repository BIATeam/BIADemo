function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,a=void 0;try{for(var c,r=t[Symbol.iterator]();!(n=(c=r.next()).done)&&(i.push(c.value),!e||i.length!==e);n=!0);}catch(s){o=!0,a=s}finally{try{n||null==r.return||r.return()}finally{if(o)throw a}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure undefined")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"138v":function(t,e,i){"use strict";i.r(e),i.d(e,"NotificationModule",(function(){return Xi}));var n,o=i("tyNb"),a=i("kt0X"),c=i("snw9"),r=i("LRne"),s=i("wO+i"),l=i("eIep"),u=i("lJxs"),f=i("JIr8"),b=i("bOdf"),d=i("zp1y"),p=Object(a.h)("[Notifications] Load all by post",Object(a.m)()),h=Object(a.h)("[Notifications] Load",Object(a.m)()),m=Object(a.h)("[Notifications] Create",Object(a.m)()),v=Object(a.h)("[Notifications] Update",Object(a.m)()),y=Object(a.h)("[Notifications] Remove",Object(a.m)()),g=Object(a.h)("[Notifications] Multi Remove",Object(a.m)()),S=Object(a.h)("[Notifications] Load all by post success",Object(a.m)()),O=Object(a.h)("[Notifications] Load success",Object(a.m)()),C=Object(a.h)("[Notifications] Failure",Object(a.m)()),T=i("dlt+"),j=i("fXoL"),w=((n=function(t){_inherits(i,t);var e=_createSuper(i);function i(t){return _classCallCheck(this,i),e.call(this,t,"Notifications")}return i}(T.a)).\u0275fac=function(t){return new(t||n)(j.Xb(j.r))},n.\u0275prov=j.Jb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),I=i("EVqC"),B=Object(I.a)({selectId:function(t){return t.id},sortComparer:!1}),k=B.getInitialState({totalCount:0,currentNotification:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),N=Object(a.j)(k,Object(a.l)(p,(function(t,e){return _objectDestructuringEmpty(e),Object.assign(Object.assign({},t),{loadingGetAll:!0})})),Object(a.l)(h,(function(t){return Object.assign(Object.assign({},t),{loadingGet:!0})})),Object(a.l)(S,(function(t,e){var i=e.result,n=e.event,o=B.setAll(i.data,t);return o.totalCount=i.totalCount,o.lastLazyLoadEvent=n,o.loadingGetAll=!1,o})),Object(a.l)(O,(function(t,e){var i=e.notification;return Object.assign(Object.assign({},t),{currentNotification:i,loadingGet:!1})})),Object(a.l)(C,(function(t,e){return _objectDestructuringEmpty(e),Object.assign(Object.assign({},t),{loadingGetAll:!1,loadingGet:!1})})));function _(t,e){return Object(a.f)({notifications:N})(t,e)}var $,D,R=Object(a.i)("notifications"),L=Object(a.k)(R,(function(t){return t.notifications})),z=Object(a.k)(L,(function(t){return t.totalCount})),G=Object(a.k)(L,(function(t){return t.currentNotification})),E=Object(a.k)(L,(function(t){return t.lastLazyLoadEvent})),P=Object(a.k)(L,(function(t){return t.loadingGet})),x=Object(a.k)(L,(function(t){return t.loadingGetAll})),A=B.getSelectors(L).selectAll,M=i("Fx2S"),F=i("basH"),U=(($=function t(e,i,n,o){var a=this;_classCallCheck(this,t),this.actions$=e,this.notificationDas=i,this.biaMessageService=n,this.store=o,this.loadAllByPost$=Object(c.c)((function(){return a.actions$.pipe(Object(c.d)(p),Object(s.a)("event"),Object(l.a)((function(t){return a.notificationDas.getListByPost(t).pipe(Object(u.a)((function(e){return S({result:e,event:t})})),Object(f.a)((function(t){return a.biaMessageService.showError(),Object(r.a)(C({error:t}))})))})))})),this.load$=Object(c.c)((function(){return a.actions$.pipe(Object(c.d)(h),Object(s.a)("id"),Object(l.a)((function(t){return a.notificationDas.get(t).pipe(Object(u.a)((function(t){return O({notification:t})})),Object(f.a)((function(t){return a.biaMessageService.showError(),Object(r.a)(C({error:t}))})))})))})),this.create$=Object(c.c)((function(){return a.actions$.pipe(Object(c.d)(m),Object(s.a)("notification"),Object(b.a)((function(t){return Object(r.a)(t).pipe(Object(d.a)(a.store.select(E)))})),Object(l.a)((function(e){var i=_slicedToArray(e,2),n=i[0],o=i[1];return a.notificationDas.post(n).pipe(Object(u.a)((function(){return a.biaMessageService.showAddSuccess(),t.useSignalR?Object(F.a)():p({event:o})})),Object(f.a)((function(t){return a.biaMessageService.showError(),Object(r.a)(C({error:t}))})))})))})),this.update$=Object(c.c)((function(){return a.actions$.pipe(Object(c.d)(v),Object(s.a)("notification"),Object(b.a)((function(t){return Object(r.a)(t).pipe(Object(d.a)(a.store.select(E)))})),Object(l.a)((function(e){var i=_slicedToArray(e,2),n=i[0],o=i[1];return a.notificationDas.put(n,n.id).pipe(Object(u.a)((function(){return a.biaMessageService.showUpdateSuccess(),t.useSignalR?Object(F.a)():p({event:o})})),Object(f.a)((function(t){return a.biaMessageService.showError(),Object(r.a)(C({error:t}))})))})))})),this.destroy$=Object(c.c)((function(){return a.actions$.pipe(Object(c.d)(y),Object(s.a)("id"),Object(b.a)((function(t){return Object(r.a)(t).pipe(Object(d.a)(a.store.select(E)))})),Object(l.a)((function(e){var i=_slicedToArray(e,2),n=i[0],o=i[1];return a.notificationDas.delete(n).pipe(Object(u.a)((function(){return a.biaMessageService.showDeleteSuccess(),t.useSignalR?Object(F.a)():p({event:o})})),Object(f.a)((function(t){return a.biaMessageService.showError(),Object(r.a)(C({error:t}))})))})))})),this.multiDestroy$=Object(c.c)((function(){return a.actions$.pipe(Object(c.d)(g),Object(s.a)("ids"),Object(b.a)((function(t){return Object(r.a)(t).pipe(Object(d.a)(a.store.select(E)))})),Object(l.a)((function(e){var i=_slicedToArray(e,2),n=i[0],o=i[1];return a.notificationDas.deletes(n).pipe(Object(u.a)((function(){return a.biaMessageService.showDeleteSuccess(),t.useSignalR?Object(F.a)():p({event:o})})),Object(f.a)((function(t){return a.biaMessageService.showError(),Object(r.a)(C({error:t}))})))})))}))}).useSignalR=!1,$.\u0275fac=function(t){return new(t||$)(j.Xb(c.a),j.Xb(w),j.Xb(M.a),j.Xb(a.b))},$.\u0275prov=j.Jb({token:$,factory:$.\u0275fac}),$),K=i("Sa1B"),J=i("VfrA"),V=i("s0Cq"),Q=i("E6Oa"),X=i("Iab2"),H=i("RoCi"),q=i("RdrV"),W=i("SxV6"),Y=i("yOL8"),Z=((D=function(){function t(e,i,n){_classCallCheck(this,t),this.store=e,this.signalRService=i,this.authService=n}return _createClass(t,[{key:"initialize",value:function(){var t=this;console.log("%c [Notifications] Register SignalR : refresh-notifications","color: purple; font-weight: bold"),this.signalRService.addMethod("refresh-notifications",(function(e){var i=JSON.parse(e);t.IsInMyDisplay(i)&&t.store.select(E).pipe(Object(W.a)()).subscribe((function(e){console.log("%c [Notifications] RefreshSuccess","color: green; font-weight: bold"),t.store.dispatch(p({event:e}))}))})),this.signalRService.addMethod("refresh-notifications-several",(function(e){JSON.parse(e).some((function(e){return t.IsInMyDisplay(e)}))&&t.store.select(E).pipe(Object(W.a)()).subscribe((function(e){console.log("%c [Notifications] RefreshSuccess","color: green; font-weight: bold"),t.store.dispatch(p({event:e}))}))})),this.targetedFeature={parentKey:this.authService.getAdditionalInfos().userData.currentSiteId.toString(),featureName:"notifications"},this.signalRService.joinGroup(this.targetedFeature)}},{key:"IsInMyDisplay",value:function(t){var e=this,i=this.authService.getAdditionalInfos(),n=t.siteId==i.userData.currentSiteId,o=null==t.notifiedUsers||0==t.notifiedUsers.length||t.notifiedUsers.some((function(t){return t.id==i.userInfo.id})),a=null==t.notifiedPermissions||0==t.notifiedPermissions.length||t.notifiedPermissions.some((function(t){return e.authService.hasPermission(t.id.toString())}));return n&&o&&a}},{key:"destroy",value:function(){console.log("%c [Notifications] Unregister SignalR : refresh-notifications","color: purple; font-weight: bold"),this.signalRService.removeMethod("refresh-notifications"),this.signalRService.leaveGroup(this.targetedFeature)}}]),t}()).\u0275fac=function(t){return new(t||D)(j.Xb(a.b),j.Xb(Y.a),j.Xb(Q.a))},D.\u0275prov=j.Jb({token:D,factory:D.\u0275fac,providedIn:"root"}),D),tt=i("P5II"),et=i("itXk"),it=Object(a.h)("[Domain Notification Type Options] Load all"),nt=Object(a.h)("[Domain Notification Type Options] Load all success",Object(a.m)()),ot=Object(a.h)("[Domain Notification Type Options] Failure",Object(a.m)()),at=Object(I.a)({selectId:function(t){return t.id},sortComparer:!1}),ct=at.getInitialState({}),rt=Object(a.j)(ct,Object(a.l)(nt,(function(t,e){var i=e.notificationTypes;return at.setAll(i,t)})));function st(t,e){return Object(a.f)({notificationTypeOptions:rt})(t,e)}var lt=Object(a.i)("domain-notification-type-options"),ut=Object(a.k)(lt,(function(t){return t.notificationTypeOptions})),ft=at.getSelectors(ut).selectAll,bt=Object(a.h)("[Domain Permission Options] Load all"),dt=Object(a.h)("[Domain Permission Options] Load all success",Object(a.m)()),pt=Object(a.h)("[Domain Permission Options] Failure",Object(a.m)()),ht=Object(I.a)({selectId:function(t){return t.id},sortComparer:!1}),mt=ht.getInitialState({}),vt=Object(a.j)(mt,Object(a.l)(dt,(function(t,e){var i=e.permissions;return ht.setAll(i,t)})));function yt(t,e){return Object(a.f)({permissionOptions:vt})(t,e)}var gt,St=Object(a.i)("domain-permission-options"),Ot=Object(a.k)(St,(function(t){return t.permissionOptions})),Ct=ht.getSelectors(Ot).selectAll,Tt=i("4tvz"),jt=i("B67f"),wt=i("dnD0"),It=((gt=function(){function t(e){_classCallCheck(this,t),this.store=e,this.notificationTypeOptions$=this.store.select(ft),this.permissionOptions$=this.store.select(Ct),this.userOptions$=this.store.select(Tt.a),this.dictOptionDtos$=Object(et.a)([this.notificationTypeOptions$,this.permissionOptions$,this.userOptions$]).pipe(Object(u.a)((function(t){return[new wt.a("type",t[0]),new wt.a("notifiedPermissions",t[1]),new wt.a("notifiedUsers",t[2]),new wt.a("createdBy",t[2])]})))}return _createClass(t,[{key:"loadAllOptions",value:function(){this.store.dispatch(it()),this.store.dispatch(bt()),this.store.dispatch(Object(jt.d)())}}]),t}()).\u0275fac=function(t){return new(t||gt)(j.Xb(a.b))},gt.\u0275prov=j.Jb({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt),Bt=i("sYmb"),kt=i("XiUz"),Nt=i("jIms"),_t=i("v8MJ"),$t=i("ofXK"),Dt=i("3Pt+"),Rt=i("gT8a"),Lt=i("/ZTc"),zt=i("rEr+"),Gt=i("7zfz"),Et=i("7kUa"),Pt=i("znSr"),xt=i("arFO"),At=i("lVkt"),Mt=i("Ji6n"),Ft=i("eO1q"),Ut=i("PjIi");function Kt(t,e){1&t&&(j.Tb(0,"th",10),j.Ob(1,"p-tableHeaderCheckbox"),j.Sb())}function Jt(t,e){if(1&t&&(j.Tb(0,"th",12),j.Ic(1),j.ec(2,"translate"),j.Ob(3,"p-sortIcon",13),j.Sb()),2&t){var i=j.dc().$implicit;j.lc("pSortableColumn",i.field),j.Bb(1),j.Kc(" ",j.fc(2,3,null==i?null:i.header)," "),j.Bb(2),j.lc("field",i.field)}}function Vt(t,e){if(1&t&&(j.Tb(0,"th"),j.Ic(1),j.ec(2,"translate"),j.Sb()),2&t){var i=j.dc().$implicit;j.Bb(1),j.Kc(" ",j.fc(2,1,null==i?null:i.header)," ")}}function Qt(t,e){if(1&t&&(j.Rb(0),j.Gc(1,Jt,4,5,"th",11),j.Gc(2,Vt,3,3,"th",9),j.Qb()),2&t){var i=e.$implicit;j.Bb(1),j.lc("ngIf",!0===(null==i?null:i.isSortable)),j.Bb(1),j.lc("ngIf",!0!==(null==i?null:i.isSortable))}}function Xt(t,e){1&t&&j.Ob(0,"th")}var Ht=function(t){return{"ui-state-filled":t}};function qt(t,e){if(1&t){var i=j.Ub();j.Tb(0,"span",17),j.Tb(1,"input",18),j.bc("input",(function(t){j.zc(i);var e=j.dc().$implicit;return j.dc(3),j.yc(1).filter(t.target.value,e.field,e.filterMode)})),j.ec(2,"translate"),j.Sb(),j.Sb()}if(2&t){var n=j.dc().$implicit;j.dc(3);var o=j.yc(1);j.Bb(1),j.mc("type","Number"===n.type?"number":"text"),j.mc("placeholder",null!=n.searchPlaceholder?n.searchPlaceholder:!0===n.isDate?j.fc(2,4,"bia.dateIso8601"):""),j.lc("value",null==o.filters[n.field]?null:o.filters[n.field].value)("ngClass",j.pc(6,Ht,""!=(null==o.filters[n.field]?null:o.filters[n.field].value)))}}function Wt(t,e){if(1&t&&(j.Tb(0,"th",15),j.Gc(1,qt,3,8,"span",16),j.Sb()),2&t){var i=e.$implicit;j.lc("ngSwitch",i.field),j.Bb(1),j.lc("ngIf",!0===i.isSearchable)}}function Yt(t,e){if(1&t&&(j.Tb(0,"tr"),j.Gc(1,Xt,1,0,"th",9),j.Gc(2,Wt,2,2,"th",14),j.Sb()),2&t){var i=j.dc().$implicit,n=j.dc(2);j.Bb(1),j.lc("ngIf",n.canSelectElement),j.Bb(1),j.lc("ngForOf",i)}}function Zt(t,e){if(1&t&&(j.Tb(0,"tr"),j.Gc(1,Kt,2,0,"th",7),j.Gc(2,Qt,3,2,"ng-container",8),j.Sb(),j.Gc(3,Yt,3,2,"tr",9)),2&t){var i=e.$implicit,n=j.dc(2);j.Bb(1),j.lc("ngIf",n.canSelectElement),j.Bb(1),j.lc("ngForOf",i),j.Bb(1),j.lc("ngIf",n.showColSearch)}}function te(t,e){if(1&t&&j.Ob(0,"p-tableCheckbox",23),2&t){var i=j.dc(2).$implicit;j.lc("value",i)}}function ee(t,e){1&t&&j.Ob(0,"i",24)}function ie(t,e){if(1&t&&(j.Tb(0,"td"),j.Gc(1,te,1,1,"p-tableCheckbox",21),j.Gc(2,ee,1,0,"i",22),j.Sb()),2&t){var i=j.dc().$implicit,n=j.dc(2);j.Bb(1),j.lc("ngIf",!0!==n.isFooter(i)&&i.id>0),j.Bb(1),j.lc("ngIf",!0===n.isFooter(i))}}function ne(t,e){if(1&t){var i=j.Ub();j.Rb(0),j.Tb(1,"input",29),j.bc("change",(function(){return j.zc(i),j.dc(6).onChange()})),j.Sb(),j.Qb()}if(2&t){var n=j.dc(3).$implicit;j.Bb(1),j.lc("formControlName",n.field)}}function oe(t,e){1&t&&(j.Tb(0,"span",30),j.Ic(1,"*"),j.Sb())}function ae(t,e){if(1&t&&(j.Rb(0,15),j.Gc(1,ne,2,1,"ng-container",27),j.Qb(),j.Gc(2,oe,2,0,"span",28)),2&t){var i=j.dc(2).$implicit,n=j.dc(3);j.lc("ngSwitch",i.field),j.Bb(2),j.lc("ngIf",!0===n.isRequired(i.field))}}function ce(t,e){1&t&&j.Gc(0,ae,3,2,"ng-template",26)}function re(t,e){if(1&t&&(j.Rb(0),j.Ic(1),j.Qb()),2&t){var i=j.dc(3).$implicit,n=j.dc().$implicit;j.Bb(1),j.Kc(" ",n[i.field]," ")}}function se(t,e){if(1&t&&(j.Rb(0,15),j.Gc(1,re,2,1,"ng-container",27),j.Qb()),2&t){var i=j.dc(2).$implicit;j.lc("ngSwitch",i.field)}}function le(t,e){1&t&&j.Gc(0,se,2,1,"ng-template",31)}var ue=function(){return{width:"100%"}};function fe(t,e){if(1&t){var i=j.Ub();j.Rb(0),j.Tb(1,"p-dropdown",35),j.bc("onChange",(function(){return j.zc(i),j.dc(7).onChange()})),j.Sb(),j.Qb()}if(2&t){var n=j.dc(4).$implicit,o=j.dc(3);j.Bb(1),j.Ec(j.oc(4,ue)),j.lc("formControlName",n.field)("options",o.getOptionDto(n.field))}}function be(t,e){if(1&t){var i=j.Ub();j.Rb(0),j.Tb(1,"p-multiSelect",36),j.bc("onChange",(function(){return j.zc(i),j.dc(7).onChange()}))("onPanelShow",(function(){return j.zc(i),j.dc(7).onPanelShowMultiSelect()}))("onPanelHide",(function(){return j.zc(i),j.dc(7).onPanelHideMultiSelect()})),j.Sb(),j.Qb()}if(2&t){var n=j.dc(4).$implicit,o=j.dc(3);j.Bb(1),j.Ec(j.oc(4,ue)),j.lc("formControlName",n.field)("options",o.getOptionDto(n.field))}}function de(t,e){if(1&t){var i=j.Ub();j.Rb(0),j.Tb(1,"p-checkbox",37),j.bc("onChange",(function(){return j.zc(i),j.dc(7).onChange()})),j.Sb(),j.Qb()}if(2&t){var n=j.dc(4).$implicit;j.Bb(1),j.lc("binary",!0)("formControlName",n.field)}}function pe(t,e){if(1&t){var i=j.Ub();j.Rb(0),j.Tb(1,"input",38),j.bc("change",(function(){return j.zc(i),j.dc(7).onChange()})),j.Sb(),j.Qb()}if(2&t){var n=j.dc(4).$implicit;j.Bb(1),j.lc("formControlName",n.field)}}function he(t,e){if(1&t){var i=j.Ub();j.Rb(0),j.Tb(1,"p-calendar",39),j.bc("onShow",(function(){return j.zc(i),j.dc(7).onShowCalendar()}))("onSelect",(function(){return j.zc(i),j.dc(7).onChange()}))("onBlur",(function(){return j.zc(i),j.dc(7).onBlurCalendar()})),j.Sb(),j.Qb()}if(2&t){var n=j.dc(4).$implicit;j.Bb(1),j.Ec(j.oc(5,ue)),j.lc("formControlName",n.field)("showButtonBar",!0)("inputStyle",j.oc(6,ue))}}function me(t,e){if(1&t){var i=j.Ub();j.Rb(0),j.Tb(1,"p-calendar",40),j.bc("onShow",(function(){return j.zc(i),j.dc(7).onShowCalendar()}))("onSelect",(function(){return j.zc(i),j.dc(7).onChange()}))("onBlur",(function(){return j.zc(i),j.dc(7).onBlurCalendar()})),j.Sb(),j.Qb()}if(2&t){var n=j.dc(4).$implicit;j.Bb(1),j.Ec(j.oc(5,ue)),j.lc("formControlName",n.field)("inputStyle",j.oc(6,ue))("timeOnly",!0)}}function ve(t,e){if(1&t){var i=j.Ub();j.Rb(0),j.Tb(1,"p-calendar",41),j.bc("onShow",(function(){return j.zc(i),j.dc(7).onShowCalendar()}))("onSelect",(function(){return j.zc(i),j.dc(7).onChange()}))("onBlur",(function(){return j.zc(i),j.dc(7).onBlurCalendar()})),j.Sb(),j.Qb()}if(2&t){var n=j.dc(4).$implicit;j.Bb(1),j.Ec(j.oc(5,ue)),j.lc("formControlName",n.field)("showButtonBar",!0)("inputStyle",j.oc(6,ue))}}function ye(t,e){if(1&t){var i=j.Ub();j.Rb(0),j.Tb(1,"input",42),j.bc("change",(function(){return j.zc(i),j.dc(7).onChange()})),j.Sb(),j.Qb()}if(2&t){var n=j.dc(4).$implicit;j.Bb(1),j.lc("maxlength",n.maxlength)("formControlName",n.field)}}function ge(t,e){1&t&&(j.Tb(0,"span",30),j.Ic(1,"*"),j.Sb())}function Se(t,e){if(1&t&&(j.Rb(0,15),j.Gc(1,fe,2,5,"ng-container",34),j.Gc(2,be,2,5,"ng-container",34),j.Gc(3,de,2,2,"ng-container",34),j.Gc(4,pe,2,1,"ng-container",34),j.Gc(5,he,2,7,"ng-container",34),j.Gc(6,me,2,7,"ng-container",34),j.Gc(7,ve,2,7,"ng-container",34),j.Gc(8,ye,2,2,"ng-container",27),j.Qb(),j.Gc(9,ge,2,0,"span",28)),2&t){var i=j.dc(3).$implicit,n=j.dc(3);j.lc("ngSwitch",i.type),j.Bb(1),j.lc("ngSwitchCase","OneToMany"),j.Bb(1),j.lc("ngSwitchCase","ManyToMany"),j.Bb(1),j.lc("ngSwitchCase","Boolean"),j.Bb(1),j.lc("ngSwitchCase","Number"),j.Bb(1),j.lc("ngSwitchCase","Date"),j.Bb(1),j.lc("ngSwitchCase","Time"),j.Bb(1),j.lc("ngSwitchCase","DateTime"),j.Bb(2),j.lc("ngIf",!0===n.isRequired(i.field))}}function Oe(t,e){if(1&t&&(j.Rb(0),j.Ic(1),j.Qb()),2&t){var i=j.dc(5).$implicit,n=j.dc().$implicit;j.Bb(1),j.Kc(" ",null==n[i.field]?null:n[i.field].display," ")}}function Ce(t,e){if(1&t&&(j.Rb(0),j.Ic(1),j.Qb()),2&t){var i=j.dc(5).$implicit,n=j.dc().$implicit,o=j.dc(2);j.Bb(1),j.Kc(" ",o.formatDisplayName(n[i.field])," ")}}function Te(t,e){if(1&t&&(j.Rb(0),j.Ic(1),j.ec(2,"date"),j.Qb()),2&t){var i=j.dc(5).$implicit,n=j.dc().$implicit;j.Bb(1),j.Kc(" ",!0===i.isDate?j.gc(2,1,n[i.field],i.formatDate):n[i.field]," ")}}function je(t,e){if(1&t&&(j.Rb(0),j.Rb(1,15),j.Gc(2,Oe,2,1,"ng-container",34),j.Gc(3,Ce,2,1,"ng-container",34),j.Gc(4,Te,3,4,"ng-container",27),j.Qb(),j.Qb()),2&t){var i=j.dc(4).$implicit;j.Bb(1),j.lc("ngSwitch",i.type),j.Bb(1),j.lc("ngSwitchCase","OneToMany"),j.Bb(1),j.lc("ngSwitchCase","ManyToMany")}}function we(t,e){if(1&t&&j.Gc(0,je,5,3,"ng-container",9),2&t){var i=j.dc(4).$implicit,n=j.dc(2);j.lc("ngIf",!0!==n.isFooter(i))}}function Ie(t,e){if(1&t&&(j.Gc(0,Se,10,9,"ng-template",32),j.Gc(1,we,1,1,"ng-template",null,33,j.Hc)),2&t){var i=j.yc(2),n=j.dc(2).$implicit;j.lc("ngIf",!0===n.isEditable)("ngIfElse",i)}}function Be(t,e){1&t&&j.Gc(0,Ie,3,2,"ng-template",26)}function ke(t,e){1&t&&(j.Tb(0,"label"),j.Ic(1,"-"),j.Sb())}function Ne(t,e){if(1&t&&j.Gc(0,ke,2,0,"label",9),2&t){var i=j.dc(3).$implicit;j.lc("ngIf",!0===i.isEditable)}}function _e(t,e){if(1&t&&(j.Rb(0),j.Ic(1),j.Qb()),2&t){var i=j.dc(4).$implicit,n=j.dc().$implicit;j.Bb(1),j.Kc(" ",null==n[i.field]?null:n[i.field].display," ")}}function $e(t,e){if(1&t&&(j.Rb(0),j.Ic(1),j.Qb()),2&t){var i=j.dc(4).$implicit,n=j.dc().$implicit,o=j.dc(2);j.Bb(1),j.Kc(" ",o.formatDisplayName(n[i.field])," ")}}function De(t,e){1&t&&j.Ob(0,"i",45)}function Re(t,e){if(1&t&&(j.Rb(0),j.Gc(1,De,1,0,"i",44),j.Qb()),2&t){var i=j.dc(4).$implicit,n=j.dc().$implicit;j.Bb(1),j.lc("ngIf",!0===n[i.field])}}function Le(t,e){if(1&t&&(j.Rb(0),j.Ic(1),j.ec(2,"date"),j.Qb()),2&t){var i=j.dc(4).$implicit,n=j.dc().$implicit;j.Bb(1),j.Kc(" ",!0===i.isDate?j.gc(2,1,n[i.field],i.formatDate):n[i.field]," ")}}function ze(t,e){if(1&t&&(j.Rb(0,15),j.Gc(1,_e,2,1,"ng-container",34),j.Gc(2,$e,2,1,"ng-container",34),j.Gc(3,Re,2,1,"ng-container",34),j.Gc(4,Le,3,4,"ng-container",27),j.Qb()),2&t){var i=j.dc(3).$implicit;j.lc("ngSwitch",i.type),j.Bb(1),j.lc("ngSwitchCase","OneToMany"),j.Bb(1),j.lc("ngSwitchCase","ManyToMany"),j.Bb(1),j.lc("ngSwitchCase","Boolean")}}function Ge(t,e){if(1&t&&(j.Gc(0,Ne,1,1,"ng-template",32),j.Gc(1,ze,5,4,"ng-template",null,43,j.Hc)),2&t){var i=j.yc(2),n=j.dc(3).$implicit,o=j.dc(2);j.lc("ngIf",!0===o.isFooter(n))("ngIfElse",i)}}function Ee(t,e){1&t&&j.Gc(0,Ge,3,2,"ng-template",31)}function Pe(t,e){if(1&t){var i=j.Ub();j.Tb(0,"td",25),j.bc("click",(function(){j.zc(i);var t=j.dc().$implicit;return j.dc(2).initEditableRow(t)})),j.Tb(1,"p-cellEditor"),j.Gc(2,ce,1,0,void 0,9),j.Gc(3,le,1,0,void 0,9),j.Gc(4,Be,1,0,void 0,9),j.Gc(5,Ee,1,0,void 0,9),j.Sb(),j.Sb()}if(2&t){var n=e.$implicit,o=j.dc(3);j.Bb(2),j.lc("ngIf",!0===o.isSpecificInput(n.field)),j.Bb(1),j.lc("ngIf",!0===o.isSpecificInput(n.field)),j.Bb(1),j.lc("ngIf",!0!==o.isSpecificInput(n.field)),j.Bb(1),j.lc("ngIf",!0!==o.isSpecificInput(n.field))}}function xe(t,e){if(1&t){var i=j.Ub();j.Tb(0,"tr",19),j.bc("focusout",(function(){return j.zc(i),j.dc(2).onFocusout()}))("keyup.enter",(function(){return j.zc(i),j.dc(2).initEditableRow(null)}))("keyup.escape",(function(){return j.zc(i),j.dc(2).cancel()})),j.Gc(1,ie,3,2,"td",9),j.Gc(2,Pe,6,4,"td",20),j.Sb()}if(2&t){var n=e.$implicit,o=e.columns,a=j.dc(2);j.lc("pSelectableRow",!0!==a.isFooter(n)?n:null)("pEditableRow",n),j.Bb(1),j.lc("ngIf",a.canSelectElement),j.Bb(1),j.lc("ngForOf",o)}}function Ae(t,e){if(1&t&&(j.Tb(0,"tr"),j.Tb(1,"td",46),j.Ic(2),j.ec(3,"translate"),j.Sb(),j.Sb()),2&t){var i=e.$implicit;j.Bb(1),j.Cb("colspan",i.length+1),j.Bb(1),j.Kc(" ",j.fc(3,2,"bia.NoRecordsFound")," ")}}function Me(t,e){if(1&t){var i=j.Ub();j.Tb(0,"p-table",2,3),j.bc("onFilter",(function(){return j.zc(i),j.dc().onFilter()}))("onLazyLoad",(function(t){return j.zc(i),j.dc().onLoadLazy(t)}))("onStateSave",(function(t){return j.zc(i),j.dc().onStateSave(t)}))("selectionChange",(function(){return j.zc(i),j.dc().onSelectionChange()})),j.ec(2,"async"),j.Gc(3,Zt,4,3,"ng-template",4),j.Gc(4,xe,3,4,"ng-template",5),j.Gc(5,Ae,4,4,"ng-template",6),j.Sb()}if(2&t){var n=j.dc();j.lc("autoLayout",!0)("reorderableColumns",!0)("columns",n.displayedColumns)("value",n.elements)("paginator",n.paginator)("rows",n.pageSize)("totalRecords",n.totalRecord)("lazy",!0)("loading",n.loading&&null!==j.fc(2,14,n.showLoading$))("stateStorage","session")("stateKey",n.tableStateKey)("lazyLoadOnInit",n.getLazyLoadOnInit())("sortField",n.sortFieldValue)("sortOrder",n.sortOrderValue)}}var Fe,Ue=((Fe=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,n,o,a){var c;return _classCallCheck(this,i),(c=e.call(this,t,n,o,a)).formBuilder=t,c.authService=n,c.biaMessageService=o,c.translateService=a,c.initForm(),c}return _createClass(i,[{key:"initForm",value:function(){var t,e;this.form=this.formBuilder.group({id:[this.element.id],title:[this.element.title,Dt.o.required],description:[this.element.description,Dt.o.required],type:[null===(t=this.element.type)||void 0===t?void 0:t.id,Dt.o.required],read:[this.element.read],createdDate:[this.element.createdDate,Dt.o.required],createdBy:[null===(e=this.element.createdBy)||void 0===e?void 0:e.id],notifiedPermissions:[this.element.notifiedPermissions],notifiedUsers:[this.element.notifiedUsers],jData:[this.element.jData]})}},{key:"onSubmit",value:function(){var t,e;if(this.form.valid){var i=this.form.value;i.id=i.id>0?i.id:0,i.read=!!i.read&&i.read,i.createdBy=Rt.a.Clone(i.createdBy),i.notifiedPermissions=Rt.a.Differential(i.notifiedPermissions,null===(t=this.element)||void 0===t?void 0:t.notifiedPermissions),i.notifiedUsers=Rt.a.Differential(i.notifiedUsers,null===(e=this.element)||void 0===e?void 0:e.notifiedUsers),i.type=Object.assign({},i.type),this.save.emit(i),this.form.reset()}}}]),i}(Lt.a)).\u0275fac=function(t){return new(t||Fe)(j.Nb(Dt.b),j.Nb(Q.a),j.Nb(M.a),j.Nb(Bt.d))},Fe.\u0275cmp=j.Hb({type:Fe,selectors:[["app-notification-table"]],features:[j.yb],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","md-inputfield",4,"ngIf"],[1,"md-inputfield"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","ui-icon-check",4,"ngIf"],[1,"ui-icon-check"],[1,"app-empty-message"]],template:function(t,e){1&t&&(j.Tb(0,"form",0),j.Gc(1,Me,6,16,"p-table",1),j.Sb()),2&t&&(j.lc("formGroup",e.form),j.Bb(1),j.lc("ngIf",e.configuration))},directives:[Dt.p,Dt.k,Dt.f,$t.m,zt.f,Gt.e,$t.l,zt.h,zt.e,zt.d,$t.o,Et.a,$t.k,Pt.a,zt.c,zt.b,zt.g,zt.a,$t.q,Dt.a,Dt.j,Dt.e,$t.p,xt.a,At.a,Mt.a,Dt.m,Ft.a,Ut.a,Dt.h],pipes:[$t.b,Bt.c,$t.e],styles:["[_nghost-%COMP%]{flex-direction:column}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),Fe);function Ke(t,e){if(1&t){var i=j.Ub();j.Tb(0,"bia-table",6),j.bc("edit",(function(t){return j.zc(i),j.dc().onDetail(t)}))("loadLazy",(function(t){return j.zc(i),j.dc().onLoadLazy(t)}))("selectedElementsChanged",(function(t){return j.zc(i),j.dc().onSelectedElementsChanged(t)})),j.ec(1,"async"),j.ec(2,"async"),j.ec(3,"async"),j.Sb()}if(2&t){var n=j.dc();j.lc("elements",j.fc(1,12,n.notifications$))("totalRecord",j.fc(2,14,n.totalCount$))("columnToDisplays",n.displayedColumns)("pageSize",n.pageSize)("configuration",n.tableConfiguration)("showColSearch",n.showColSearch)("globalSearchValue",n.globalSearchValue)("canEdit",n.canEdit)("canSelectElement",n.canDelete)("loading",j.fc(3,16,n.loading$))("viewPreference",n.viewPreference)("tableStateKey",n.tableStateKey)}}function Je(t,e){if(1&t){var i=j.Ub();j.Tb(0,"app-notification-table",7),j.bc("loadLazy",(function(t){return j.zc(i),j.dc().onLoadLazy(t)}))("selectedElementsChanged",(function(t){return j.zc(i),j.dc().onSelectedElementsChanged(t)}))("save",(function(t){return j.zc(i),j.dc().onSave(t)})),j.ec(1,"async"),j.ec(2,"async"),j.ec(3,"async"),j.ec(4,"async"),j.Sb()}if(2&t){var n=j.dc();j.lc("elements",j.fc(1,14,n.notifications$))("dictOptionDtos",j.fc(2,16,n.notificationOptionsService.dictOptionDtos$))("totalRecord",j.fc(3,18,n.totalCount$))("columnToDisplays",n.displayedColumns)("pageSize",n.pageSize)("configuration",n.tableConfiguration)("showColSearch",n.showColSearch)("globalSearchValue",n.globalSearchValue)("canEdit",n.canEdit)("canAdd",n.canAdd)("canSelectElement",n.canDelete)("loading",j.fc(4,20,n.loading$))("viewPreference",n.viewPreference)("tableStateKey",n.tableStateKey)}}var Ve,Qe=((Ve=function(){function t(e,i,n,o,a,c,r,s,l){_classCallCheck(this,t),this.store=e,this.router=i,this.activatedRoute=n,this.authService=o,this.notificationDas=a,this.translateService=c,this.biaTranslationService=r,this.notificationsSignalRService=s,this.notificationOptionsService=l,this.useCalcMode=!1,this.useSignalR=!0,this.useView=!0,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=V.b,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.tableStateKey=this.useView?"notificationsGrid":void 0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.initTableConfiguration(),this.setPermissions(),this.notifications$=this.store.select(A).pipe(Object(u.a)((function(e){return e.map((function(e){return e.title=t.translateService.instant(e.title),e.description=t.translateService.instant(e.description),e}))}))),this.totalCount$=this.store.select(z),this.loading$=this.store.select(x),this.OnDisplay(),this.useCalcMode&&this.notificationOptionsService.loadAllOptions()}},{key:"ngOnDestroy",value:function(){this.OnHide()}},{key:"OnDisplay",value:function(){void 0!==this.notificationListComponent&&this.store.dispatch(p({event:this.notificationListComponent.getLazyLoadMetadata()})),this.useView&&this.store.dispatch(Object(tt.g)()),this.useSignalR&&(this.notificationsSignalRService.initialize(),U.useSignalR=!0)}},{key:"OnHide",value:function(){this.useSignalR&&(U.useSignalR=!1,this.notificationsSignalRService.destroy())}},{key:"onCreate",value:function(){this.useCalcMode||this.router.navigate(["./create"],{relativeTo:this.activatedRoute})}},{key:"onEdit",value:function(t){this.useCalcMode||this.router.navigate(["./"+t+"/edit"],{relativeTo:this.activatedRoute})}},{key:"onDetail",value:function(t){this.useCalcMode||this.router.navigate(["./"+t+"/detail"],{relativeTo:this.activatedRoute})}},{key:"onSave",value:function(t){this.useCalcMode&&((null==t?void 0:t.id)>0?this.canEdit&&this.store.dispatch(v({notification:t})):this.canAdd&&this.store.dispatch(m({notification:t})))}},{key:"onDelete",value:function(){this.selectedNotifications&&this.canDelete&&this.store.dispatch(g({ids:this.selectedNotifications.map((function(t){return t.id}))}))}},{key:"onSelectedElementsChanged",value:function(t){this.selectedNotifications=t}},{key:"onPageSizeChange",value:function(t){this.pageSize=t}},{key:"onLoadLazy",value:function(t){this.store.dispatch(p({event:t}))}},{key:"searchGlobalChanged",value:function(t){this.globalSearchValue=t}},{key:"displayedColumnsChanged",value:function(t){this.displayedColumns=t}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(t){this.viewPreference=t}},{key:"onExportCSV",value:function(){var t=this,e={};this.columns.map((function(i){return e[i.value.split(".")[1]]=t.translateService.instant(i.value)}));var i=Object.assign({columns:e},this.notificationListComponent.getLazyLoadMetadata());this.notificationDas.getFile(i).subscribe((function(e){X.saveAs(e,t.translateService.instant("app.notifications")+".csv")}))}},{key:"setPermissions",value:function(){this.canEdit=this.authService.hasPermission(q.a.Notification_Update),this.canDelete=this.authService.hasPermission(q.a.Notification_Delete),this.canAdd=this.authService.hasPermission(q.a.Notification_Create)}},{key:"initTableConfiguration",value:function(){var t=this;this.biaTranslationService.culture$.subscribe((function(e){t.tableConfiguration={columns:[new J.b("title","notification.title"),new J.b("description","notification.description"),Object.assign(new J.b("type","notification.type.title"),{type:J.c.OneToMany,translateKey:"notification.type.",searchPlaceholder:"task|info|success|warn|error"}),Object.assign(new J.b("read","notification.read"),{isSearchable:!1,type:J.c.Boolean}),Object.assign(new J.b("createdDate","notification.createdDate"),{type:J.c.Date,formatDate:e.dateFormat}),Object.assign(new J.b("createdBy","notification.createdBy"),{type:J.c.OneToMany}),Object.assign(new J.b("notifiedPermissions","notification.notifiedPermissions"),{type:J.c.ManyToMany,translateKey:"permission."}),Object.assign(new J.b("notifiedUsers","notification.notifiedUsers"),{type:J.c.ManyToMany}),new J.b("jData","notification.jData")]},t.columns=t.tableConfiguration.columns.map((function(t){return{key:t.field,value:t.header}})),t.displayedColumns=_toConsumableArray(t.columns)}))}}]),t}()).\u0275fac=function(t){return new(t||Ve)(j.Nb(a.b),j.Nb(o.c),j.Nb(o.a),j.Nb(Q.a),j.Nb(w),j.Nb(Bt.d),j.Nb(H.a),j.Nb(Z),j.Nb(It))},Ve.\u0275cmp=j.Hb({type:Ve,selectors:[["app-notifications-index"]],viewQuery:function(t,e){var i;1&t&&j.Mc(K.a,!0),2&t&&j.xc(i=j.cc())&&(e.notificationListComponent=i.first)},hostVars:2,hostBindings:function(t,e){2&t&&j.Fb("bia-flex",e.flex)},decls:8,vars:16,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","tableStateKey","edit","loadLazy","selectedElementsChanged",4,"ngIf"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save",4,"ngIf"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","tableStateKey","edit","loadLazy","selectedElementsChanged"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save"]],template:function(t,e){1&t&&(j.Tb(0,"div",0),j.Tb(1,"div",1),j.Tb(2,"bia-table-header",2),j.bc("create",(function(){return e.onCreate()}))("exportCSV",(function(){return e.onExportCSV()}))("delete",(function(){return e.onDelete()})),j.ec(3,"translate"),j.Sb(),j.Tb(4,"bia-table-controller",3),j.bc("displayedColumnsChange",(function(t){return e.displayedColumnsChanged(t)}))("filter",(function(t){return e.searchGlobalChanged(t)}))("pageSizeChange",(function(t){return e.onPageSizeChange(t)}))("toggleSearch",(function(){return e.onToggleSearch()}))("viewChange",(function(t){return e.onViewChange(t)})),j.ec(5,"async"),j.Sb(),j.Gc(6,Ke,4,18,"bia-table",4),j.Gc(7,Je,5,22,"app-notification-table",5),j.Sb(),j.Sb()),2&t&&(j.Bb(2),j.lc("headerTitle",j.fc(3,12,"notification.listOf"))("canAdd",e.canAdd&&!e.useCalcMode)("canDelete",e.canDelete)("canExportCSV",!0)("selectedElements",e.selectedNotifications),j.Bb(2),j.lc("defaultPageSize",e.defaultPageSize)("length",j.fc(5,14,e.totalCount$))("columns",e.columns)("columnToDisplays",e.displayedColumns)("tableStateKey",e.tableStateKey),j.Bb(2),j.lc("ngIf",!e.useCalcMode),j.Bb(1),j.lc("ngIf",e.useCalcMode))},directives:[kt.d,kt.b,Nt.a,_t.a,$t.m,K.a,Ue],pipes:[Bt.c,$t.b],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),Ve),Xe=i("PCNd"),He=i("zFJ7"),qe=i("jIHw"),We=i("wItY"),Ye=i("S//O");function Ze(t,e){if(1&t&&(j.Ic(0),j.ec(1,"translateField")),2&t){var i=e.$implicit,n=j.dc();j.Kc(" ",j.ic(1,1,null==i?null:i.value,"display","notification.type.",n.translateService.currentLang)," ")}}function ti(t,e){if(1&t&&(j.Ic(0),j.ec(1,"translateField")),2&t){var i=e.$implicit,n=j.dc();j.Kc(" ",j.ic(1,1,null==i?null:i.value,"display","notification.type.",n.translateService.currentLang)," ")}}function ei(t,e){1&t&&(j.Tb(0,"div"),j.Ic(1,"\xa0"),j.Sb())}function ii(t,e){if(1&t&&(j.Tb(0,"div"),j.Ic(1),j.ec(2,"translateFields"),j.Sb()),2&t){var i=j.dc(2).$implicit,n=j.dc();j.Bb(1),j.Kc(" ",j.ic(2,1,i,"display","permission.",n.translateService.currentLang)," ")}}function ni(t,e){if(1&t&&(j.Tb(0,"div"),j.Ic(1),j.Sb()),2&t){var i=j.dc(2).$implicit;j.Bb(1),j.Kc(" ",i.length," items selected ")}}function oi(t,e){if(1&t&&(j.Rb(0),j.Gc(1,ei,2,0,"div",23),j.Gc(2,ii,3,6,"div",23),j.Gc(3,ni,2,1,"div",23),j.Qb()),2&t){var i=j.dc().$implicit;j.Bb(1),j.lc("ngIf",i.length<=0),j.Bb(1),j.lc("ngIf",i.length<=3),j.Bb(1),j.lc("ngIf",i.length>3)}}function ai(t,e){1&t&&j.Gc(0,oi,4,3,"ng-container",23),2&t&&j.lc("ngIf",e.$implicit)}function ci(t,e){if(1&t&&(j.Ic(0),j.ec(1,"translateField")),2&t){var i=e.$implicit,n=j.dc();j.Kc(" ",j.ic(1,1,null==i?null:i.value,"display","permission.",n.translateService.currentLang)," ")}}var ri,si,li,ui=function(){return{width:"100%"}},fi=function(){return{width:"100%"}},bi=((si=function(){function t(e,i){_classCallCheck(this,t),this.formBuilder=e,this.translateService=i,this.notification={},this.save=new j.n,this.cancel=new j.n,this.initForm()}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){this.notification&&(this.form.reset(),this.notification&&this.form.patchValue(Object.assign({},this.notification)))}},{key:"initForm",value:function(){this.form=this.formBuilder.group({id:[this.notification.id],title:[this.notification.title,Dt.o.required],description:[this.notification.description,Dt.o.required],type:[this.notification.type,Dt.o.required],read:[this.notification.read],createdDate:[this.notification.createdDate,Dt.o.required],createdBy:[this.notification.createdBy],notifiedPermissions:[this.notification.notifiedPermissions],notifiedUsers:[this.notification.notifiedUsers],jData:[this.notification.jData]})}},{key:"onCancel",value:function(){this.form.reset(),this.cancel.next()}},{key:"onSubmit",value:function(){var t,e;if(this.form.valid){var i=this.form.value;i.id=i.id>0?i.id:0,i.read=!!i.read&&i.read,i.createdBy=Rt.a.Clone(i.createdBy),i.notifiedPermissions=Rt.a.Differential(i.notifiedPermissions,null===(t=this.notification)||void 0===t?void 0:t.notifiedPermissions),i.notifiedUsers=Rt.a.Differential(i.notifiedUsers,null===(e=this.notification)||void 0===e?void 0:e.notifiedUsers),i.type=Object.assign({},i.type),this.save.emit(i),this.form.reset()}}}]),t}()).\u0275fac=function(t){return new(t||si)(j.Nb(Dt.b),j.Nb(Bt.d))},si.\u0275cmp=j.Hb({type:si,selectors:[["app-notification-form"]],inputs:{notification:"notification",userOptions:"userOptions",permissionOptions:"permissionOptions",notificationTypeOptions:"notificationTypeOptions"},outputs:{save:"save",cancel:"cancel"},features:[j.zb],decls:78,vars:61,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"md-inputfield"],["formControlName","title","type","text","pInputText","","maxlength","64",2,"width","100%"],[1,"bia-star-mandatory"],["formControlName","description","type","text","pInputText","","maxlength","256",2,"width","100%"],["placeholder","\xa0","formControlName","type","optionLabel","display","datakey","id",3,"options"],["pTemplate","item"],["pTemplate","selectedItem"],["binary","true","formControlName","read",3,"label"],["biaLocale","","formControlName","createdDate","placeholder","\xa0","dateFormat","yy-mm-dd",3,"showButtonBar","inputStyle"],["placeholder","\xa0","formControlName","createdBy","optionLabel","display","datakey","id",3,"options","showClear"],["defaultLabel","\xa0","formControlName","notifiedPermissions","optionLabel","display","datakey","id",3,"options","virtualScroll"],["pTemplate","selectedItems"],["defaultLabel","\xa0","formControlName","notifiedUsers","optionLabel","display","datakey","id",3,"options","virtualScroll"],["fxFlex","90"],[2,"left","5px","top","-20px","font-size","12px","color","#00839b"],[1,"p-float-label"],["formControlName","jData","rows","5","autoResize","autoResize","pInputTextarea","",2,"width","100%",3,"cols"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"ui-button-secondary",3,"label","click"],[4,"ngIf"]],template:function(t,e){1&t&&(j.Tb(0,"form",0),j.bc("submit",(function(){return e.onSubmit()})),j.Tb(1,"div",1),j.Tb(2,"div",2),j.Tb(3,"span",3),j.Ob(4,"input",4),j.Tb(5,"label"),j.Tb(6,"span",5),j.Ic(7,"*"),j.Sb(),j.Ic(8),j.ec(9,"translate"),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Tb(10,"div",1),j.Tb(11,"div",2),j.Tb(12,"span",3),j.Ob(13,"input",6),j.Tb(14,"label"),j.Tb(15,"span",5),j.Ic(16,"*"),j.Sb(),j.Ic(17),j.ec(18,"translate"),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Tb(19,"div",1),j.Tb(20,"div",2),j.Tb(21,"span",3),j.Tb(22,"p-dropdown",7),j.Gc(23,Ze,2,6,"ng-template",8),j.Gc(24,ti,2,6,"ng-template",9),j.Sb(),j.Tb(25,"label"),j.Tb(26,"span",5),j.Ic(27,"*"),j.Sb(),j.Ic(28),j.ec(29,"translate"),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Tb(30,"div",1),j.Tb(31,"div",2),j.Ob(32,"p-checkbox",10),j.ec(33,"translate"),j.Sb(),j.Sb(),j.Tb(34,"div",1),j.Tb(35,"div",2),j.Tb(36,"span",3),j.Ob(37,"p-calendar",11),j.Tb(38,"label"),j.Tb(39,"span",5),j.Ic(40,"*"),j.Sb(),j.Ic(41),j.ec(42,"translate"),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Tb(43,"div",1),j.Tb(44,"div",2),j.Tb(45,"span",3),j.Ob(46,"p-dropdown",12),j.Tb(47,"label"),j.Ic(48),j.ec(49,"translate"),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Tb(50,"div",1),j.Tb(51,"div",2),j.Tb(52,"span",3),j.Tb(53,"p-multiSelect",13),j.Gc(54,ai,1,1,"ng-template",14),j.Gc(55,ci,2,6,"ng-template",8),j.Sb(),j.Tb(56,"label"),j.Ic(57),j.ec(58,"translate"),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Tb(59,"div",1),j.Tb(60,"div",2),j.Tb(61,"span",3),j.Ob(62,"p-multiSelect",15),j.Tb(63,"label"),j.Ic(64),j.ec(65,"translate"),j.Sb(),j.Sb(),j.Sb(),j.Sb(),j.Tb(66,"div",1),j.Tb(67,"div",16),j.Tb(68,"span",17),j.Ic(69),j.ec(70,"translate"),j.Sb(),j.Tb(71,"span",18),j.Ob(72,"textarea",19),j.Sb(),j.Sb(),j.Sb(),j.Tb(73,"div",20),j.Ob(74,"button",21),j.ec(75,"translate"),j.Tb(76,"button",22),j.bc("click",(function(){return e.onCancel()})),j.ec(77,"translate"),j.Sb(),j.Sb(),j.Sb()),2&t&&(j.lc("formGroup",e.form),j.Bb(8),j.Jc(j.fc(9,33,"notification.title")),j.Bb(9),j.Jc(j.fc(18,35,"notification.description")),j.Bb(5),j.Ec(j.oc(55,ui)),j.lc("options",e.notificationTypeOptions),j.Bb(6),j.Jc(j.fc(29,37,"notification.type.title")),j.Bb(4),j.mc("label",j.fc(33,39,"notification.read")),j.Bb(5),j.Ec(j.oc(56,fi)),j.lc("showButtonBar",!0)("inputStyle",j.oc(57,fi)),j.Bb(4),j.Jc(j.fc(42,41,"notification.createdDate")),j.Bb(5),j.Ec(j.oc(58,ui)),j.lc("options",e.userOptions)("showClear",!0),j.Bb(2),j.Jc(j.fc(49,43,"notification.createdBy")),j.Bb(5),j.Ec(j.oc(59,ui)),j.lc("options",e.permissionOptions)("virtualScroll",!0),j.Bb(4),j.Jc(j.fc(58,45,"notification.notifiedPermissions")),j.Bb(5),j.Ec(j.oc(60,ui)),j.lc("options",e.userOptions)("virtualScroll",!0),j.Bb(2),j.Jc(j.fc(65,47,"notification.notifiedUsers")),j.Bb(5),j.Jc(j.fc(70,49,"notification.jData")),j.Bb(3),j.lc("cols",60),j.Bb(2),j.mc("label",j.fc(75,51,"bia.save")),j.lc("disabled",!e.form.valid),j.Bb(2),j.mc("label",j.fc(77,53,"bia.cancel")))},directives:[Dt.p,Dt.k,kt.d,Dt.f,kt.c,kt.b,Dt.a,Dt.j,Dt.e,Et.a,Dt.h,xt.a,Gt.e,Mt.a,Ft.a,Ut.a,At.a,He.a,kt.e,qe.b,$t.m],pipes:[Bt.c,We.a,Ye.a],styles:[".app-field-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}"]}),si),di=((ri=function(){function t(e,i,n,o){_classCallCheck(this,t),this.store=e,this.router=i,this.activatedRoute=n,this.notificationOptionsService=o}return _createClass(t,[{key:"ngOnInit",value:function(){this.notificationOptionsService.loadAllOptions()}},{key:"onSubmitted",value:function(t){this.store.dispatch(m({notification:t})),this.router.navigate(["../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}]),t}()).\u0275fac=function(t){return new(t||ri)(j.Nb(a.b),j.Nb(o.c),j.Nb(o.a),j.Nb(It))},ri.\u0275cmp=j.Hb({type:ri,selectors:[["app-notification-new"]],decls:4,vars:9,consts:[[3,"notificationTypeOptions","permissionOptions","userOptions","cancel","save"]],template:function(t,e){1&t&&(j.Tb(0,"app-notification-form",0),j.bc("cancel",(function(){return e.onCancelled()}))("save",(function(t){return e.onSubmitted(t)})),j.ec(1,"async"),j.ec(2,"async"),j.ec(3,"async"),j.Sb()),2&t&&j.lc("notificationTypeOptions",j.fc(1,3,e.notificationOptionsService.notificationTypeOptions$))("permissionOptions",j.fc(2,5,e.notificationOptionsService.permissionOptions$))("userOptions",j.fc(3,7,e.notificationOptionsService.userOptions$))},directives:[bi],pipes:[$t.b],styles:[""]}),ri),pi=i("quSY"),hi=((li=function(){function t(e){_classCallCheck(this,t),this.store=e,this.sub=new pi.a,this.InitSub(),this.loading$=this.store.select(P),this.notification$=this.store.select(G)}return _createClass(t,[{key:"InitSub",value:function(){var t=this;this.sub=new pi.a,this.sub.add(this.store.select(G).subscribe((function(e){e&&(t._currentNotification=e)})))}},{key:"currentNotification",get:function(){var t;return(null===(t=this._currentNotification)||void 0===t?void 0:t.id)===this._currentNotificationId?this._currentNotification:null}},{key:"currentNotificationId",get:function(){return this._currentNotificationId},set:function(t){this._currentNotificationId=Number(t),this.store.dispatch(h({id:t}))}},{key:"currentNotificationData",get:function(){return this._currentNotification.jData}}]),t}()).\u0275fac=function(t){return new(t||li)(j.Xb(a.b))},li.\u0275prov=j.Jb({token:li,factory:li.\u0275fac,providedIn:"root"}),li),mi=i("y0gQ");function vi(t,e){1&t&&j.Ob(0,"bia-spinner",2),2&t&&j.lc("overlay",!0)}var yi,gi=((yi=function(){function t(e,i,n,o,a){_classCallCheck(this,t),this.store=e,this.router=i,this.activatedRoute=n,this.notificationOptionsService=o,this.notificationService=a,this.displayChange=new j.n,this.sub=new pi.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.notificationOptionsService.loadAllOptions()}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(t){this.store.dispatch(v({notification:t})),this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}}]),t}()).\u0275fac=function(t){return new(t||yi)(j.Nb(a.b),j.Nb(o.c),j.Nb(o.a),j.Nb(It),j.Nb(hi))},yi.\u0275cmp=j.Hb({type:yi,selectors:[["app-notification-edit"]],outputs:{displayChange:"displayChange"},decls:8,vars:18,consts:[[3,"notification","notificationTypeOptions","permissionOptions","userOptions","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(t,e){1&t&&(j.Tb(0,"app-notification-form",0),j.bc("cancel",(function(){return e.onCancelled()}))("save",(function(t){return e.onSubmitted(t)})),j.ec(1,"async"),j.ec(2,"async"),j.ec(3,"async"),j.ec(4,"async"),j.ec(5,"async"),j.Sb(),j.Gc(6,vi,1,1,"bia-spinner",1),j.ec(7,"async")),2&t&&(j.lc("notification",j.fc(1,6,e.notificationService.notification$))("notificationTypeOptions",j.fc(2,8,e.notificationOptionsService.notificationTypeOptions$))("permissionOptions",j.fc(3,10,e.notificationOptionsService.permissionOptions$))("userOptions",j.fc(4,12,e.notificationOptionsService.userOptions$))("notificationTypeOptions",j.fc(5,14,e.notificationOptionsService.notificationTypeOptions$)),j.Bb(6),j.lc("ngIf",j.fc(7,16,e.notificationService.loading$)))},directives:[bi,$t.m,mi.a],pipes:[$t.b],styles:[""]}),yi),Si=i("+dww"),Oi=i("95+j");function Ci(t,e){1&t&&j.Ob(0,"bia-spinner",1),2&t&&j.lc("overlay",!0)}var Ti,ji,wi,Ii,Bi,ki,Ni,_i=((Ti=function(){function t(e,i,n,o){_classCallCheck(this,t),this.store=e,this.route=i,this.notificationService=n,this.layoutService=o,this.sub=new pi.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.notificationService.currentNotificationId=this.route.snapshot.params.notificationId,this.sub.add(this.store.select(G).subscribe((function(e){(null==e?void 0:e.title)&&(t.route.data.pipe(Object(W.a)()).subscribe((function(t){t.breadcrumb=e.title})),t.layoutService.refreshBreadcrumb())})))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ti)(j.Nb(a.b),j.Nb(o.a),j.Nb(hi),j.Nb(Oi.a))},Ti.\u0275cmp=j.Hb({type:Ti,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(t,e){1&t&&(j.Ob(0,"router-outlet"),j.Gc(1,Ci,1,1,"bia-spinner",0),j.ec(2,"async")),2&t&&(j.Bb(1),j.lc("ngIf",j.fc(2,1,e.notificationService.loading$)))},directives:[o.h,$t.m,mi.a],pipes:[$t.b],styles:[""]}),Ti),$i=i("PW2p"),Di=i("iW9+"),Ri=((Ii=function(t){_inherits(i,t);var e=_createSuper(i);function i(t){return _classCallCheck(this,i),e.call(this,t,"Permissions")}return i}(T.a)).\u0275fac=function(t){return new(t||Ii)(j.Xb(j.r))},Ii.\u0275prov=j.Jb({token:Ii,factory:Ii.\u0275fac,providedIn:"root"}),Ii),Li=((wi=function t(e,i,n){var o=this;_classCallCheck(this,t),this.actions$=e,this.permissionDas=i,this.biaMessageService=n,this.loadAll$=Object(c.c)((function(){return o.actions$.pipe(Object(c.d)(bt),Object(l.a)((function(){return o.permissionDas.getList("allOptions").pipe(Object(u.a)((function(t){return dt({permissions:t})})),Object(f.a)((function(t){return o.biaMessageService.showError(),Object(r.a)(pt({error:t}))})))})))}))}).\u0275fac=function(t){return new(t||wi)(j.Xb(c.a),j.Xb(Ri),j.Xb(M.a))},wi.\u0275prov=j.Jb({token:wi,factory:wi.\u0275fac}),wi),zi=((ji=function t(){_classCallCheck(this,t)}).\u0275mod=j.Lb({type:ji}),ji.\u0275inj=j.Kb({factory:function(t){return new(t||ji)},providers:[],imports:[[a.d.forFeature("domain-permission-options",yt),c.b.forFeature([Li])]]}),ji),Gi=i("smYE"),Ei=((Ni=function(t){_inherits(i,t);var e=_createSuper(i);function i(t){return _classCallCheck(this,i),e.call(this,t,"NotificationTypes")}return i}(T.a)).\u0275fac=function(t){return new(t||Ni)(j.Xb(j.r))},Ni.\u0275prov=j.Jb({token:Ni,factory:Ni.\u0275fac,providedIn:"root"}),Ni),Pi=((ki=function t(e,i,n){var o=this;_classCallCheck(this,t),this.actions$=e,this.notificationTypeDas=i,this.biaMessageService=n,this.loadAll$=Object(c.c)((function(){return o.actions$.pipe(Object(c.d)(it),Object(l.a)((function(){return o.notificationTypeDas.getList("allOptions").pipe(Object(u.a)((function(t){return nt({notificationTypes:t})})),Object(f.a)((function(t){return o.biaMessageService.showError(),Object(r.a)(ot({error:t}))})))})))}))}).\u0275fac=function(t){return new(t||ki)(j.Xb(c.a),j.Xb(Ei),j.Xb(M.a))},ki.\u0275prov=j.Jb({token:ki,factory:ki.\u0275fac}),ki),xi=((Bi=function t(){_classCallCheck(this,t)}).\u0275mod=j.Lb({type:Bi}),Bi.\u0275inj=j.Kb({factory:function(t){return new(t||Bi)},imports:[[a.d.forFeature("domain-notification-type-options",st),c.b.forFeature([Pi])]]}),Bi);function Ai(t,e){if(1&t&&(j.Tb(0,"div",7),j.Tb(1,"div"),j.Tb(2,"b"),j.Ic(3),j.ec(4,"translate"),j.Sb(),j.Ob(5,"br"),j.Ic(6),j.ec(7,"translate"),j.Sb(),j.Tb(8,"div"),j.Tb(9,"b"),j.Ic(10),j.ec(11,"translate"),j.Sb(),j.Ob(12,"br"),j.Ic(13),j.ec(14,"translate"),j.Sb(),j.Tb(15,"div"),j.Tb(16,"b"),j.Ic(17),j.ec(18,"translate"),j.Sb(),j.Ob(19,"br"),j.Ic(20),j.ec(21,"date"),j.Sb(),j.Tb(22,"div"),j.Tb(23,"b"),j.Ic(24),j.ec(25,"translate"),j.Sb(),j.Ob(26,"br"),j.Ic(27),j.ec(28,"translate"),j.Sb(),j.Sb()),2&t){var i=j.dc().ngIf;j.Bb(3),j.Jc(j.fc(4,8,"notification.title")),j.Bb(3),j.Jc(j.fc(7,10,i.title)),j.Bb(4),j.Jc(j.fc(11,12,"notification.description")),j.Bb(3),j.Kc("",j.fc(14,14,i.description)," "),j.Bb(4),j.Jc(j.fc(18,16,"notification.createdDate")),j.Bb(3),j.Jc(j.gc(21,18,i.createdDate,"short")),j.Bb(4),j.Jc(j.fc(25,21,"notification.type.title")),j.Bb(3),j.Jc(j.fc(28,23,"notification.type."+i.type.display))}}function Mi(t,e){if(1&t){var i=j.Ub();j.Tb(0,"button",8),j.bc("click",(function(){j.zc(i);var t=j.dc().ngIf;return j.dc().onAction(t)})),j.ec(1,"translate"),j.Sb()}2&t&&j.mc("label",j.fc(1,1,"notification.action"))}function Fi(t,e){if(1&t){var i=j.Ub();j.Tb(0,"button",6),j.bc("click",(function(){return j.zc(i),j.dc(2).onEdit()})),j.ec(1,"translate"),j.Sb()}2&t&&j.mc("label",j.fc(1,1,"bia.edit"))}function Ui(t,e){if(1&t){var i=j.Ub();j.Rb(0),j.Gc(1,Ai,29,25,"div",2),j.Tb(2,"div",3),j.Gc(3,Mi,2,3,"button",4),j.Gc(4,Fi,2,3,"button",5),j.Tb(5,"button",6),j.bc("click",(function(){return j.zc(i),j.dc().onCancelled()})),j.ec(6,"translate"),j.Sb(),j.Sb(),j.Qb()}if(2&t){var n=e.ngIf,o=j.dc();j.Bb(1),j.lc("ngIf",n&&n.id),j.Bb(2),j.lc("ngIf",o.canAction(n)),j.Bb(1),j.lc("ngIf",o.canEdit),j.Bb(1),j.mc("label",j.fc(6,4,"bia.cancel"))}}function Ki(t,e){1&t&&j.Ob(0,"bia-spinner",9),2&t&&j.lc("overlay",!0)}var Ji,Vi,Qi=[{path:"",data:{breadcrumb:null,permission:q.a.Notification_List_Access,InjectComponent:Qe},component:Di.a,canActivate:[Si.a],children:[{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:q.a.Notification_Create,title:"notification.add",InjectComponent:di},component:$i.a,canActivate:[Si.a]},{path:":notificationId",data:{breadcrumb:"",canNavigate:!0},component:_i,canActivate:[Si.a],children:[{path:"edit",data:{breadcrumb:"bia.edit",canNavigate:!0,permission:q.a.Notification_Update,title:"notification.edit",InjectComponent:gi},component:Di.a,canActivate:[Si.a]},{path:"detail",data:{breadcrumb:"bia.detail",canNavigate:!0,permission:q.a.Notification_Read,title:"notification.detail",InjectComponent:(Ji=function(){function t(e,i,n,o,a){_classCallCheck(this,t),this.store=e,this.router=i,this.activatedRoute=n,this.authService=o,this.notificationService=a,this.displayChange=new j.n,this.sub=new pi.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.notification$=this.notificationService.notification$,this.canEdit=this.authService.hasPermission(q.a.Notification_Update)}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(t){this.store.dispatch(v({notification:t})),this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}},{key:"onCancelled",value:function(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}},{key:"onEdit",value:function(){this.router.navigate(["../edit"],{relativeTo:this.activatedRoute})}},{key:"canAction",value:function(t){if(t.jData){var e=JSON.parse(t.jData);if(null==e?void 0:e.route)return!0}return!1}},{key:"onAction",value:function(t){if(t.jData){var e=JSON.parse(t.jData);(null==e?void 0:e.route)&&this.router.navigate(e.route)}}}]),t}(),Ji.\u0275fac=function(t){return new(t||Ji)(j.Nb(a.b),j.Nb(o.c),j.Nb(o.a),j.Nb(Q.a),j.Nb(hi))},Ji.\u0275cmp=j.Hb({type:Ji,selectors:[["app-notification-detail"]],outputs:{displayChange:"displayChange"},decls:4,vars:6,consts:[[4,"ngIf"],[3,"overlay",4,"ngIf"],["fxLayout","column","fxLayoutWrap","","fxLayoutAlign","space-evenly",4,"ngIf"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","button","class","ui-button-primary",3,"label","click",4,"ngIf"],["pButton","","type","button","class","ui-button-secondary",3,"label","click",4,"ngIf"],["pButton","","type","button",1,"ui-button-secondary",3,"label","click"],["fxLayout","column","fxLayoutWrap","","fxLayoutAlign","space-evenly"],["pButton","","type","button",1,"ui-button-primary",3,"label","click"],[3,"overlay"]],template:function(t,e){1&t&&(j.Gc(0,Ui,7,6,"ng-container",0),j.ec(1,"async"),j.Gc(2,Ki,1,1,"bia-spinner",1),j.ec(3,"async")),2&t&&(j.lc("ngIf",j.fc(1,2,e.notification$)),j.Bb(2),j.lc("ngIf",j.fc(3,4,e.loading$)))},directives:[$t.m,kt.d,kt.e,kt.c,qe.b,mi.a],pipes:[$t.b,Bt.c,$t.e],styles:[""]}),Ji)},component:$i.a,canActivate:[Si.a]},{path:"",redirectTo:"edit"}]}]},{path:"**",redirectTo:""}],Xi=((Vi=function t(){_classCallCheck(this,t)}).\u0275mod=j.Lb({type:Vi}),Vi.\u0275inj=j.Kb({factory:function(t){return new(t||Vi)},imports:[[Xe.a,o.g.forChild(Qi),a.d.forFeature("notifications",_),c.b.forFeature([U]),zi,xi,Gi.a]]}),Vi)}}]);