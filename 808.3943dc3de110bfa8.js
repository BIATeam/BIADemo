"use strict";(self.webpackChunkBIADemo=self.webpackChunkBIADemo||[]).push([[808],{6808:(W,w,i)=>{i.r(w),i.d(w,{PlaneModule:()=>Ct,ROUTES:()=>B});var I=i(4490),R=i(4394),L=i(136),d=i(9157);const X={columns:[Object.assign(new d.kc("msn","plane.msn"),{isRequired:!0}),Object.assign(new d.kc("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:d.d5.Boolean}),Object.assign(new d.kc("lastFlightDate","plane.lastFlightDate"),{type:d.d5.DateTime}),Object.assign(new d.kc("deliveryDate","plane.deliveryDate"),{type:d.d5.Date}),Object.assign(new d.kc("syncTime","plane.syncTime"),{type:d.d5.TimeSecOnly}),Object.assign(new d.kc("capacity","plane.capacity"),{type:d.d5.Number,filterMode:d.ZF.Equals,isRequired:!0}),Object.assign(new d.kc("planeType","plane.planeType"),{type:d.d5.OneToMany}),Object.assign(new d.kc("connectingAirports","plane.connectingAirports"),{type:d.d5.ManyToMany})]},p=new R.B({featureName:"planes",fieldsConfig:X,useCalcMode:!1,useSignalR:!1,useView:!1,useViewTeamWithTypeId:L.k0.Site,usePopup:!0,useOfflineMode:!1});var r,n,N=i(1564),y=i(9206),k=i(2338),q=i(9362),ee=i(5685),s=i(5094);(n=r||(r={})).loadAllByPost=(0,s.PH)("["+p.storeKey+"] Load all by post",(0,s.Ky)()),n.load=(0,s.PH)("["+p.storeKey+"] Load",(0,s.Ky)()),n.create=(0,s.PH)("["+p.storeKey+"] Create",(0,s.Ky)()),n.update=(0,s.PH)("["+p.storeKey+"] Update",(0,s.Ky)()),n.remove=(0,s.PH)("["+p.storeKey+"] Remove",(0,s.Ky)()),n.multiRemove=(0,s.PH)("["+p.storeKey+"] Multi Remove",(0,s.Ky)()),n.loadAllByPostSuccess=(0,s.PH)("["+p.storeKey+"] Load all by post success",(0,s.Ky)()),n.loadSuccess=(0,s.PH)("["+p.storeKey+"] Load success",(0,s.Ky)()),n.failure=(0,s.PH)("["+p.storeKey+"] Failure",(0,s.Ky)());const F=(0,ee.H)({selectId:n=>n.id,sortComparer:!1}),te=F.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),ne=(0,s.Lq)(te,(0,s.on)(r.loadAllByPost,(n,{})=>Object.assign(Object.assign({},n),{loadingGetAll:!0})),(0,s.on)(r.load,n=>Object.assign(Object.assign({},n),{loadingGet:!0})),(0,s.on)(r.loadAllByPostSuccess,(n,{result:l,event:t})=>{const a=F.setAll(l.data,n);return a.totalCount=l.totalCount,a.lastLazyLoadEvent=t,a.loadingGetAll=!1,a}),(0,s.on)(r.loadSuccess,(n,{plane:l})=>Object.assign(Object.assign({},n),{currentPlane:l,loadingGet:!1})),(0,s.on)(r.failure,(n,{})=>Object.assign(Object.assign({},n),{loadingGetAll:!1,loadingGet:!1})));var g;!function(n){n.reducers=function l(t,a){return(0,s.UY)({planes:ne})(t,a)},n.getPlanesState=(0,s.ZF)(p.storeKey),n.getPlanesEntitiesState=(0,s.P1)(n.getPlanesState,t=>t.planes),n.getPlanesTotalCount=(0,s.P1)(n.getPlanesEntitiesState,t=>t.totalCount),n.getCurrentPlane=(0,s.P1)(n.getPlanesEntitiesState,t=>t.currentPlane),n.getLastLazyLoadEvent=(0,s.P1)(n.getPlanesEntitiesState,t=>t.lastLazyLoadEvent),n.getPlaneLoadingGet=(0,s.P1)(n.getPlanesEntitiesState,t=>t.loadingGet),n.getPlaneLoadingGetAll=(0,s.P1)(n.getPlanesEntitiesState,t=>t.loadingGetAll),n.getAllPlanes=F.getSelectors(n.getPlanesEntitiesState).selectAll,n.getPlaneById=t=>(0,s.P1)(n.getPlanesEntitiesState,(n=>l=>l.entities[n])(t))}(g||(g={}));var oe=i(6053),h=i(4850),le=i(1688),ie=i(9931),se=i(9795),ce=i(7597),Y=i(4529),re=i(7358),e=i(5e3);let pe=(()=>{class n extends re.O{constructor(t){super(),this.store=t,this.planeTypeOptions$=this.store.select(se.by),this.airportOptions$=this.store.select(le.HJ),this.dictOptionDtos$=(0,oe.aj)([this.planeTypeOptions$,this.airportOptions$]).pipe((0,h.U)(a=>[new Y.b("planeType",a[0]),new Y.b("connectingAirports",a[1])]))}loadAllOptions(){this.store.dispatch(ce.l.loadAll()),this.store.dispatch(ie.q.loadAll())}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(s.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _e=i(4147);let Q=(()=>{class n extends _e.Z{constructor(t){super(t,"Planes")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.zs3))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var de=i(3248);let O=(()=>{class n extends q.c{constructor(t,a,o,c,_){super(a,o,c),this.store=t,this.dasService=a,this.signalRService=o,this.optionsService=c,this.authService=_,this.crudItems$=this.store.select(g.getAllPlanes),this.totalCount$=this.store.select(g.getPlanesTotalCount),this.loadingGetAll$=this.store.select(g.getPlaneLoadingGetAll),this.lastLazyLoadEvent$=this.store.select(g.getLastLazyLoadEvent),this.crudItem$=this.store.select(g.getCurrentPlane),this.loadingGet$=this.store.select(g.getPlaneLoadingGet)}getParentIds(){return[this.authService.getCurrentTeamId(L.k0.Site)]}getFeatureName(){return p.featureName}load(t){this.store.dispatch(r.load({id:t}))}loadAllByPost(t){this.store.dispatch(r.loadAllByPost({event:t}))}create(t){t.siteId=this.getParentIds()[0],this.store.dispatch(r.create({plane:t}))}update(t){this.store.dispatch(r.update({plane:t}))}remove(t){this.store.dispatch(r.remove({id:t}))}multiRemove(t){this.store.dispatch(r.multiRemove({ids:t}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(s.yh),e.LFG(Q),e.LFG(de.z),e.LFG(pe),e.LFG(N.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var me=i(9238),A=i(3075),G=i(42),J=i(7171),f=i(9808),C=i(4851),K=i(9783),ue=i(7605),ge=i(8786),fe=i(2081);function be(n,l){1&n&&(e.TgZ(0,"th",10),e._UZ(1,"p-tableHeaderCheckbox"),e.qZA())}function Ce(n,l){if(1&n&&(e.TgZ(0,"th",13),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"p-sortIcon",14),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",e.lcZ(2,3,null==t?null:t.header)," "),e.xp6(2),e.Q6J("field",t.field)}}function he(n,l){if(1&n&&(e.TgZ(0,"th",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==t?null:t.header)," ")}}function ve(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Ce,4,5,"th",11),e.YNc(2,he,3,3,"th",12),e.BQk()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",!0===(null==t?null:t.isSortable)),e.xp6(1),e.Q6J("ngIf",!0!==(null==t?null:t.isSortable))}}function ye(n,l){1&n&&e._UZ(0,"th")}function Te(n,l){if(1&n&&(e.TgZ(0,"th",19),e._UZ(1,"bia-table-filter",20),e.qZA()),2&n){const t=l.$implicit;e.oxw(3);const a=e.MAs(1);e.Q6J("ngSwitch",t.field),e.xp6(1),e.Q6J("col",t)("table",a)}}function xe(n,l){if(1&n&&(e.TgZ(0,"tr",16),e.YNc(1,ye,1,0,"th",17),e.YNc(2,Te,2,3,"th",18),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",a.canSelectElement),e.xp6(1),e.Q6J("ngForOf",t)}}function Pe(n,l){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,be,2,0,"th",7),e.YNc(2,ve,3,2,"ng-container",8),e.qZA(),e.YNc(3,xe,3,2,"tr",9)),2&n){const t=l.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",a.canSelectElement),e.xp6(1),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",a.showColSearch)}}function Se(n,l){if(1&n&&e._UZ(0,"p-tableCheckbox",25),2&n){const t=e.oxw(2).$implicit;e.Q6J("value",t)}}function we(n,l){1&n&&e._UZ(0,"i",26)}function Ie(n,l){if(1&n&&(e.TgZ(0,"td"),e.YNc(1,Se,1,1,"p-tableCheckbox",23),e.YNc(2,we,1,0,"i",24),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!0!==a.isFooter(t)&&t.id>0),e.xp6(1),e.Q6J("ngIf",!0===a.isFooter(t))}}function Le(n,l){1&n&&e.GkF(0)}const Oe=function(n,l){return{field:n,form:l}};function Ae(n,l){if(1&n&&e.YNc(0,Le,1,0,"ng-container",34),2&n){const t=e.oxw(3).$implicit,a=e.oxw(3);e.Q6J("ngTemplateOutlet",a.specificInputTemplate)("ngTemplateOutletContext",e.WLB(2,Oe,t,a.form))}}function Ze(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"bia-table-input",32),e.NdJ("valueChange",function(){return e.CHM(t),e.oxw(5).onChange()})("complexInput",function(o){return e.CHM(t),e.oxw(5).onComplexInput(o)}),e.YNc(1,Ae,1,5,"ng-template",33),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,a=e.oxw(3);e.Q6J("field",t)("form",a.form)("dictOptionDtos",a.dictOptionDtos)}}function Ee(n,l){1&n&&e.GkF(0)}const j=function(n,l){return{field:n,data:l}};function Me(n,l){if(1&n&&e.YNc(0,Ee,1,0,"ng-container",34),2&n){const t=e.oxw(4).$implicit,a=e.oxw().$implicit,o=e.oxw(2);e.Q6J("ngTemplateOutlet",o.specificOutputTemplate)("ngTemplateOutletContext",e.WLB(2,j,t,o.getCellData(a,t)))}}function De(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"bia-table-output",35),e.YNc(2,Me,1,5,"ng-template",36),e.qZA(),e.BQk()),2&n){const t=e.oxw(3).$implicit,a=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("field",t)("data",o.getCellData(a,t))}}function $e(n,l){if(1&n&&e.YNc(0,De,3,2,"ng-container",17),2&n){const t=e.oxw(3).$implicit,a=e.oxw(2);e.Q6J("ngIf",!0!==a.isFooter(t))}}function Ne(n,l){if(1&n&&(e.YNc(0,Ze,2,3,"ng-template",30),e.YNc(1,$e,1,1,"ng-template",null,31,e.W1O)),2&n){const t=e.MAs(2),a=e.oxw().$implicit;e.Q6J("ngIf",!0===a.isEditable)("ngIfElse",t)}}function Fe(n,l){1&n&&(e.TgZ(0,"label"),e._uU(1,"-"),e.qZA())}function Je(n,l){if(1&n&&e.YNc(0,Fe,2,0,"label",17),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngIf",!0===t.isEditable)}}function ze(n,l){1&n&&e.GkF(0)}function Re(n,l){if(1&n&&e.YNc(0,ze,1,0,"ng-container",34),2&n){const t=e.oxw(3).$implicit,a=e.oxw().$implicit,o=e.oxw(2);e.Q6J("ngTemplateOutlet",o.specificOutputTemplate)("ngTemplateOutletContext",e.WLB(2,j,t,o.getCellData(a,t)))}}function Ye(n,l){if(1&n&&(e.TgZ(0,"bia-table-output",35),e.YNc(1,Re,1,5,"ng-template",36),e.qZA()),2&n){const t=e.oxw(2).$implicit,a=e.oxw().$implicit,o=e.oxw(2);e.Q6J("field",t)("data",o.getCellData(a,t))}}function Qe(n,l){if(1&n&&(e.YNc(0,Je,1,1,"ng-template",30),e.YNc(1,Ye,2,2,"ng-template",null,37,e.W1O)),2&n){const t=e.MAs(2),a=e.oxw(2).$implicit,o=e.oxw(2);e.Q6J("ngIf",!0===o.isFooter(a))("ngIfElse",t)}}function Ge(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"td",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).initEditableRow(o)}),e.TgZ(1,"p-cellEditor"),e.YNc(2,Ne,3,2,"ng-template",28),e.YNc(3,Qe,3,2,"ng-template",29),e.qZA()()}}function Ke(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr",21),e.NdJ("focusout",function(){return e.CHM(t),e.oxw(2).onFocusout()})("keyup.enter",function(){return e.CHM(t),e.oxw(2).initEditableRow(null)})("keyup.escape",function(){return e.CHM(t),e.oxw(2).cancel()}),e.YNc(1,Ie,3,2,"td",17),e.YNc(2,Ge,4,0,"td",22),e.qZA()}if(2&n){const t=l.$implicit,a=l.columns,o=e.oxw(2);e.Q6J("pSelectableRow",!0!==o.isFooter(t)?t:null)("pEditableRow",t),e.xp6(1),e.Q6J("ngIf",o.canSelectElement),e.xp6(1),e.Q6J("ngForOf",a)}}function je(n,l){if(1&n&&(e.TgZ(0,"tr")(1,"td",38),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=l.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"bia.NoRecordsFound")," ")}}function Ve(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-table",2,3),e.NdJ("onFilter",function(){return e.CHM(t),e.oxw().onFilter()})("onLazyLoad",function(o){return e.CHM(t),e.oxw().onLoadLazy(o)})("onStateSave",function(o){return e.CHM(t),e.oxw().onStateSave(o)})("selectionChange",function(){return e.CHM(t),e.oxw().onSelectionChange()}),e.ALo(2,"async"),e.YNc(3,Pe,4,3,"ng-template",4),e.YNc(4,Ke,3,4,"ng-template",5),e.YNc(5,je,4,4,"ng-template",6),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("autoLayout",!0)("reorderableColumns",!0)("columns",t.displayedColumns)("value",t.elements)("paginator",t.paginator)("rows",t.pageSize)("totalRecords",t.totalRecord)("lazy",!0)("loading",t.loading&&null!==e.lcZ(2,14,t.showLoading$))("stateStorage","session")("stateKey",t.tableStateKey)("lazyLoadOnInit",t.getLazyLoadOnInit())("sortField",t.sortFieldValue)("sortOrder",t.sortOrderValue)}}let V=(()=>{class n extends me.M{constructor(t,a,o,c){super(t,a,o,c),this.formBuilder=t,this.authService=a,this.biaMessageService=o,this.translateService=c}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.qu),e.Y36(N.e),e.Y36(G.X),e.Y36(J.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-plane-table"]],features:[e.qOj],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],["class","searchTR",4,"ngIf"],[1,"bia-table-select-col"],["pReorderableColumn","",3,"pSortableColumn",4,"ngIf"],["pReorderableColumn","",4,"ngIf"],["pReorderableColumn","",3,"pSortableColumn"],[3,"field"],["pReorderableColumn",""],[1,"searchTR"],[4,"ngIf"],["pReorderableColumn","",3,"ngSwitch",4,"ngFor","ngForOf"],["pReorderableColumn","",3,"ngSwitch"],[3,"col","table"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[3,"field","form","dictOptionDtos","valueChange","complexInput"],["pTemplate","specificInput"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"field","data"],["pTemplate","specificOutput"],["editRow",""],[1,"app-empty-message"]],template:function(t,a){1&t&&(e.TgZ(0,"form",0),e.YNc(1,Ve,6,16,"p-table",1),e.qZA()),2&t&&(e.Q6J("formGroup",a.form),e.xp6(1),e.Q6J("ngIf",a.configuration))},directives:[A._Y,A.JL,A.sg,f.O5,C.iA,K.jx,C.Mo,f.sg,C.Af,C.lQ,C.fz,f.RF,ue.f,C.Ei,C.D$,C.UA,C.YL,ge.P,f.tP,fe.T],pipes:[f.Ov,J.X$],styles:["[_nghost-%COMP%]{flex-direction:column}[_nghost-%COMP%]     p-table .searchTR .p-float-label .p-inputtext{padding-top:2px!important}.app-empty-message[_ngcontent-%COMP%]{text-align:center!important}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),n})();var z=i(277),He=i(1606),Ue=i(6743),Be=i(4119),We=i(8385);function Xe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"i",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.useClacModeChange(!o.crudConfiguration.useCalcMode)}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"i",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.useViewChange(!o.crudConfiguration.useView)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"i",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.useSignalRChange(!o.crudConfiguration.useSignalR)}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"i",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.usePopupChange(!o.crudConfiguration.usePopup)}),e.ALo(8,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Tol(t.crudConfiguration.useCalcMode?"enable":"disabled"),e.s9C("pTooltip",e.lcZ(2,12,"bia.useCalcMode")),e.xp6(2),e.Tol(t.crudConfiguration.useView?"enable":"disabled"),e.s9C("pTooltip",e.lcZ(4,14,"bia.useView")),e.xp6(2),e.Tol(t.crudConfiguration.useSignalR?"enable":"disabled"),e.s9C("pTooltip",e.lcZ(6,16,"bia.useSignalR")),e.xp6(2),e.Tol(t.crudConfiguration.usePopup?"enable":"disabled"),e.s9C("pTooltip",e.lcZ(8,18,"bia.usePopup"))}}function ke(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"bia-table",12),e.NdJ("clickRow",function(o){return e.CHM(t),e.oxw().onClickRow(o)})("loadLazy",function(o){return e.CHM(t),e.oxw().onLoadLazy(o)})("selectedElementsChanged",function(o){return e.CHM(t),e.oxw().onSelectedElementsChanged(o)})("stateSave",function(o){return e.CHM(t),e.oxw().onStateSave(o)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("elements",e.lcZ(1,13,t.crudItems$))("totalRecord",e.lcZ(2,15,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.crudConfiguration.fieldsConfig)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canClickRow",t.canEdit)("canSelectElement",t.canDelete)("loading",e.lcZ(3,17,t.loading$))("viewPreference",t.viewPreference)("tableStateKey",t.tableStateKey)("sortFieldValue",t.sortFieldValue)}}function qe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"app-plane-table",13),e.NdJ("loadLazy",function(o){return e.CHM(t),e.oxw().onLoadLazy(o)})("selectedElementsChanged",function(o){return e.CHM(t),e.oxw().onSelectedElementsChanged(o)})("stateSave",function(o){return e.CHM(t),e.oxw().onStateSave(o)})("save",function(o){return e.CHM(t),e.oxw().onSave(o)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("elements",e.lcZ(1,15,t.crudItems$))("dictOptionDtos",e.lcZ(2,17,t.planeService.optionsService.dictOptionDtos$))("totalRecord",e.lcZ(3,19,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.crudConfiguration.fieldsConfig)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",t.canEdit)("canAdd",t.canAdd)("canSelectElement",t.canDelete)("loading",e.lcZ(4,21,t.loading$))("viewPreference",t.viewPreference)("tableStateKey",t.tableStateKey)("sortFieldValue",t.sortFieldValue)}}let et=(()=>{class n extends k.t{constructor(t,a,o){super(t,a),this.injector=t,this.planeService=a,this.authService=o,this.crudConfiguration=p}setPermissions(){this.canEdit=this.authService.hasPermission(y.y.Plane_Update),this.canDelete=this.authService.hasPermission(y.y.Plane_Delete),this.canAdd=this.authService.hasPermission(y.y.Plane_Create)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(O),e.Y36(N.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-planes-index"]],viewQuery:function(t,a){if(1&t&&e.Gf(V,5),2&t){let o;e.iGM(o=e.CRH())&&(a.crudItemTableComponent=o.first)}},features:[e.qOj],decls:9,vars:19,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","tableState","defaultViewPref","useViewTeamWithTypeId","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],["pTemplate","customControl"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","sortFieldValue","clickRow","loadLazy","selectedElementsChanged","stateSave",4,"ngIf"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","sortFieldValue","loadLazy","selectedElementsChanged","stateSave","save",4,"ngIf"],["fxLayout","row","fxLayoutGap","20px",1,"bia-table-controller-container"],["tooltipPosition","top",1,"pi","pi-table","bia-pointer",3,"pTooltip","click"],["tooltipPosition","top",1,"pi","pi-eye","bia-pointer",3,"pTooltip","click"],["tooltipPosition","top",1,"pi","pi-sync","bia-pointer",3,"pTooltip","click"],["tooltipPosition","top",1,"pi","pi-clone","bia-pointer",3,"pTooltip","click"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","sortFieldValue","clickRow","loadLazy","selectedElementsChanged","stateSave"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","sortFieldValue","loadLazy","selectedElementsChanged","stateSave","save"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"bia-table-header",2),e.NdJ("create",function(){return a.onCreate()})("exportCSV",function(){return a.onExportCSV()})("delete",function(){return a.onDelete()}),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"bia-table-controller",3),e.NdJ("displayedColumnsChange",function(c){return a.displayedColumnsChanged(c)})("filter",function(c){return a.searchGlobalChanged(c)})("pageSizeChange",function(c){return a.onPageSizeChange(c)})("toggleSearch",function(){return a.onToggleSearch()})("viewChange",function(c){return a.onViewChange(c)}),e.ALo(5,"async"),e.YNc(6,Xe,9,20,"ng-template",4),e.qZA(),e.YNc(7,ke,4,19,"bia-table",5),e.YNc(8,qe,5,23,"app-plane-table",6),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("headerTitle",e.lcZ(3,15,"plane.listOf"))("canAdd",a.canAdd&&!a.crudConfiguration.useCalcMode)("canDelete",a.canDelete)("canExportCSV",!0)("selectedElements",a.selectedCrudItems),e.xp6(2),e.Q6J("defaultPageSize",a.defaultPageSize)("length",e.lcZ(5,17,a.totalCount$))("columns",a.columns)("columnToDisplays",a.displayedColumns)("tableStateKey",a.tableStateKey)("tableState",a.tableState)("defaultViewPref",a.defaultViewPref)("useViewTeamWithTypeId",a.useViewTeamWithTypeId),e.xp6(3),e.Q6J("ngIf",!a.crudConfiguration.useCalcMode),e.xp6(1),e.Q6J("ngIf",a.crudConfiguration.useCalcMode))},directives:[z.xw,z.yH,He.l,Ue.B,K.jx,z.SQ,Be.u,f.O5,We.$,V],pipes:[J.X$,f.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),n})();var tt=i(6135),Z=i(6249),nt=i(466),at=i(7224),ot=i(3004),H=i(9373);function lt(n,l){1&n&&e._UZ(0,"bia-spinner",1),2&n&&e.Q6J("overlay",!0)}let it=(()=>{class n extends ot.m{constructor(t,a,o,c){super(a,o),this.store=t,this.injector=a,this.planeService=o,this.layoutService=c}ngOnInit(){super.ngOnInit(),this.sub.add(this.planeService.crudItem$.subscribe(t=>{(null==t?void 0:t.msn)&&(this.route.data.pipe((0,at.P)()).subscribe(a=>{a.breadcrumb=t.msn}),this.layoutService.refreshBreadcrumb())}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.yh),e.Y36(e.zs3),e.Y36(O),e.Y36(nt.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e.qOj],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(t,a){1&t&&(e._UZ(0,"router-outlet"),e.YNc(1,lt,1,1,"bia-spinner",0),e.ALo(2,"async")),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,a.crudItemService.loadingGet$)))},directives:[I.lC,f.O5,H.O],pipes:[f.Ov],styles:[""]}),n})();var E=i(8832),S=i(3460),st=i(8426),ct=i(3017),rt=i(956),pt=i(9517),_t=i(459),dt=i(3569);let U=(()=>{class n extends _t.V{}return n.\u0275fac=function(){let l;return function(a){return(l||(l=e.n5z(n)))(a||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["app-plane-form"]],features:[e.qOj],decls:1,vars:3,consts:[[3,"element","fields","dictOptionDtos","save","cancel"]],template:function(t,a){1&t&&(e.TgZ(0,"bia-form",0),e.NdJ("save",function(c){return a.onSave(c)})("cancel",function(){return a.onCancel()}),e.qZA()),2&t&&e.Q6J("element",a.crudItem)("fields",a.fields)("dictOptionDtos",a.dictOptionDtos)},directives:[dt.E],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}"]}),n})();function mt(n,l){1&n&&e._UZ(0,"bia-spinner",2),2&n&&e.Q6J("overlay",!0)}let ut=(()=>{class n extends pt.G{constructor(t,a){super(t,a),this.injector=t,this.planeService=a,this.crudConfiguration=p}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-plane-edit"]],features:[e.qOj],decls:5,vars:10,consts:[[3,"crudItem","fields","dictOptionDtos","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(t,a){1&t&&(e.TgZ(0,"app-plane-form",0),e.NdJ("cancel",function(){return a.onCancelled()})("save",function(c){return a.onSubmitted(c)}),e.ALo(1,"async"),e.ALo(2,"async"),e.qZA(),e.YNc(3,mt,1,1,"bia-spinner",1),e.ALo(4,"async")),2&t&&(e.Q6J("crudItem",e.lcZ(1,4,a.planeService.crudItem$))("fields",a.crudConfiguration.fieldsConfig.columns)("dictOptionDtos",e.lcZ(2,6,a.planeService.optionsService.dictOptionDtos$)),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,8,a.planeService.loadingGet$)))},directives:[U,f.O5,H.O],pipes:[f.Ov],encapsulation:2}),n})();var gt=i(6161);let ft=(()=>{class n extends gt.J{constructor(t,a){super(t,a),this.injector=t,this.planeService=a,this.crudConfiguration=p}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-plane-new"]],features:[e.qOj],decls:2,vars:4,consts:[[3,"fields","dictOptionDtos","cancel","save"]],template:function(t,a){1&t&&(e.TgZ(0,"app-plane-form",0),e.NdJ("cancel",function(){return a.onCancelled()})("save",function(c){return a.onSubmitted(c)}),e.ALo(1,"async"),e.qZA()),2&t&&e.Q6J("fields",a.crudConfiguration.fieldsConfig.columns)("dictOptionDtos",e.lcZ(1,2,a.planeService.optionsService.dictOptionDtos$))},directives:[U],pipes:[f.Ov],encapsulation:2}),n})();var u=i(6517),b=i(1086),T=i(373),x=i(7545),P=i(7221),M=i(1406),D=i(7168),$=i(2762);let bt=(()=>{class n{constructor(t,a,o,c){this.actions$=t,this.planeDas=a,this.biaMessageService=o,this.store=c,this.loadAllByPost$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(r.loadAllByPost),(0,T.j)("event"),(0,x.w)(_=>this.planeDas.getListByPost({event:_}).pipe((0,h.U)(m=>r.loadAllByPostSuccess({result:m,event:_})),(0,P.K)(m=>(this.biaMessageService.showError(),(0,b.of)(r.failure({error:m})))))))),this.load$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(r.load),(0,T.j)("id"),(0,x.w)(_=>this.planeDas.get({id:_}).pipe((0,h.U)(m=>r.loadSuccess({plane:m})),(0,P.K)(m=>(this.biaMessageService.showError(),(0,b.of)(r.failure({error:m})))))))),this.create$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(r.create),(0,T.j)("plane"),(0,M.b)(_=>(0,b.of)(_).pipe((0,D.M)(this.store.select(g.getLastLazyLoadEvent)))),(0,x.w)(([_,m])=>this.planeDas.post({item:_,offlineMode:p.useOfflineMode}).pipe((0,h.U)(()=>(this.biaMessageService.showAddSuccess(),p.useSignalR?(0,$.b)():r.loadAllByPost({event:m}))),(0,P.K)(v=>(this.biaMessageService.showError(),(0,b.of)(r.failure({error:v})))))))),this.update$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(r.update),(0,T.j)("plane"),(0,M.b)(_=>(0,b.of)(_).pipe((0,D.M)(this.store.select(g.getLastLazyLoadEvent)))),(0,x.w)(([_,m])=>this.planeDas.put({item:_,id:_.id,offlineMode:p.useOfflineMode}).pipe((0,h.U)(()=>(this.biaMessageService.showUpdateSuccess(),p.useSignalR?(0,$.b)():r.loadAllByPost({event:m}))),(0,P.K)(v=>(this.biaMessageService.showError(),(0,b.of)(r.failure({error:v})))))))),this.destroy$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(r.remove),(0,T.j)("id"),(0,M.b)(_=>(0,b.of)(_).pipe((0,D.M)(this.store.select(g.getLastLazyLoadEvent)))),(0,x.w)(([_,m])=>this.planeDas.delete({id:_,offlineMode:p.useOfflineMode}).pipe((0,h.U)(()=>(this.biaMessageService.showDeleteSuccess(),p.useSignalR?(0,$.b)():r.loadAllByPost({event:m}))),(0,P.K)(v=>(this.biaMessageService.showError(),(0,b.of)(r.failure({error:v})))))))),this.multiDestroy$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(r.multiRemove),(0,T.j)("ids"),(0,M.b)(_=>(0,b.of)(_).pipe((0,D.M)(this.store.select(g.getLastLazyLoadEvent)))),(0,x.w)(([_,m])=>this.planeDas.deletes({ids:_,offlineMode:p.useOfflineMode}).pipe((0,h.U)(()=>(this.biaMessageService.showDeleteSuccess(),p.useSignalR?(0,$.b)():r.loadAllByPost({event:m}))),(0,P.K)(v=>(this.biaMessageService.showError(),(0,b.of)(r.failure({error:v}))))))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.eX),e.LFG(Q),e.LFG(G.X),e.LFG(s.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),B=[{path:"",data:{breadcrumb:null,permission:y.y.Plane_List_Access,InjectComponent:et},component:S.e,canActivate:[Z.n],children:[{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:y.y.Plane_Create,title:"plane.add",InjectComponent:ft,dynamicComponent:()=>p.usePopup?E._:S.e},component:p.usePopup?E._:S.e,canActivate:[Z.n]},{path:":crudItemId",data:{breadcrumb:"",canNavigate:!0},component:it,canActivate:[Z.n],children:[{path:"edit",data:{breadcrumb:"bia.edit",canNavigate:!0,permission:y.y.Plane_Update,title:"plane.edit",InjectComponent:ut,dynamicComponent:()=>p.usePopup?E._:S.e},component:p.usePopup?E._:S.e,canActivate:[Z.n]},{path:"",redirectTo:"edit"}]}]},{path:"**",redirectTo:""}],Ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[tt.m,rt.U,I.Bz.forChild(B),s.Aw.forFeature(p.storeKey,g.reducers),u.sQ.forFeature([bt]),st.i,ct.O]]}),n})()},4529:(W,w,i)=>{i.d(w,{b:()=>I});class I{constructor(L,d){this.key=L,this.value=d}}}}]);