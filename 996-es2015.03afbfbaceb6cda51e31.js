(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[996],{49457:function(e,t){var n,a;void 0!==(a="function"==typeof(n=function(){"use strict";function t(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){i(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,i){var c=o.URL||o.webkitURL,s=document.createElement("a");s.download=r=r||e.name||"download",s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?a(s):n(s.href)?t(e,r,i):a(s,s.target="_blank")):(s.href=c.createObjectURL(e),setTimeout(function(){c.revokeObjectURL(s.href)},4e4),setTimeout(function(){a(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,o,r){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),o);else if(n(e))t(e,o,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){a(i)})}}:function(e,n,a,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,a);var c="application/octet-stream"===e.type,s=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||c&&s||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},d.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,m=u.createObjectURL(e);i?i.location=m:location.href=m,i=null,setTimeout(function(){u.revokeObjectURL(m)},4e4)}});o.saveAs=i.saveAs=i,e.exports=i})?n.apply(t,[]):n)&&(e.exports=a)},82762:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});const a=(0,n(86710).PH)("[Bia] Success the refresh of the list will be done by signalR.")},89410:function(e,t,n){"use strict";n.r(t),n.d(t,{SiteMemberModule:function(){return P}});var a=n(94666),o=n(39083),r=n(9716),i=n(1691),c=n(40136),s=n(29206),l=n(37716),d=n(35618),u=n(81606),m=n(76743),p=n(38583),f=n(88385),b=n(34601),g=n(81780);function h(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"bia-table",6),l.NdJ("clickRow",function(t){return l.CHM(e),l.oxw().onEdit(t)})("loadLazy",function(t){return l.CHM(e),l.oxw().onLoadLazy(t)})("selectedElementsChanged",function(t){return l.CHM(e),l.oxw().onSelectedElementsChanged(t)}),l.ALo(1,"async"),l.ALo(2,"async"),l.ALo(3,"async"),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("elements",l.lcZ(1,12,e.members$))("totalRecord",l.lcZ(2,14,e.totalCount$))("columnToDisplays",e.displayedColumns)("pageSize",e.pageSize)("configuration",e.tableConfiguration)("showColSearch",e.showColSearch)("globalSearchValue",e.globalSearchValue)("canClickRow",e.canEdit)("canSelectElement",e.canDelete)("loading",l.lcZ(3,16,e.loading$))("viewPreference",e.viewPreference)("tableStateKey",e.tableStateKey)}}function v(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"bia-member-table",7),l.NdJ("loadLazy",function(t){return l.CHM(e),l.oxw().onLoadLazy(t)})("selectedElementsChanged",function(t){return l.CHM(e),l.oxw().onSelectedElementsChanged(t)})("save",function(t){return l.CHM(e),l.oxw().onSave(t)}),l.ALo(1,"async"),l.ALo(2,"async"),l.ALo(3,"async"),l.ALo(4,"async"),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("elements",l.lcZ(1,14,e.members$))("dictOptionDtos",l.lcZ(2,16,e.memberOptionsService.dictOptionDtos$))("totalRecord",l.lcZ(3,18,e.totalCount$))("columnToDisplays",e.displayedColumns)("pageSize",e.pageSize)("configuration",e.tableConfiguration)("showColSearch",e.showColSearch)("globalSearchValue",e.globalSearchValue)("canEdit",e.canEdit)("canAdd",e.canAdd)("canSelectElement",e.canDelete)("loading",l.lcZ(4,20,e.loading$))("viewPreference",e.viewPreference)("tableStateKey",e.tableStateKey)}}let y=(()=>{class e extends i.p{constructor(e,t,n){super(e),this.siteService=t,this.authService=n}ngOnInit(){var e;this.teamTypeId=c.k0.Site,super.ngOnInit(),this.parentIds=[null===(e=this.siteService.currentSiteId)||void 0===e?void 0:e.toString()]}setPermissions(){this.canEdit=this.authService.hasPermission(s.y.Site_Member_Update),this.canDelete=this.authService.hasPermission(s.y.Site_Member_Delete),this.canAdd=this.authService.hasPermission(s.y.Site_Member_Create)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.zs3),l.Y36(r.P),l.Y36(o.e))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-site-members-index"]],features:[l.qOj],decls:8,vars:16,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canDelete","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","tableStateKey","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","clickRow","loadLazy","selectedElementsChanged",4,"ngIf"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save",4,"ngIf"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canClickRow","canSelectElement","loading","viewPreference","tableStateKey","clickRow","loadLazy","selectedElementsChanged"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","tableStateKey","loadLazy","selectedElementsChanged","save"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"bia-table-header",2),l.NdJ("create",function(){return t.onCreate()})("exportCSV",function(){return t.onExportCSV()})("delete",function(){return t.onDelete()}),l.ALo(3,"translate"),l.qZA(),l.TgZ(4,"bia-table-controller",3),l.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),l.ALo(5,"async"),l.qZA(),l.YNc(6,h,4,18,"bia-table",4),l.YNc(7,v,5,22,"bia-member-table",5),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("headerTitle",l.lcZ(3,12,"member.listOfSiteMembers"))("canAdd",t.canAdd&&!t.useCalcMode)("canDelete",t.canDelete)("canExportCSV",!0)("selectedElements",t.selectedMembers),l.xp6(2),l.Q6J("defaultPageSize",t.defaultPageSize)("length",l.lcZ(5,14,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns)("tableStateKey",t.tableStateKey),l.xp6(2),l.Q6J("ngIf",!t.useCalcMode),l.xp6(1),l.Q6J("ngIf",t.useCalcMode))},directives:[d.xw,d.yH,u.l,m.B,p.O5,f.$,b.U],pipes:[g.X$,p.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),e})();var S=n(61028),w=n(36819),C=n(89490);let A=(()=>{class e extends w.A{constructor(e,t){super(e),this.siteService=t}ngOnInit(){this.teamId=this.siteService.currentSiteId,this.teamTypeId=c.k0.Site,super.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.zs3),l.Y36(r.P))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-site-member-new"]],features:[l.qOj],decls:3,vars:9,consts:[[3,"members","roleOptions","userOptions","teamId","canAddFromDirectory","cancel","save"]],template:function(e,t){1&e&&(l.TgZ(0,"bia-member-form-new",0),l.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),l.ALo(1,"async"),l.ALo(2,"async"),l.qZA()),2&e&&l.Q6J("members",t.members)("roleOptions",l.lcZ(1,5,t.memberOptionsService.roleOptions$))("userOptions",l.lcZ(2,7,t.memberOptionsService.userOptions$))("teamId",t.teamId)("canAddFromDirectory",t.canAddFromDirectory)},directives:[C.m],pipes:[p.Ov],styles:[""]}),e})();var O=n(97985),L=n(7767),x=n(79373);function E(e,t){1&e&&l._UZ(0,"bia-spinner",2),2&e&&l.Q6J("overlay",!0)}let Z=(()=>{class e extends O.Z{constructor(e,t){super(e),this.siteService=t}ngOnInit(){this.teamId=this.siteService.currentSiteId,this.teamTypeId=c.k0.Site,super.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.zs3),l.Y36(r.P))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-site-member-edit"]],features:[l.qOj],decls:6,vars:14,consts:[[3,"member","roleOptions","userOptions","teamId","canAddFromDirectory","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(l.TgZ(0,"bia-member-form-edit",0),l.NdJ("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),l.ALo(1,"async"),l.ALo(2,"async"),l.ALo(3,"async"),l.qZA(),l.YNc(4,E,1,1,"bia-spinner",1),l.ALo(5,"async")),2&e&&(l.Q6J("member",l.lcZ(1,6,t.memberService.member$))("roleOptions",l.lcZ(2,8,t.memberOptionsService.roleOptions$))("userOptions",l.lcZ(3,10,t.memberOptionsService.userOptions$))("teamId",t.teamId)("canAddFromDirectory",t.canAddFromDirectory),l.xp6(4),l.Q6J("ngIf",l.lcZ(5,12,t.memberService.loading$)))},directives:[L.q,p.O5,x.O],pipes:[p.Ov],styles:[""]}),e})();var I=n(16249),T=n(78311);function D(e,t){1&e&&l._UZ(0,"bia-spinner",1),2&e&&l.Q6J("overlay",!0)}let M=(()=>{class e extends T.b{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.zs3))},e.\u0275cmp=l.Xpm({type:e,selectors:[["ng-component"]],features:[l.qOj],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(l._UZ(0,"router-outlet"),l.YNc(1,D,1,1,"bia-spinner",0),l.ALo(2,"async")),2&e&&(l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,t.memberService.loading$)))},directives:[a.lC,p.O5,x.O],pipes:[p.Ov],styles:[""]}),e})();var z=n(98832),R=n(53460),_=n(3014);const k=[{path:"",data:{breadcrumb:null,permission:s.y.Site_Member_List_Access,InjectComponent:y},component:R.e,canActivate:[I.n],children:[{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:s.y.Site_Member_Create,title:"member.add",InjectComponent:A},component:z._,canActivate:[I.n]},{path:":memberId",data:{breadcrumb:"",canNavigate:!0},component:M,canActivate:[I.n],children:[{path:"edit",data:{breadcrumb:"member.manage",canNavigate:!0,permission:s.y.Site_Member_Update,title:"member.manage",InjectComponent:Z},component:z._,canActivate:[I.n]},{path:"",redirectTo:"edit"}]}]},{path:"**",redirectTo:""}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[S.m,a.Bz.forChild(k),_.W]]}),e})()}}]);