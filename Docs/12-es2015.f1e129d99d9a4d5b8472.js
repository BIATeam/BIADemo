(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"We+H":function(e,t,a){"use strict";a.r(t),a.d(t,"PlaneTypeModule",(function(){return we}));var s=a("tyNb"),n=a("kt0X"),i=a("snw9"),c=a("LRne"),l=a("wO+i"),o=a("eIep"),r=a("lJxs"),p=a("JIr8"),b=a("bOdf"),d=a("zp1y");const h=Object(n.h)("[PlanesTypes] Load all by post",Object(n.m)()),u=Object(n.h)("[PlanesTypes] Load",Object(n.m)()),y=Object(n.h)("[PlanesTypes] Create",Object(n.m)()),g=Object(n.h)("[PlanesTypes] Update",Object(n.m)()),f=Object(n.h)("[PlanesTypes] Remove",Object(n.m)()),O=Object(n.h)("[PlanesTypes] Multi Remove",Object(n.m)()),m=Object(n.h)("[PlanesTypes] Load all by post success",Object(n.m)()),j=Object(n.h)("[PlanesTypes] Load success",Object(n.m)()),T=Object(n.h)("[PlanesTypes] Failure",Object(n.m)()),S=Object(n.h)("[PlanesTypes] Open dialog edit"),v=Object(n.h)("[PlanesTypes] Close dialog edit"),C=Object(n.h)("[PlanesTypes] Open dialog new"),w=Object(n.h)("[PlanesTypes] Close dialog new");var P=a("dlt+"),D=a("fXoL");let x=(()=>{class e extends P.a{constructor(e){super(e,"PlanesTypes")}}return e.\u0275fac=function(t){return new(t||e)(D.Xb(D.r))},e.\u0275prov=D.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var L=a("EVqC");const E=Object(L.a)({selectId:e=>e.id,sortComparer:!1}),z=E.getInitialState({totalCount:0,currentPlaneType:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1,displayEditDialog:!1,displayNewDialog:!1}),k=Object(n.j)(z,Object(n.l)(C,e=>Object.assign(Object.assign({},e),{displayNewDialog:!0})),Object(n.l)(w,e=>Object.assign(Object.assign({},e),{displayNewDialog:!1})),Object(n.l)(S,e=>Object.assign(Object.assign({},e),{displayEditDialog:!0})),Object(n.l)(v,e=>Object.assign(Object.assign({},e),{displayEditDialog:!1})),Object(n.l)(h,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!0})),Object(n.l)(u,e=>Object.assign(Object.assign({},e),{loadingGet:!0})),Object(n.l)(m,(e,{result:t,event:a})=>{const s=E.setAll(t.data,e);return s.totalCount=t.totalCount,s.lastLazyLoadEvent=a,s.loadingGetAll=!1,s}),Object(n.l)(j,(e,{planeType:t})=>Object.assign(Object.assign({},e),{currentPlaneType:t,loadingGet:!1})),Object(n.l)(T,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})));function $(e,t){return Object(n.f)({planesTypes:k})(e,t)}const A=Object(n.i)("planes-types"),B=Object(n.k)(A,e=>e.planesTypes),I=Object(n.k)(B,e=>e.totalCount),M=Object(n.k)(B,e=>e.currentPlaneType),V=Object(n.k)(B,e=>e.lastLazyLoadEvent),N=Object(n.k)(B,e=>e.loadingGet),G=Object(n.k)(B,e=>e.loadingGetAll),F=Object(n.k)(B,e=>e.displayEditDialog),H=Object(n.k)(B,e=>e.displayNewDialog),{selectAll:J}=E.getSelectors(B);var X=a("Fx2S");let R=(()=>{class e{constructor(e,t,a,s){this.actions$=e,this.planeTypeDas=t,this.biaMessageService=a,this.store=s,this.loadAllByPost$=Object(i.c)(()=>this.actions$.pipe(Object(i.d)(h),Object(l.a)("event"),Object(o.a)(e=>this.planeTypeDas.getListByPost(e).pipe(Object(r.a)(t=>m({result:t,event:e})),Object(p.a)(e=>(this.biaMessageService.showError(),Object(c.a)(T({error:e})))))))),this.load$=Object(i.c)(()=>this.actions$.pipe(Object(i.d)(u),Object(l.a)("id"),Object(o.a)(e=>this.planeTypeDas.get(e).pipe(Object(r.a)(e=>j({planeType:e})),Object(p.a)(e=>(this.biaMessageService.showError(),Object(c.a)(T({error:e})))))))),this.create$=Object(i.c)(()=>this.actions$.pipe(Object(i.d)(y),Object(l.a)("planeType"),Object(b.a)(e=>Object(c.a)(e).pipe(Object(d.a)(this.store.select(V)))),Object(o.a)(([e,t])=>this.planeTypeDas.post(e).pipe(Object(r.a)(()=>(this.biaMessageService.showAddSuccess(),h({event:t}))),Object(p.a)(e=>(this.biaMessageService.showError(),Object(c.a)(T({error:e})))))))),this.update$=Object(i.c)(()=>this.actions$.pipe(Object(i.d)(g),Object(l.a)("planeType"),Object(b.a)(e=>Object(c.a)(e).pipe(Object(d.a)(this.store.select(V)))),Object(o.a)(([e,t])=>this.planeTypeDas.put(e,e.id).pipe(Object(r.a)(()=>(this.biaMessageService.showUpdateSuccess(),h({event:t}))),Object(p.a)(e=>(this.biaMessageService.showError(),Object(c.a)(T({error:e})))))))),this.destroy$=Object(i.c)(()=>this.actions$.pipe(Object(i.d)(f),Object(l.a)("id"),Object(b.a)(e=>Object(c.a)(e).pipe(Object(d.a)(this.store.select(V)))),Object(o.a)(([e,t])=>this.planeTypeDas.delete(e).pipe(Object(r.a)(()=>(this.biaMessageService.showDeleteSuccess(),h({event:t}))),Object(p.a)(e=>(this.biaMessageService.showError(),Object(c.a)(T({error:e})))))))),this.multiDestroy$=Object(i.c)(()=>this.actions$.pipe(Object(i.d)(O),Object(l.a)("ids"),Object(b.a)(e=>Object(c.a)(e).pipe(Object(d.a)(this.store.select(V)))),Object(o.a)(([e,t])=>this.planeTypeDas.deletes(e).pipe(Object(r.a)(()=>(this.biaMessageService.showDeleteSuccess(),h({event:t}))),Object(p.a)(e=>(this.biaMessageService.showError(),Object(c.a)(T({error:e}))))))))}}return e.\u0275fac=function(t){return new(t||e)(D.Xb(i.a),D.Xb(x),D.Xb(X.a),D.Xb(n.b))},e.\u0275prov=D.Jb({token:e,factory:e.\u0275fac}),e})();var _=a("Sa1B"),q=a("VfrA"),U=a("s0Cq"),W=a("E6Oa"),K=a("Iab2"),Q=a("RoCi"),Y=a("RdrV"),Z=a("sYmb"),ee=a("XiUz"),te=a("jIms"),ae=a("v8MJ"),se=a("quSY"),ne=a("/RsI"),ie=a("7zfz"),ce=a("3Pt+"),le=a("7kUa"),oe=a("eO1q"),re=a("PjIi"),pe=a("jIHw");let be=(()=>{class e{constructor(e){this.formBuilder=e,this.planeType={},this.save=new D.n,this.cancel=new D.n,this.initForm()}ngOnInit(){}ngOnChanges(e){e.planeType&&(this.form.reset(),this.planeType&&this.form.patchValue(Object.assign({},this.planeType)))}initForm(){this.form=this.formBuilder.group({id:[this.planeType.id],title:[this.planeType.title,ce.o.required],certificationDate:[this.planeType.certificationDate,ce.o.required]})}onCancel(){this.form.reset(),this.cancel.next()}onSubmit(){if(this.form.valid){const e=this.form.value;e.id=e.id>0?e.id:0,this.save.emit(e),this.form.reset()}}}return e.\u0275fac=function(t){return new(t||e)(D.Nb(ce.b))},e.\u0275cmp=D.Hb({type:e,selectors:[["app-plane-type-form"]],inputs:{planeType:"planeType"},outputs:{save:"save",cancel:"cancel"},features:[D.zb],decls:22,vars:14,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"md-inputfield"],["formControlName","title","type","text","pInputText","","maxlength","64"],[1,"bia-star-mandatory"],["biaLocale","","formControlName","certificationDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"ui-button-secondary",3,"label","click"]],template:function(e,t){1&e&&(D.Tb(0,"form",0),D.bc("submit",(function(){return t.onSubmit()})),D.Tb(1,"div",1),D.Tb(2,"div",2),D.Tb(3,"span",3),D.Ob(4,"input",4),D.Tb(5,"label"),D.Tb(6,"span",5),D.Hc(7,"*"),D.Sb(),D.Hc(8),D.ec(9,"translate"),D.Sb(),D.Sb(),D.Sb(),D.Sb(),D.Tb(10,"div",1),D.Tb(11,"div",2),D.Tb(12,"span",3),D.Ob(13,"p-calendar",6),D.Tb(14,"label"),D.Hc(15),D.ec(16,"translate"),D.Sb(),D.Sb(),D.Sb(),D.Sb(),D.Tb(17,"div",7),D.Ob(18,"button",8),D.ec(19,"translate"),D.Tb(20,"button",9),D.bc("click",(function(){return t.onCancel()})),D.ec(21,"translate"),D.Sb(),D.Sb(),D.Sb()),2&e&&(D.kc("formGroup",t.form),D.Bb(8),D.Ic(D.fc(9,6,"planeType.title")),D.Bb(7),D.Ic(D.fc(16,8,"planeType.certificationDate")),D.Bb(3),D.lc("label",D.fc(19,10,"bia.save")),D.kc("disabled",!t.form.valid),D.Bb(2),D.lc("label",D.fc(21,12,"bia.cancel")))},directives:[ce.p,ce.k,ee.d,ce.f,ee.c,ee.b,ce.a,ce.j,ce.e,le.a,ce.h,oe.a,re.a,ee.e,pe.b],pipes:[Z.c],styles:[".app-field-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}"],changeDetection:0}),e})();var de=a("ofXK"),he=a("y0gQ");function ue(e,t){1&e&&D.Ob(0,"bia-spinner",3),2&e&&D.kc("overlay",!0)}const ye=function(){return{minWidth:"50vw"}},ge=function(){return{overflow:"auto"}};let fe=(()=>{class e{constructor(e){this.store=e,this.display=!1,this.sub=new se.a,this.displayChange=new D.n}ngOnInit(){this.loading$=this.store.select(N).pipe(),this.planeType$=this.store.select(M).pipe(),this.sub.add(this.store.select(F).pipe().subscribe(e=>this.display=e))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch(g({planeType:e})),this.close()}onCancelled(){this.close()}close(){this.store.dispatch(v())}}return e.\u0275fac=function(t){return new(t||e)(D.Nb(n.b))},e.\u0275cmp=D.Hb({type:e,selectors:[["app-plane-type-edit-dialog"]],outputs:{displayChange:"displayChange"},decls:8,vars:20,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"planeType","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(D.Tb(0,"p-dialog",0),D.bc("visibleChange",(function(e){return t.display=e})),D.Tb(1,"p-header"),D.Hc(2),D.ec(3,"translate"),D.Sb(),D.Tb(4,"app-plane-type-form",1),D.bc("cancel",(function(){return t.onCancelled()}))("save",(function(e){return t.onSubmitted(e)})),D.ec(5,"async"),D.Sb(),D.Fc(6,ue,1,1,"bia-spinner",2),D.ec(7,"async"),D.Sb()),2&e&&(D.Dc(D.nc(18,ye)),D.kc("focusOnShow",!1)("visible",t.display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",D.nc(19,ge)),D.Bb(2),D.Jc(" ",D.fc(3,12,"planeType.edit")," "),D.Bb(2),D.kc("planeType",D.fc(5,14,t.planeType$)),D.Bb(2),D.kc("ngIf",D.fc(7,16,t.loading$)))},directives:[ne.a,ie.c,be,de.m,he.a],pipes:[Z.c,de.b],styles:[""]}),e})();const Oe=function(){return{minWidth:"50vw"}},me=function(){return{overflow:"auto"}};let je=(()=>{class e{constructor(e){this.store=e,this.display=!1,this.sub=new se.a,this.displayChange=new D.n}ngOnInit(){this.sub.add(this.store.select(H).pipe().subscribe(e=>this.display=e))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSubmitted(e){this.store.dispatch(y({planeType:e})),this.close()}onCancelled(){this.planeType={},this.close()}close(){this.store.dispatch(w())}}return e.\u0275fac=function(t){return new(t||e)(D.Nb(n.b))},e.\u0275cmp=D.Hb({type:e,selectors:[["app-plane-type-new-dialog"]],outputs:{displayChange:"displayChange"},decls:5,vars:15,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"planeType","cancel","save"]],template:function(e,t){1&e&&(D.Tb(0,"p-dialog",0),D.bc("visibleChange",(function(e){return t.display=e})),D.Tb(1,"p-header"),D.Hc(2),D.ec(3,"translate"),D.Sb(),D.Tb(4,"app-plane-type-form",1),D.bc("cancel",(function(){return t.onCancelled()}))("save",(function(e){return t.onSubmitted(e)})),D.Sb(),D.Sb()),2&e&&(D.Dc(D.nc(13,Oe)),D.kc("focusOnShow",!1)("visible",t.display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",D.nc(14,me)),D.Bb(2),D.Jc(" ",D.fc(3,11,"planeType.add")," "),D.Bb(2),D.kc("planeType",t.planeType))},directives:[ne.a,ie.c,be],pipes:[Z.c],styles:[""]}),e})(),Te=(()=>{class e{constructor(e,t,a,s,n){this.store=e,this.authService=t,this.planeTypeDas=a,this.translateService=s,this.biaTranslationService=n,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=U.b,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1}ngOnInit(){this.initTableConfiguration(),this.setPermissions(),this.planesTypes$=this.store.select(J).pipe(),this.totalCount$=this.store.select(I).pipe(),this.loading$=this.store.select(G).pipe()}onCreate(){this.store.dispatch(C())}onEdit(e){this.store.dispatch(u({id:e})),this.store.dispatch(S())}onDelete(){this.selectedPlanesTypes&&this.store.dispatch(O({ids:this.selectedPlanesTypes.map(e=>e.id)}))}onPageSizeChange(e){this.pageSize=e}onLoadLazy(e){this.store.dispatch(h({event:e}))}onSelectedElementsChanged(e){this.selectedPlanesTypes=e}searchGlobalChanged(e){this.globalSearchValue=e}displayedColumnsChanged(e){this.displayedColumns=e}onToggleSearch(){this.showColSearch=!this.showColSearch}onViewChange(e){this.viewPreference=e}onExportCSV(){const e={};this.columns.map(t=>e[t.value.split(".")[1]]=this.translateService.instant(t.value));const t=Object.assign({columns:e},this.planeTypeListComponent.getLazyLoadMetadata());this.planeTypeDas.getFile(t).subscribe(e=>{K.saveAs(e,this.translateService.instant("app.planesTypes")+".csv")})}setPermissions(){this.canEdit=this.authService.hasPermission(Y.a.PlaneType_Update),this.canDelete=this.authService.hasPermission(Y.a.PlaneType_Delete),this.canAdd=this.authService.hasPermission(Y.a.PlaneType_Create)}initTableConfiguration(){this.biaTranslationService.culture$.subscribe(e=>{this.tableConfiguration={columns:[new q.b("title","planeType.title"),Object.assign(new q.b("certificationDate","planeType.certificationDate"),{type:q.c.Date,formatDate:e.dateTimeFormat})]},this.columns=this.tableConfiguration.columns.map(e=>({key:e.field,value:e.header})),this.displayedColumns=[...this.columns]})}}return e.\u0275fac=function(t){return new(t||e)(D.Nb(n.b),D.Nb(W.a),D.Nb(x),D.Nb(Z.d),D.Nb(Q.a))},e.\u0275cmp=D.Hb({type:e,selectors:[["app-planes-types-index"]],viewQuery:function(e,t){var a;1&e&&D.Lc(_.a,!0),2&e&&D.wc(a=D.cc())&&(t.planeTypeListComponent=a.first)},hostVars:2,hostBindings:function(e,t){2&e&&D.Fb("bia-flex",t.flex)},decls:12,vars:29,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","edit","loadLazy","selectedElementsChanged"]],template:function(e,t){1&e&&(D.Tb(0,"div",0),D.Tb(1,"div",1),D.Tb(2,"bia-table-header",2),D.bc("create",(function(){return t.onCreate()}))("exportCSV",(function(){return t.onExportCSV()}))("delete",(function(){return t.onDelete()})),D.ec(3,"translate"),D.Sb(),D.Tb(4,"bia-table-controller",3),D.bc("displayedColumnsChange",(function(e){return t.displayedColumnsChanged(e)}))("filter",(function(e){return t.searchGlobalChanged(e)}))("pageSizeChange",(function(e){return t.onPageSizeChange(e)}))("toggleSearch",(function(){return t.onToggleSearch()}))("viewChange",(function(e){return t.onViewChange(e)})),D.ec(5,"async"),D.Sb(),D.Tb(6,"bia-table",4),D.bc("edit",(function(e){return t.onEdit(e)}))("loadLazy",(function(e){return t.onLoadLazy(e)}))("selectedElementsChanged",(function(e){return t.onSelectedElementsChanged(e)})),D.ec(7,"async"),D.ec(8,"async"),D.ec(9,"async"),D.Sb(),D.Sb(),D.Sb(),D.Ob(10,"app-plane-type-edit-dialog"),D.Ob(11,"app-plane-type-new-dialog")),2&e&&(D.Bb(2),D.kc("headerTitle",D.fc(3,19,"planeType.listOf"))("canAdd",t.canAdd)("canExportCSV",!0)("selectedElements",t.selectedPlanesTypes),D.Bb(2),D.kc("defaultPageSize",t.defaultPageSize)("length",D.fc(5,21,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),D.Bb(2),D.kc("elements",D.fc(7,23,t.planesTypes$))("totalRecord",D.fc(8,25,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",t.canEdit)("canSelectElement",t.canDelete)("loading",D.fc(9,27,t.loading$))("viewPreference",t.viewPreference))},directives:[ee.d,ee.b,te.a,ae.a,_.a,fe,je],pipes:[Z.c,de.b],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),e})();var Se=a("PCNd"),ve=a("+dww");const Ce=[{path:"",data:{breadcrumb:null,permission:Y.a.PlaneType_List_Access},component:Te,canActivate:[ve.a]},{path:"**",redirectTo:""}];let we=(()=>{class e{}return e.\u0275mod=D.Lb({type:e}),e.\u0275inj=D.Kb({factory:function(t){return new(t||e)},imports:[[Se.a,s.f.forChild(Ce),n.d.forFeature("planes-types",$),i.b.forFeature([R])]]}),e})()}}]);