function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(a=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(s){r=!0,i=s}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,a=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{B5ae:function(e,t,n){"use strict";n.r(t),n.d(t,"PlaneModule",(function(){return we}));var a,r=n("tyNb"),i=n("kt0X"),c=n("snw9"),o=n("LRne"),s=n("wO+i"),l=n("eIep"),u=n("lJxs"),b=n("JIr8"),p=n("bOdf"),f=n("zp1y"),d=Object(i.h)("[Planes] Load all by post (PageMode)",Object(i.m)()),h=Object(i.h)("[Planes] Load (PageMode)",Object(i.m)()),y=Object(i.h)("[Planes] Create (PageMode)",Object(i.m)()),m=Object(i.h)("[Planes] Update (PageMode)",Object(i.m)()),g=Object(i.h)("[Planes] Remove (PageMode)",Object(i.m)()),v=Object(i.h)("[Planes] Multi Remove (PageMode)",Object(i.m)()),O=Object(i.h)("[Planes] Load all by post success (PageMode)",Object(i.m)()),S=Object(i.h)("[Planes] Load success (PageMode)",Object(i.m)()),j=Object(i.h)("[Planes] Failure (PageMode)",Object(i.m)()),C=n("dlt+"),_=n("fXoL"),P=((a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,"Planes")}return n}(C.a)).\u0275fac=function(e){return new(e||a)(_.Xb(_.r))},a.\u0275prov=_.Jb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),T=n("EVqC"),w=Object(T.a)({selectId:function(e){return e.id},sortComparer:!1}),k=w.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),A=Object(i.j)(k,Object(i.l)(d,(function(e,t){return _objectDestructuringEmpty(t),Object.assign(Object.assign({},e),{loadingGetAll:!0})})),Object(i.l)(h,(function(e){return Object.assign(Object.assign({},e),{loadingGet:!0})})),Object(i.l)(O,(function(e,t){var n=t.result,a=t.event,r=w.setAll(n.data,e);return r.currentPlane={},r.totalCount=n.totalCount,r.lastLazyLoadEvent=a,r.loadingGetAll=!1,r})),Object(i.l)(S,(function(e,t){var n=t.plane;return Object.assign(Object.assign({},e),{currentPlane:n,loadingGet:!1})})),Object(i.l)(j,(function(e,t){return _objectDestructuringEmpty(t),Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})})));function D(e,t){return Object(i.f)({planes:A})(e,t)}var I,x,L,E,F,N=Object(i.i)("planes-mode-page"),B=Object(i.k)(N,(function(e){return e.planes})),M=Object(i.k)(B,(function(e){return e.totalCount})),z=Object(i.k)(B,(function(e){return e.currentPlane})),$=Object(i.k)(B,(function(e){return e.lastLazyLoadEvent})),R=Object(i.k)(B,(function(e){return e.loadingGet})),H=Object(i.k)(B,(function(e){return e.loadingGetAll})),V=w.getSelectors(B).selectAll,G=n("Fx2S"),X=((I=function e(t,n,a,r){var i=this;_classCallCheck(this,e),this.actions$=t,this.planeDas=n,this.biaMessageService=a,this.store=r,this.loadAllByPost$=Object(c.c)((function(){return i.actions$.pipe(Object(c.d)(d),Object(s.a)("event"),Object(l.a)((function(e){return i.planeDas.getListByPost(e).pipe(Object(u.a)((function(t){return O({result:t,event:e})})),Object(b.a)((function(e){return i.biaMessageService.showError(),Object(o.a)(j({error:e}))})))})))})),this.load$=Object(c.c)((function(){return i.actions$.pipe(Object(c.d)(h),Object(s.a)("id"),Object(l.a)((function(e){return i.planeDas.get(e).pipe(Object(u.a)((function(e){return S({plane:e})})),Object(b.a)((function(e){return i.biaMessageService.showError(),Object(o.a)(j({error:e}))})))})))})),this.create$=Object(c.c)((function(){return i.actions$.pipe(Object(c.d)(y),Object(s.a)("plane"),Object(p.a)((function(e){return Object(o.a)(e).pipe(Object(f.a)(i.store.select($)))})),Object(l.a)((function(e){var t=_slicedToArray(e,2),n=t[0],a=t[1];return i.planeDas.post(n).pipe(Object(u.a)((function(){return i.biaMessageService.showAddSuccess(),d({event:a})})),Object(b.a)((function(e){return i.biaMessageService.showError(),Object(o.a)(j({error:e}))})))})))})),this.update$=Object(c.c)((function(){return i.actions$.pipe(Object(c.d)(m),Object(s.a)("plane"),Object(p.a)((function(e){return Object(o.a)(e).pipe(Object(f.a)(i.store.select($)))})),Object(l.a)((function(e){var t=_slicedToArray(e,2),n=t[0],a=t[1];return i.planeDas.put(n,n.id).pipe(Object(u.a)((function(){return i.biaMessageService.showUpdateSuccess(),d({event:a})})),Object(b.a)((function(e){return i.biaMessageService.showError(),Object(o.a)(j({error:e}))})))})))})),this.destroy$=Object(c.c)((function(){return i.actions$.pipe(Object(c.d)(g),Object(s.a)("id"),Object(p.a)((function(e){return Object(o.a)(e).pipe(Object(f.a)(i.store.select($)))})),Object(l.a)((function(e){var t=_slicedToArray(e,2),n=t[0],a=t[1];return i.planeDas.delete(n).pipe(Object(u.a)((function(){return i.biaMessageService.showDeleteSuccess(),d({event:a})})),Object(b.a)((function(e){return i.biaMessageService.showError(),Object(o.a)(j({error:e}))})))})))})),this.multiDestroy$=Object(c.c)((function(){return i.actions$.pipe(Object(c.d)(v),Object(s.a)("ids"),Object(p.a)((function(e){return Object(o.a)(e).pipe(Object(f.a)(i.store.select($)))})),Object(l.a)((function(e){var t=_slicedToArray(e,2),n=t[0],a=t[1];return i.planeDas.deletes(n).pipe(Object(u.a)((function(){return i.biaMessageService.showDeleteSuccess(),d({event:a})})),Object(b.a)((function(e){return i.biaMessageService.showError(),Object(o.a)(j({error:e}))})))})))}))}).\u0275fac=function(e){return new(e||I)(_.Xb(c.a),_.Xb(P),_.Xb(G.a),_.Xb(i.b))},I.\u0275prov=_.Jb({token:I,factory:I.\u0275fac}),I),q=n("Sa1B"),J=n("VfrA"),U=n("s0Cq"),W=n("E6Oa"),K=n("Iab2"),Q=n("RoCi"),Y=n("RdrV"),Z=n("sYmb"),ee=n("XiUz"),te=n("jIms"),ne=n("v8MJ"),ae=n("ofXK"),re=((x=function(){function e(t,n,a,r,i,c){_classCallCheck(this,e),this.store=t,this.router=n,this.authService=a,this.planeDas=r,this.translateService=i,this.biaTranslationService=c,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=U.b,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1,this.createPlaneRoute="/examples/planes-page/create",this.indexPlaneRoute="/examples/planes-page/"}return _createClass(e,[{key:"ngOnInit",value:function(){this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(V).pipe(),this.totalCount$=this.store.select(M).pipe(),this.loading$=this.store.select(H).pipe()}},{key:"onCreate",value:function(){this.router.navigate([this.createPlaneRoute])}},{key:"onEdit",value:function(e){this.router.navigate([this.indexPlaneRoute+e+"/edit"])}},{key:"onDelete",value:function(){this.selectedPlanes&&this.store.dispatch(v({ids:this.selectedPlanes.map((function(e){return e.id}))}))}},{key:"onSelectedElementsChanged",value:function(e){this.selectedPlanes=e}},{key:"onPageSizeChange",value:function(e){this.pageSize=e}},{key:"onLoadLazy",value:function(e){this.store.dispatch(d({event:e}))}},{key:"searchGlobalChanged",value:function(e){this.globalSearchValue=e}},{key:"displayedColumnsChanged",value:function(e){this.displayedColumns=e}},{key:"onToggleSearch",value:function(){this.showColSearch=!this.showColSearch}},{key:"onViewChange",value:function(e){this.viewPreference=e}},{key:"onExportCSV",value:function(){var e=this,t={};this.columns.map((function(n){return t[n.value.split(".")[1]]=e.translateService.instant(n.value)}));var n=Object.assign({columns:t},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(n).subscribe((function(t){K.saveAs(t,e.translateService.instant("app.planes")+".csv")}))}},{key:"setPermissions",value:function(){this.canEdit=this.authService.hasPermission(Y.a.Plane_Update),this.canDelete=this.authService.hasPermission(Y.a.Plane_Delete),this.canAdd=this.authService.hasPermission(Y.a.Plane_Create)}},{key:"initTableConfiguration",value:function(){var e=this;this.biaTranslationService.culture$.subscribe((function(t){e.tableConfiguration={columns:[new J.b("msn","plane.msn"),Object.assign(new J.b("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:J.c.Boolean}),Object.assign(new J.b("firstFlightDate","plane.firstFlightDate"),{type:J.c.Date,formatDate:t.dateFormat}),Object.assign(new J.b("firstFlightTime","plane.firstFlightTime"),{isSearchable:!1,isSortable:!1,type:J.c.Date,formatDate:t.timeFormat}),Object.assign(new J.b("lastFlightDate","plane.lastFlightDate"),{type:J.c.Date,formatDate:t.dateTimeFormat}),Object.assign(new J.b("capacity","plane.capacity"),{type:J.c.Number,filterMode:J.a.Equals})]},e.columns=e.tableConfiguration.columns.map((function(e){return{key:e.field,value:e.header}})),e.displayedColumns=_toConsumableArray(e.columns)}))}}]),e}()).\u0275fac=function(e){return new(e||x)(_.Nb(i.b),_.Nb(r.c),_.Nb(W.a),_.Nb(P),_.Nb(Z.d),_.Nb(Q.a))},x.\u0275cmp=_.Hb({type:x,selectors:[["app-planes-index"]],viewQuery:function(e,t){var n;1&e&&_.Lc(q.a,!0),2&e&&_.wc(n=_.cc())&&(t.planeListComponent=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&_.Fb("bia-flex",t.flex)},decls:10,vars:29,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canExportCSV","selectedElements","create","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","loading","viewPreference","edit","loadLazy","selectedElementsChanged"]],template:function(e,t){1&e&&(_.Tb(0,"div",0),_.Tb(1,"div",1),_.Tb(2,"bia-table-header",2),_.bc("create",(function(){return t.onCreate()}))("exportCSV",(function(){return t.onExportCSV()}))("delete",(function(){return t.onDelete()})),_.ec(3,"translate"),_.Sb(),_.Tb(4,"bia-table-controller",3),_.bc("displayedColumnsChange",(function(e){return t.displayedColumnsChanged(e)}))("filter",(function(e){return t.searchGlobalChanged(e)}))("pageSizeChange",(function(e){return t.onPageSizeChange(e)}))("toggleSearch",(function(){return t.onToggleSearch()}))("viewChange",(function(e){return t.onViewChange(e)})),_.ec(5,"async"),_.Sb(),_.Tb(6,"bia-table",4),_.bc("edit",(function(e){return t.onEdit(e)}))("loadLazy",(function(e){return t.onLoadLazy(e)}))("selectedElementsChanged",(function(e){return t.onSelectedElementsChanged(e)})),_.ec(7,"async"),_.ec(8,"async"),_.ec(9,"async"),_.Sb(),_.Sb(),_.Sb()),2&e&&(_.Bb(2),_.kc("headerTitle",_.fc(3,19,"plane.listOf"))("canAdd",t.canAdd)("canExportCSV",!0)("selectedElements",t.selectedPlanes),_.Bb(2),_.kc("defaultPageSize",t.defaultPageSize)("length",_.fc(5,21,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),_.Bb(2),_.kc("elements",_.fc(7,23,t.planes$))("totalRecord",_.fc(8,25,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",t.canEdit)("canSelectElement",t.canDelete)("loading",_.fc(9,27,t.loading$))("viewPreference",t.viewPreference))},directives:[ee.d,ee.b,te.a,ne.a,q.a],pipes:[Z.c,ae.b],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),x),ie=n("PCNd"),ce=n("3Pt+"),oe=n("7kUa"),se=n("Ji6n"),le=n("eO1q"),ue=n("PjIi"),be=n("jIHw"),pe=((E=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.plane={},this.save=new _.n,this.cancel=new _.n,this.initForm()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){e.plane&&(this.form.reset(),this.plane&&this.form.patchValue(Object.assign({},this.plane)))}},{key:"initForm",value:function(){this.form=this.formBuilder.group({id:[this.plane.id],msn:[this.plane.msn,ce.o.required],isActive:[this.plane.isActive],firstFlightDate:[this.plane.firstFlightDate,ce.o.required],firstFlightTime:[this.plane.firstFlightTime,ce.o.required],lastFlightDate:[this.plane.lastFlightDate],capacity:[this.plane.capacity,ce.o.required]})}},{key:"onCancel",value:function(){this.form.reset(),this.cancel.next()}},{key:"onSubmit",value:function(){if(this.form.valid){var e=this.form.value;e.id=e.id>0?e.id:0,e.isActive=!!e.isActive&&e.isActive,this.save.emit(e),this.form.reset()}}}]),e}()).\u0275fac=function(e){return new(e||E)(_.Nb(ce.b))},E.\u0275cmp=_.Hb({type:E,selectors:[["app-plane-form"]],inputs:{plane:"plane"},outputs:{save:"save",cancel:"cancel"},features:[_.zb],decls:53,vars:28,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90",1,"app-field-container"],[1,"md-inputfield"],["formControlName","msn","type","text","pInputText","","maxlength","64"],[1,"bia-star-mandatory"],["binary","true","formControlName","isActive",3,"label"],["biaLocale","","formControlName","firstFlightDate","placeholder","\xa0","dateFormat","yy-mm-dd",3,"showButtonBar"],["formControlName","firstFlightTime","showTime","true","placeholder","\xa0",3,"timeOnly"],["biaLocale","","formControlName","lastFlightDate","showTime","true","placeholder","DateTime","dateFormat","yy-mm-dd","placeholder","\xa0"],["formControlName","capacity","type","number","pInputText",""],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"ui-button-secondary",3,"label","click"]],template:function(e,t){1&e&&(_.Tb(0,"form",0),_.bc("submit",(function(){return t.onSubmit()})),_.Tb(1,"div",1),_.Tb(2,"div",2),_.Tb(3,"span",3),_.Ob(4,"input",4),_.Tb(5,"label"),_.Tb(6,"span",5),_.Hc(7,"*"),_.Sb(),_.Hc(8),_.ec(9,"translate"),_.Sb(),_.Sb(),_.Sb(),_.Sb(),_.Tb(10,"div",1),_.Tb(11,"div",2),_.Ob(12,"p-checkbox",6),_.ec(13,"translate"),_.Sb(),_.Sb(),_.Tb(14,"div",1),_.Tb(15,"div",2),_.Tb(16,"span",3),_.Ob(17,"p-calendar",7),_.Tb(18,"label"),_.Tb(19,"span",5),_.Hc(20,"*"),_.Sb(),_.Hc(21),_.ec(22,"translate"),_.Sb(),_.Sb(),_.Sb(),_.Sb(),_.Tb(23,"div",1),_.Tb(24,"div",2),_.Tb(25,"span",3),_.Ob(26,"p-calendar",8),_.Tb(27,"label"),_.Tb(28,"span",5),_.Hc(29,"*"),_.Sb(),_.Hc(30),_.ec(31,"translate"),_.Sb(),_.Sb(),_.Sb(),_.Sb(),_.Tb(32,"div",1),_.Tb(33,"div",2),_.Tb(34,"span",3),_.Ob(35,"p-calendar",9),_.Tb(36,"label"),_.Hc(37),_.ec(38,"translate"),_.Sb(),_.Sb(),_.Sb(),_.Sb(),_.Tb(39,"div",1),_.Tb(40,"div",2),_.Tb(41,"span",3),_.Ob(42,"input",10),_.Tb(43,"label"),_.Tb(44,"span",5),_.Hc(45,"*"),_.Sb(),_.Hc(46),_.ec(47,"translate"),_.Sb(),_.Sb(),_.Sb(),_.Sb(),_.Tb(48,"div",11),_.Ob(49,"button",12),_.ec(50,"translate"),_.Tb(51,"button",13),_.bc("click",(function(){return t.onCancel()})),_.ec(52,"translate"),_.Sb(),_.Sb(),_.Sb()),2&e&&(_.kc("formGroup",t.form),_.Bb(8),_.Ic(_.fc(9,12,"plane.msn")),_.Bb(4),_.lc("label",_.fc(13,14,"plane.isActive")),_.Bb(5),_.kc("showButtonBar",!0),_.Bb(4),_.Ic(_.fc(22,16,"plane.firstFlightDate")),_.Bb(5),_.kc("timeOnly",!0),_.Bb(4),_.Ic(_.fc(31,18,"plane.firstFlightTime")),_.Bb(7),_.Ic(_.fc(38,20,"plane.lastFlightDate")),_.Bb(9),_.Ic(_.fc(47,22,"plane.capacity")),_.Bb(3),_.lc("label",_.fc(50,24,"bia.save")),_.kc("disabled",!t.form.valid),_.Bb(2),_.lc("label",_.fc(52,26,"bia.cancel")))},directives:[ce.p,ce.k,ee.d,ce.f,ee.c,ee.b,ce.a,ce.j,ce.e,oe.a,ce.h,se.a,le.a,ue.a,ce.m,ee.e,be.b],pipes:[Z.c],styles:[".app-field-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}"],changeDetection:0}),E),fe=((L=function(){function e(t,n){_classCallCheck(this,e),this.store=t,this.location=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmitted",value:function(e){this.store.dispatch(y({plane:e})),this.location.back()}},{key:"onCancelled",value:function(){this.plane={},this.location.back()}}]),e}()).\u0275fac=function(e){return new(e||L)(_.Nb(i.b),_.Nb(ae.i))},L.\u0275cmp=_.Hb({type:L,selectors:[["app-plane-new"]],decls:1,vars:1,consts:[[3,"plane","cancel","save"]],template:function(e,t){1&e&&(_.Tb(0,"app-plane-form",0),_.bc("cancel",(function(){return t.onCancelled()}))("save",(function(e){return t.onSubmitted(e)})),_.Sb()),2&e&&_.kc("plane",t.plane)},directives:[pe],styles:[""]}),L),de=n("quSY"),he=((F=function(){function e(t){_classCallCheck(this,e),this.store=t,this.sub=new de.a,this.InitSub(),this.loading$=this.store.select(R),this.plane$=this.store.select(z)}return _createClass(e,[{key:"InitSub",value:function(){var e=this;this.sub=new de.a,this.sub.add(this.store.select(z).subscribe((function(t){t&&(e._currentPlane=t)})))}},{key:"currentPlane",get:function(){var e;return(null===(e=this._currentPlane)||void 0===e?void 0:e.id)===this._currentPlaneId?this._currentPlane:null}},{key:"currentPlaneId",get:function(){return this._currentPlaneId},set:function(e){this._currentPlaneId=Number(e),this.store.dispatch(h({id:e}))}}]),e}()).\u0275fac=function(e){return new(e||F)(_.Xb(i.b))},F.\u0275prov=_.Jb({token:F,factory:F.\u0275fac,providedIn:"root"}),F),ye=n("y0gQ");function me(e,t){1&e&&_.Ob(0,"bia-spinner",2),2&e&&_.kc("overlay",!0)}var ge,ve=((ge=function(){function e(t,n,a){_classCallCheck(this,e),this.store=t,this.location=n,this.planeService=a,this.displayChange=new _.n,this.sub=new de.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"onSubmitted",value:function(e){this.store.dispatch(m({plane:e})),this.location.back()}},{key:"onCancelled",value:function(){this.location.back()}}]),e}()).\u0275fac=function(e){return new(e||ge)(_.Nb(i.b),_.Nb(ae.i),_.Nb(he))},ge.\u0275cmp=_.Hb({type:ge,selectors:[["app-plane-edit"]],outputs:{displayChange:"displayChange"},decls:4,vars:6,consts:[[3,"plane","cancel","save"],[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(_.Tb(0,"app-plane-form",0),_.bc("cancel",(function(){return t.onCancelled()}))("save",(function(e){return t.onSubmitted(e)})),_.ec(1,"async"),_.Sb(),_.Fc(2,me,1,1,"bia-spinner",1),_.ec(3,"async")),2&e&&(_.kc("plane",_.fc(1,2,t.planeService.plane$)),_.Bb(2),_.kc("ngIf",_.fc(3,4,t.planeService.loading$)))},directives:[pe,ae.m,ye.a],pipes:[ae.b],styles:[""]}),ge),Oe=n("+dww"),Se=n("95+j"),je=n("SxV6");function Ce(e,t){1&e&&_.Ob(0,"bia-spinner",1),2&e&&_.kc("overlay",!0)}var _e,Pe,Te=[{path:"",data:{breadcrumb:null,permission:Y.a.Plane_List_Access},component:re,canActivate:[Oe.a]},{path:"create",data:{breadcrumb:"bia.add",canNavigate:!1,permission:Y.a.Plane_Create},component:fe,canActivate:[Oe.a]},{path:":planeId",data:{breadcrumb:"",canNavigate:!0},component:(_e=function(){function e(t,n,a,r){_classCallCheck(this,e),this.store=t,this.route=n,this.planeService=a,this.layoutService=r,this.sub=new de.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.planeService.currentPlaneId=this.route.snapshot.params.planeId,this.sub.add(this.store.select(z).subscribe((function(t){(null==t?void 0:t.msn)&&(e.route.data.pipe(Object(je.a)()).subscribe((function(e){e.breadcrumb=t.msn})),e.layoutService.refreshBreadcrumb())})))}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}}]),e}(),_e.\u0275fac=function(e){return new(e||_e)(_.Nb(i.b),_.Nb(r.a),_.Nb(he),_.Nb(Se.a))},_e.\u0275cmp=_.Hb({type:_e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[3,"overlay",4,"ngIf"],[3,"overlay"]],template:function(e,t){1&e&&(_.Ob(0,"router-outlet"),_.Fc(1,Ce,1,1,"bia-spinner",0),_.ec(2,"async")),2&e&&(_.Bb(1),_.kc("ngIf",_.fc(2,1,t.planeService.loading$)))},directives:[r.g,ae.m,ye.a],pipes:[ae.b],styles:[""]}),_e),canActivate:[Oe.a],children:[{path:"edit",data:{breadcrumb:"bia.edit",canNavigate:!0,permission:Y.a.Plane_Update},component:ve,canActivate:[Oe.a]},{path:"",redirectTo:"edit"}]},{path:"**",redirectTo:""}],we=((Pe=function e(){_classCallCheck(this,e)}).\u0275mod=_.Lb({type:Pe}),Pe.\u0275inj=_.Kb({factory:function(e){return new(e||Pe)},imports:[[ie.a,r.f.forChild(Te),i.d.forFeature("planes-mode-page",D),c.b.forFeature([X])]]}),Pe)}}]);