"use strict";(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[681],{86681:function(e,t,n){n.r(t),n.d(t,{PlaneModule:function(){return St}});var i=n(2694),o=n(86710),a=n(91601),l=n(25917),s=n(92996),c=n(43190),r=n(88002),p=n(5304),u=n(94612),d=n(57057);const f=(0,o.PH)("[Planes] Load all by post (CalcMode)",(0,o.Ky)()),h=(0,o.PH)("[Planes] Load (CalcMode)",(0,o.Ky)()),g=(0,o.PH)("[Planes] Create (CalcMode)",(0,o.Ky)()),m=(0,o.PH)("[Planes] Update (CalcMode)",(0,o.Ky)()),x=(0,o.PH)("[Planes] Remove (CalcMode)",(0,o.Ky)()),w=(0,o.PH)("[Planes] Multi Remove (CalcMode)",(0,o.Ky)()),y=(0,o.PH)("[Planes] Load all by post success (CalcMode)",(0,o.Ky)()),C=(0,o.PH)("[Planes] Load success (CalcMode)",(0,o.Ky)()),S=(0,o.PH)("[Planes] Failure (CalcMode)",(0,o.Ky)());var b=n(74147),M=n(37716);let v=(()=>{class e extends b.Z{constructor(e){super(e,"Planes")}}return e.\u0275fac=function(t){return new(t||e)(M.LFG(M.zs3))},e.\u0275prov=M.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const N=(0,n(80273).H)({selectId:e=>e.id,sortComparer:!1}),A=N.getInitialState({totalCount:0,currentPlane:{},lastLazyLoadEvent:{},loadingGet:!1,loadingGetAll:!1}),T=(0,o.Lq)(A,(0,o.on)(f,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!0})),(0,o.on)(h,e=>Object.assign(Object.assign({},e),{loadingGet:!0})),(0,o.on)(y,(e,{result:t,event:n})=>{const i=N.setAll(t.data,e);return i.currentPlane={},i.totalCount=t.totalCount,i.lastLazyLoadEvent=n,i.loadingGetAll=!1,i}),(0,o.on)(C,(e,{plane:t})=>Object.assign(Object.assign({},e),{currentPlane:t,loadingGet:!1})),(0,o.on)(S,(e,{})=>Object.assign(Object.assign({},e),{loadingGetAll:!1,loadingGet:!1})));function Q(e,t){return(0,o.UY)({planes:T})(e,t)}const Z=(0,o.ZF)("planes-mode-calc"),J=(0,o.P1)(Z,e=>e.planes),L=(0,o.P1)(J,e=>e.totalCount),$=((0,o.P1)(J,e=>e.currentPlane),(0,o.P1)(J,e=>e.lastLazyLoadEvent)),P=((0,o.P1)(J,e=>e.loadingGet),(0,o.P1)(J,e=>e.loadingGetAll)),{selectAll:F}=N.getSelectors(J);var O=n(42);let D=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.planeDas=t,this.biaMessageService=n,this.store=i,this.loadAllByPost$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(f),(0,s.j)("event"),(0,c.w)(e=>this.planeDas.getListByPost(e).pipe((0,r.U)(t=>y({result:t,event:e})),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(S({error:e})))))))),this.load$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(h),(0,s.j)("id"),(0,c.w)(e=>this.planeDas.get(e).pipe((0,r.U)(e=>C({plane:e})),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(S({error:e})))))))),this.create$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(g),(0,s.j)("plane"),(0,u.b)(e=>(0,l.of)(e).pipe((0,d.M)(this.store.select($)))),(0,c.w)(([e,t])=>this.planeDas.post(e).pipe((0,r.U)(()=>(this.biaMessageService.showAddSuccess(),f({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(S({error:e})))))))),this.update$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(m),(0,s.j)("plane"),(0,u.b)(e=>(0,l.of)(e).pipe((0,d.M)(this.store.select($)))),(0,c.w)(([e,t])=>this.planeDas.put(e,e.id).pipe((0,r.U)(()=>(this.biaMessageService.showUpdateSuccess(),f({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(S({error:e})))))))),this.destroy$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(x),(0,s.j)("id"),(0,u.b)(e=>(0,l.of)(e).pipe((0,d.M)(this.store.select($)))),(0,c.w)(([e,t])=>this.planeDas.delete(e).pipe((0,r.U)(()=>(this.biaMessageService.showDeleteSuccess(),f({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(S({error:e})))))))),this.multiDestroy$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(w),(0,s.j)("ids"),(0,u.b)(e=>(0,l.of)(e).pipe((0,d.M)(this.store.select($)))),(0,c.w)(([e,t])=>this.planeDas.deletes(e).pipe((0,r.U)(()=>(this.biaMessageService.showDeleteSuccess(),f({event:t}))),(0,p.K)(e=>(this.biaMessageService.showError(),(0,l.of)(S({error:e}))))))))}}return e.\u0275fac=function(t){return new(t||e)(M.LFG(a.eX),M.LFG(v),M.LFG(O.X),M.LFG(o.yh))},e.\u0275prov=M.Yz7({token:e,factory:e.\u0275fac}),e})();var Y=n(9112),I=n(88385),k=n(79090),B=n(40136),E=n(8340),H=n(49457),q=n(38042),j=n(29206),z=n(94529),_=n(76668),U=n(84845),G=n(59931),K=n(37597),R=n(81780),V=n(35618),W=n(81606),X=n(76743),ee=n(3679),te=n(11466),ne=n(86320),ie=n(38583),oe=n(70667),ae=n(33013),le=n(13928),se=n(88030),ce=n(50103),re=n(36949),pe=n(12332),ue=n(88598),de=n(45862),fe=n(49067);function he(e,t){1&e&&(M.TgZ(0,"th",10),M._UZ(1,"p-tableHeaderCheckbox"),M.qZA())}function ge(e,t){if(1&e&&(M.TgZ(0,"th",12),M._uU(1),M.ALo(2,"translate"),M._UZ(3,"p-sortIcon",13),M.qZA()),2&e){const e=M.oxw().$implicit;M.Q6J("pSortableColumn",e.field),M.xp6(1),M.hij(" ",M.lcZ(2,3,null==e?null:e.header)," "),M.xp6(2),M.Q6J("field",e.field)}}function me(e,t){if(1&e&&(M.TgZ(0,"th"),M._uU(1),M.ALo(2,"translate"),M.qZA()),2&e){const e=M.oxw().$implicit;M.xp6(1),M.hij(" ",M.lcZ(2,1,null==e?null:e.header)," ")}}function xe(e,t){if(1&e&&(M.ynx(0),M.YNc(1,ge,4,5,"th",11),M.YNc(2,me,3,3,"th",9),M.BQk()),2&e){const e=t.$implicit;M.xp6(1),M.Q6J("ngIf",!0===(null==e?null:e.isSortable)),M.xp6(1),M.Q6J("ngIf",!0!==(null==e?null:e.isSortable))}}function we(e,t){1&e&&M._UZ(0,"th")}const ye=function(e){return{"p-state-filled":e}};function Ce(e,t){if(1&e){const e=M.EpF();M.TgZ(0,"span",17),M.TgZ(1,"input",18),M.NdJ("input",function(t){M.CHM(e);const n=M.oxw().$implicit;return M.oxw(3),M.MAs(1).filter(t.target.value,n.field,n.filterMode)}),M.ALo(2,"translate"),M.qZA(),M.qZA()}if(2&e){const e=M.oxw().$implicit;M.oxw(3);const t=M.MAs(1);M.xp6(1),M.s9C("type","Number"===e.type?"number":"text"),M.s9C("placeholder",void 0!==e.searchPlaceholder?e.searchPlaceholder:!0===e.isDate?M.lcZ(2,4,"bia.dateIso8601"):""),M.Q6J("value",null==t.filters[e.field]?null:t.filters[e.field].value)("ngClass",M.VKq(6,ye,""!==(null==t.filters[e.field]?null:t.filters[e.field].value)))}}function Se(e,t){if(1&e&&(M.TgZ(0,"th",15),M.YNc(1,Ce,3,8,"span",16),M.qZA()),2&e){const e=t.$implicit;M.Q6J("ngSwitch",e.field),M.xp6(1),M.Q6J("ngIf",!0===e.isSearchable)}}function be(e,t){if(1&e&&(M.TgZ(0,"tr"),M.YNc(1,we,1,0,"th",9),M.YNc(2,Se,2,2,"th",14),M.qZA()),2&e){const e=M.oxw().$implicit,t=M.oxw(2);M.xp6(1),M.Q6J("ngIf",t.canSelectElement),M.xp6(1),M.Q6J("ngForOf",e)}}function Me(e,t){if(1&e&&(M.TgZ(0,"tr"),M.YNc(1,he,2,0,"th",7),M.YNc(2,xe,3,2,"ng-container",8),M.qZA(),M.YNc(3,be,3,2,"tr",9)),2&e){const e=t.$implicit,n=M.oxw(2);M.xp6(1),M.Q6J("ngIf",n.canSelectElement),M.xp6(1),M.Q6J("ngForOf",e),M.xp6(1),M.Q6J("ngIf",n.showColSearch)}}function ve(e,t){if(1&e&&M._UZ(0,"p-tableCheckbox",23),2&e){const e=M.oxw(2).$implicit;M.Q6J("value",e)}}function Ne(e,t){1&e&&M._UZ(0,"i",24)}function Ae(e,t){if(1&e&&(M.TgZ(0,"td"),M.YNc(1,ve,1,1,"p-tableCheckbox",21),M.YNc(2,Ne,1,0,"i",22),M.qZA()),2&e){const e=M.oxw().$implicit,t=M.oxw(2);M.xp6(1),M.Q6J("ngIf",!0!==t.isFooter(e)&&e.id>0),M.xp6(1),M.Q6J("ngIf",!0===t.isFooter(e))}}function Te(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"input",29),M.NdJ("change",function(){return M.CHM(e),M.oxw(6).onChange()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(3).$implicit;M.xp6(1),M.Q6J("formControlName",e.field)}}function Qe(e,t){1&e&&(M.TgZ(0,"span",30),M._uU(1,"*"),M.qZA())}function Ze(e,t){if(1&e&&(M.ynx(0,15),M.YNc(1,Te,2,1,"ng-container",27),M.BQk(),M.YNc(2,Qe,2,0,"span",28)),2&e){const e=M.oxw(2).$implicit,t=M.oxw(3);M.Q6J("ngSwitch",e.field),M.xp6(2),M.Q6J("ngIf",!0===t.isRequired(e.field))}}function Je(e,t){1&e&&M.YNc(0,Ze,3,2,"ng-template",26)}function Le(e,t){if(1&e&&(M.ynx(0),M._uU(1),M.BQk()),2&e){const e=M.oxw(3).$implicit,t=M.oxw().$implicit;M.xp6(1),M.hij(" ",t[e.field]," ")}}function $e(e,t){if(1&e&&(M.ynx(0,15),M.YNc(1,Le,2,1,"ng-container",27),M.BQk()),2&e){const e=M.oxw(2).$implicit;M.Q6J("ngSwitch",e.field)}}function Pe(e,t){1&e&&M.YNc(0,$e,2,1,"ng-template",31)}const Fe=function(){return{width:"100%"}};function Oe(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"p-dropdown",35),M.NdJ("onChange",function(){return M.CHM(e),M.oxw(7).onChange()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(4).$implicit,t=M.oxw(3);M.xp6(1),M.Akn(M.DdM(4,Fe)),M.Q6J("formControlName",e.field)("options",t.getOptionDto(e.field))}}function De(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"p-multiSelect",36),M.NdJ("onChange",function(){return M.CHM(e),M.oxw(7).onChange()})("onPanelShow",function(){return M.CHM(e),M.oxw(7).onPanelShowMultiSelect()})("onPanelHide",function(){return M.CHM(e),M.oxw(7).onPanelHideMultiSelect()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(4).$implicit,t=M.oxw(3);M.xp6(1),M.Akn(M.DdM(4,Fe)),M.Q6J("formControlName",e.field)("options",t.getOptionDto(e.field))}}function Ye(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"p-checkbox",37),M.NdJ("onChange",function(){return M.CHM(e),M.oxw(7).onChange()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(4).$implicit;M.xp6(1),M.Q6J("binary",!0)("formControlName",e.field)}}function Ie(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"input",38),M.NdJ("change",function(){return M.CHM(e),M.oxw(7).onChange()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(4).$implicit;M.xp6(1),M.Q6J("formControlName",e.field)}}function ke(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"p-calendar",39),M.NdJ("onShow",function(){return M.CHM(e),M.oxw(7).onShowCalendar()})("onSelect",function(){return M.CHM(e),M.oxw(7).onChange()})("onBlur",function(){return M.CHM(e),M.oxw(7).onBlurCalendar()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(4).$implicit;M.xp6(1),M.Akn(M.DdM(5,Fe)),M.Q6J("formControlName",e.field)("showButtonBar",!0)("inputStyle",M.DdM(6,Fe))}}function Be(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"p-calendar",40),M.NdJ("onShow",function(){return M.CHM(e),M.oxw(7).onShowCalendar()})("onSelect",function(){return M.CHM(e),M.oxw(7).onChange()})("onBlur",function(){return M.CHM(e),M.oxw(7).onBlurCalendar()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(4).$implicit;M.xp6(1),M.Akn(M.DdM(5,Fe)),M.Q6J("formControlName",e.field)("inputStyle",M.DdM(6,Fe))("timeOnly",!0)}}function Ee(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"p-calendar",41),M.NdJ("onShow",function(){return M.CHM(e),M.oxw(7).onShowCalendar()})("onSelect",function(){return M.CHM(e),M.oxw(7).onChange()})("onBlur",function(){return M.CHM(e),M.oxw(7).onBlurCalendar()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(4).$implicit;M.xp6(1),M.Akn(M.DdM(5,Fe)),M.Q6J("formControlName",e.field)("inputStyle",M.DdM(6,Fe))("timeOnly",!0)}}function He(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"p-calendar",42),M.NdJ("onShow",function(){return M.CHM(e),M.oxw(7).onShowCalendar()})("onSelect",function(){return M.CHM(e),M.oxw(7).onChange()})("onBlur",function(){return M.CHM(e),M.oxw(7).onBlurCalendar()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(4).$implicit;M.xp6(1),M.Akn(M.DdM(5,Fe)),M.Q6J("formControlName",e.field)("inputStyle",M.DdM(6,Fe))("timeOnly",!0)}}function qe(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"p-calendar",43),M.NdJ("onShow",function(){return M.CHM(e),M.oxw(7).onShowCalendar()})("onSelect",function(){return M.CHM(e),M.oxw(7).onChange()})("onBlur",function(){return M.CHM(e),M.oxw(7).onBlurCalendar()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(4).$implicit;M.xp6(1),M.Akn(M.DdM(5,Fe)),M.Q6J("formControlName",e.field)("showButtonBar",!0)("inputStyle",M.DdM(6,Fe))}}function je(e,t){if(1&e){const e=M.EpF();M.ynx(0),M.TgZ(1,"input",44),M.NdJ("change",function(){return M.CHM(e),M.oxw(7).onChange()}),M.qZA(),M.BQk()}if(2&e){const e=M.oxw(4).$implicit;M.xp6(1),M.Q6J("maxlength",e.maxlength)("formControlName",e.field)}}function ze(e,t){1&e&&(M.TgZ(0,"span",30),M._uU(1,"*"),M.qZA())}function _e(e,t){if(1&e&&(M.ynx(0,15),M.YNc(1,Oe,2,5,"ng-container",34),M.YNc(2,De,2,5,"ng-container",34),M.YNc(3,Ye,2,2,"ng-container",34),M.YNc(4,Ie,2,1,"ng-container",34),M.YNc(5,ke,2,7,"ng-container",34),M.YNc(6,Be,2,7,"ng-container",34),M.YNc(7,Ee,2,7,"ng-container",34),M.YNc(8,He,2,7,"ng-container",34),M.YNc(9,qe,2,7,"ng-container",34),M.YNc(10,je,2,2,"ng-container",27),M.BQk(),M.YNc(11,ze,2,0,"span",28)),2&e){const e=M.oxw(3).$implicit,t=M.oxw(3);M.Q6J("ngSwitch",e.type),M.xp6(1),M.Q6J("ngSwitchCase","OneToMany"),M.xp6(1),M.Q6J("ngSwitchCase","ManyToMany"),M.xp6(1),M.Q6J("ngSwitchCase","Boolean"),M.xp6(1),M.Q6J("ngSwitchCase","Number"),M.xp6(1),M.Q6J("ngSwitchCase","Date"),M.xp6(1),M.Q6J("ngSwitchCase","Time"),M.xp6(1),M.Q6J("ngSwitchCase","TimeOnly"),M.xp6(1),M.Q6J("ngSwitchCase","TimeSecOnly"),M.xp6(1),M.Q6J("ngSwitchCase","DateTime"),M.xp6(2),M.Q6J("ngIf",!0===t.isRequired(e.field))}}function Ue(e,t){if(1&e&&(M.ynx(0),M._uU(1),M.BQk()),2&e){const e=M.oxw(5).$implicit,t=M.oxw().$implicit;M.xp6(1),M.hij(" ",null==t[e.field]?null:t[e.field].display," ")}}function Ge(e,t){if(1&e&&(M.ynx(0),M._uU(1),M.BQk()),2&e){const e=M.oxw(5).$implicit,t=M.oxw().$implicit,n=M.oxw(2);M.xp6(1),M.hij(" ",n.formatDisplayName(t[e.field])," ")}}function Ke(e,t){if(1&e&&(M.ynx(0),M._uU(1),M.ALo(2,"formatValue"),M.BQk()),2&e){const e=M.oxw(5).$implicit,t=M.oxw().$implicit;M.xp6(1),M.hij(" ",M.xi3(2,1,t[e.field],e)," ")}}function Re(e,t){if(1&e&&(M.ynx(0),M.ynx(1,15),M.YNc(2,Ue,2,1,"ng-container",34),M.YNc(3,Ge,2,1,"ng-container",34),M.YNc(4,Ke,3,4,"ng-container",27),M.BQk(),M.BQk()),2&e){const e=M.oxw(4).$implicit;M.xp6(1),M.Q6J("ngSwitch",e.type),M.xp6(1),M.Q6J("ngSwitchCase","OneToMany"),M.xp6(1),M.Q6J("ngSwitchCase","ManyToMany")}}function Ve(e,t){if(1&e&&M.YNc(0,Re,5,3,"ng-container",9),2&e){const e=M.oxw(4).$implicit,t=M.oxw(2);M.Q6J("ngIf",!0!==t.isFooter(e))}}function We(e,t){if(1&e&&(M.YNc(0,_e,12,11,"ng-template",32),M.YNc(1,Ve,1,1,"ng-template",null,33,M.W1O)),2&e){const e=M.MAs(2),t=M.oxw(2).$implicit;M.Q6J("ngIf",!0===t.isEditable)("ngIfElse",e)}}function Xe(e,t){1&e&&M.YNc(0,We,3,2,"ng-template",26)}function et(e,t){1&e&&(M.TgZ(0,"label"),M._uU(1,"-"),M.qZA())}function tt(e,t){if(1&e&&M.YNc(0,et,2,0,"label",9),2&e){const e=M.oxw(3).$implicit;M.Q6J("ngIf",!0===e.isEditable)}}function nt(e,t){if(1&e&&(M.ynx(0),M._uU(1),M.BQk()),2&e){const e=M.oxw(4).$implicit,t=M.oxw().$implicit;M.xp6(1),M.hij(" ",null==t[e.field]?null:t[e.field].display," ")}}function it(e,t){if(1&e&&(M.ynx(0),M._uU(1),M.BQk()),2&e){const e=M.oxw(4).$implicit,t=M.oxw().$implicit,n=M.oxw(2);M.xp6(1),M.hij(" ",n.formatDisplayName(t[e.field])," ")}}function ot(e,t){1&e&&M._UZ(0,"i",47)}function at(e,t){if(1&e&&(M.ynx(0),M.YNc(1,ot,1,0,"i",46),M.BQk()),2&e){const e=M.oxw(4).$implicit,t=M.oxw().$implicit;M.xp6(1),M.Q6J("ngIf",!0===t[e.field])}}function lt(e,t){if(1&e&&(M.ynx(0),M._uU(1),M.ALo(2,"formatValue"),M.BQk()),2&e){const e=M.oxw(4).$implicit,t=M.oxw().$implicit;M.xp6(1),M.hij(" ",M.xi3(2,1,t[e.field],e)," ")}}function st(e,t){if(1&e&&(M.ynx(0,15),M.YNc(1,nt,2,1,"ng-container",34),M.YNc(2,it,2,1,"ng-container",34),M.YNc(3,at,2,1,"ng-container",34),M.YNc(4,lt,3,4,"ng-container",27),M.BQk()),2&e){const e=M.oxw(3).$implicit;M.Q6J("ngSwitch",e.type),M.xp6(1),M.Q6J("ngSwitchCase","OneToMany"),M.xp6(1),M.Q6J("ngSwitchCase","ManyToMany"),M.xp6(1),M.Q6J("ngSwitchCase","Boolean")}}function ct(e,t){if(1&e&&(M.YNc(0,tt,1,1,"ng-template",32),M.YNc(1,st,5,4,"ng-template",null,45,M.W1O)),2&e){const e=M.MAs(2),t=M.oxw(3).$implicit,n=M.oxw(2);M.Q6J("ngIf",!0===n.isFooter(t))("ngIfElse",e)}}function rt(e,t){1&e&&M.YNc(0,ct,3,2,"ng-template",31)}function pt(e,t){if(1&e){const e=M.EpF();M.TgZ(0,"td",25),M.NdJ("click",function(){M.CHM(e);const t=M.oxw().$implicit;return M.oxw(2).initEditableRow(t)}),M.TgZ(1,"p-cellEditor"),M.YNc(2,Je,1,0,void 0,9),M.YNc(3,Pe,1,0,void 0,9),M.YNc(4,Xe,1,0,void 0,9),M.YNc(5,rt,1,0,void 0,9),M.qZA(),M.qZA()}if(2&e){const e=t.$implicit,n=M.oxw(3);M.xp6(2),M.Q6J("ngIf",!0===n.isSpecificInput(e.field)),M.xp6(1),M.Q6J("ngIf",!0===n.isSpecificInput(e.field)),M.xp6(1),M.Q6J("ngIf",!0!==n.isSpecificInput(e.field)),M.xp6(1),M.Q6J("ngIf",!0!==n.isSpecificInput(e.field))}}function ut(e,t){if(1&e){const e=M.EpF();M.TgZ(0,"tr",19),M.NdJ("focusout",function(){return M.CHM(e),M.oxw(2).onFocusout()})("keyup.enter",function(){return M.CHM(e),M.oxw(2).initEditableRow(null)})("keyup.escape",function(){return M.CHM(e),M.oxw(2).cancel()}),M.YNc(1,Ae,3,2,"td",9),M.YNc(2,pt,6,4,"td",20),M.qZA()}if(2&e){const e=t.$implicit,n=t.columns,i=M.oxw(2);M.Q6J("pSelectableRow",!0!==i.isFooter(e)?e:null)("pEditableRow",e),M.xp6(1),M.Q6J("ngIf",i.canSelectElement),M.xp6(1),M.Q6J("ngForOf",n)}}function dt(e,t){if(1&e&&(M.TgZ(0,"tr"),M.TgZ(1,"td",48),M._uU(2),M.ALo(3,"translate"),M.qZA(),M.qZA()),2&e){const e=t.$implicit;M.xp6(1),M.uIk("colspan",e.length+1),M.xp6(1),M.hij(" ",M.lcZ(3,2,"bia.NoRecordsFound")," ")}}function ft(e,t){if(1&e){const e=M.EpF();M.TgZ(0,"p-table",2,3),M.NdJ("onFilter",function(){return M.CHM(e),M.oxw().onFilter()})("onLazyLoad",function(t){return M.CHM(e),M.oxw().onLoadLazy(t)})("onStateSave",function(t){return M.CHM(e),M.oxw().onStateSave(t)})("selectionChange",function(){return M.CHM(e),M.oxw().onSelectionChange()}),M.ALo(2,"async"),M.YNc(3,Me,4,3,"ng-template",4),M.YNc(4,ut,3,4,"ng-template",5),M.YNc(5,dt,4,4,"ng-template",6),M.qZA()}if(2&e){const e=M.oxw();M.Q6J("autoLayout",!0)("reorderableColumns",!0)("columns",e.displayedColumns)("value",e.elements)("paginator",e.paginator)("rows",e.pageSize)("totalRecords",e.totalRecord)("lazy",!0)("loading",e.loading&&null!==M.lcZ(2,14,e.showLoading$))("stateStorage","session")("stateKey",e.tableStateKey)("lazyLoadOnInit",e.getLazyLoadOnInit())("sortField",e.sortFieldValue)("sortOrder",e.sortOrderValue)}}let ht=(()=>{class e extends ne.l{constructor(e,t,n,i){super(e,t,n,i),this.formBuilder=e,this.authService=t,this.biaMessageService=n,this.translateService=i,this.initForm()}initForm(){var e;this.form=this.formBuilder.group({id:[this.element.id],msn:[this.element.msn,ee.kI.required],isActive:[this.element.isActive],firstFlightDate:[this.element.firstFlightDate,ee.kI.required],firstFlightTime:[this.element.firstFlightTime,ee.kI.required],lastFlightDate:[this.element.lastFlightDate],capacity:[this.element.capacity,ee.kI.required],connectingAirports:[this.element.connectingAirports],planeType:[null===(e=this.element.planeType)||void 0===e?void 0:e.id]})}onSubmit(){var e;if(this.form.valid){const t=this.form.value;t.id=t.id>0?t.id:0,t.isActive=!!t.isActive&&t.isActive,t.connectingAirports=te.P.Differential(t.connectingAirports,null===(e=this.element)||void 0===e?void 0:e.connectingAirports),t.planeType=te.P.Clone(t.planeType),this.save.emit(t),this.form.reset()}}}return e.\u0275fac=function(t){return new(t||e)(M.Y36(ee.qu),M.Y36(E.e),M.Y36(O.X),M.Y36(R.sK))},e.\u0275cmp=M.Xpm({type:e,selectors:[["app-plane-table"]],features:[M.qOj],decls:2,vars:2,consts:[[1,"bia-calc-form",3,"formGroup"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange",4,"ngIf"],["editMode","row","dataKey","id","styleClass","p-datatable-striped",3,"autoLayout","reorderableColumns","columns","value","paginator","rows","totalRecords","lazy","loading","stateStorage","stateKey","lazyLoadOnInit","sortField","sortOrder","onFilter","onLazyLoad","onStateSave","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","bia-table-select-col",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bia-table-select-col"],[3,"pSortableColumn",4,"ngIf"],[3,"pSortableColumn"],[3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","p-float-label",4,"ngIf"],[1,"p-float-label"],["pInputText","",1,"input-search",3,"type","placeholder","value","ngClass","input"],[3,"pSelectableRow","pEditableRow","focusout","keyup.enter","keyup.escape"],[3,"click",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["class","pi pi-plus",4,"ngIf"],[3,"value"],[1,"pi","pi-plus"],[3,"click"],["pTemplate","input"],[4,"ngSwitchDefault"],["class","bia-star-mandatory",4,"ngIf"],["pInputText","","type","text",3,"formControlName","change"],[1,"bia-star-mandatory"],["pTemplate","output"],[3,"ngIf","ngIfElse"],["isNotEditable",""],[4,"ngSwitchCase"],["placeholder","\xa0","optionLabel","display","dataKey","id","showClear","true","appendTo","body",3,"formControlName","options","onChange"],["defaultLabel","\xa0","optionLabel","display","datakey","id","appendTo","body",3,"formControlName","options","onChange","onPanelShow","onPanelHide"],[3,"binary","formControlName","onChange"],["pInputText","","type","number",3,"formControlName","change"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","showSeconds","true","dataType","string",3,"formControlName","inputStyle","timeOnly","onShow","onSelect","onBlur"],["biaLocale","","placeholder","\xa0","appendTo","body","readonlyInput","true","showTime","true","dateFormat","yy-mm-dd",3,"formControlName","showButtonBar","inputStyle","onShow","onSelect","onBlur"],["pInputText","","type","text",3,"maxlength","formControlName","change"],["editRow",""],["class","pi pi-check",4,"ngIf"],[1,"pi","pi-check"],[1,"app-empty-message"]],template:function(e,t){1&e&&(M.TgZ(0,"form",0),M.YNc(1,ft,6,16,"p-table",1),M.qZA()),2&e&&(M.Q6J("formGroup",t.form),M.xp6(1),M.Q6J("ngIf",t.configuration))},directives:[ee._Y,ee.JL,ee.sg,ie.O5,oe.iA,ae.jx,ie.sg,oe.Mo,oe.lQ,oe.fz,ie.RF,le.o,ie.mk,se.oO,oe.Ei,oe.D$,oe.UA,oe.YL,ie.ED,ee.Fj,ee.JJ,ee.u,ie.n9,ce.Lt,re.NU,pe.XZ,ee.wV,ue.f,de.D,ee.nD],pipes:[ie.Ov,R.X$,fe.c],styles:["[_nghost-%COMP%]{flex-direction:column}[_nghost-%COMP%]     p-table .searchTR .p-float-label .p-inputtext{padding-top:2px!important}.input-search[_ngcontent-%COMP%]{width:99%}.app-empty-message[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{width:100%}.bia-table-select-col[_ngcontent-%COMP%]{width:60px}"]}),e})(),gt=(()=>{class e{constructor(e,t,n,i,o){this.store=e,this.authService=t,this.planeDas=n,this.translateService=i,this.biaTranslationService=o,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.defaultPageSize=B.L8,this.pageSize=this.defaultPageSize,this.canEdit=!1,this.canDelete=!1,this.canAdd=!1}ngOnInit(){this.initTableConfiguration(),this.setPermissions(),this.planes$=this.store.select(F),this.totalCount$=this.store.select(L),this.loading$=this.store.select(P);const e=this.store.select(_.HJ);this.store.dispatch((0,G.g9)());const t=this.store.select(U.by);this.store.dispatch((0,K.bf)()),this.dictOptionDtos$=(0,Y.aj)([t,e]).pipe((0,r.U)(e=>[new z.b("planeType",e[0]),new z.b("connectingAirports",e[1])]))}onDelete(){this.selectedPlanes&&this.canDelete&&this.store.dispatch(w({ids:this.selectedPlanes.map(e=>e.id)}))}onSave(e){(null==e?void 0:e.id)>0?this.canEdit&&this.store.dispatch(m({plane:e})):this.canAdd&&this.store.dispatch(g({plane:e}))}onSelectedElementsChanged(e){this.selectedPlanes=e}onPageSizeChange(e){this.pageSize=e}onLoadLazy(e){this.store.dispatch(f({event:e}))}searchGlobalChanged(e){this.globalSearchValue=e}displayedColumnsChanged(e){this.displayedColumns=e}onToggleSearch(){this.showColSearch=!this.showColSearch}onViewChange(e){this.viewPreference=e}onExportCSV(){const e={};this.columns.map(t=>e[t.value.split(".")[1]]=this.translateService.instant(t.value));const t=Object.assign({columns:e},this.planeListComponent.getLazyLoadMetadata());this.planeDas.getFile(t).subscribe(e=>{H.saveAs(e,this.translateService.instant("app.planes")+".csv")})}setPermissions(){this.canEdit=this.authService.hasPermission(j.y.Plane_Update),this.canDelete=this.authService.hasPermission(j.y.Plane_Delete),this.canAdd=this.authService.hasPermission(j.y.Plane_Create)}initTableConfiguration(){this.biaTranslationService.currentCultureDateFormat$.subscribe(e=>{this.tableConfiguration={columns:[Object.assign(new k.ML("id","bia.id"),{isEditable:!1,type:k.d5.Number}),new k.ML("msn","plane.msn"),Object.assign(new k.ML("isActive","plane.isActive"),{isSearchable:!1,isSortable:!1,type:k.d5.Boolean}),Object.assign(new k.ML("firstFlightDate","plane.firstFlightDate"),{type:k.d5.Date,formatDate:e.dateFormat}),Object.assign(new k.ML("firstFlightTime","plane.firstFlightTime"),{isSearchable:!1,isSortable:!1,type:k.d5.Time,formatDate:e.timeFormat}),Object.assign(new k.ML("lastFlightDate","plane.lastFlightDate"),{type:k.d5.DateTime,formatDate:e.dateTimeFormat}),Object.assign(new k.ML("capacity","plane.capacity"),{type:k.d5.Number,filterMode:k.ZF.Equals}),Object.assign(new k.ML("planeType","plane.planeType"),{type:k.d5.OneToMany}),Object.assign(new k.ML("connectingAirports","plane.connectingAirports"),{type:k.d5.ManyToMany})]},this.columns=this.tableConfiguration.columns.map(e=>({key:e.field,value:e.header})),this.displayedColumns=[...this.columns]})}}return e.\u0275fac=function(t){return new(t||e)(M.Y36(o.yh),M.Y36(E.e),M.Y36(v),M.Y36(R.sK),M.Y36(q.P6))},e.\u0275cmp=M.Xpm({type:e,selectors:[["app-planes-index"]],viewQuery:function(e,t){if(1&e&&M.Gf(I.$,5),2&e){let e;M.iGM(e=M.CRH())&&(t.planeListComponent=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&M.ekj("bia-flex",t.flex)},decls:11,vars:33,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canAdd","canExportCSV","selectedElements","exportCSV","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","dictOptionDtos","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canAdd","canSelectElement","loading","viewPreference","loadLazy","selectedElementsChanged","save"]],template:function(e,t){1&e&&(M.TgZ(0,"div",0),M.TgZ(1,"div",1),M.TgZ(2,"bia-table-header",2),M.NdJ("exportCSV",function(){return t.onExportCSV()})("delete",function(){return t.onDelete()}),M.ALo(3,"translate"),M.qZA(),M.TgZ(4,"bia-table-controller",3),M.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),M.ALo(5,"async"),M.qZA(),M.TgZ(6,"app-plane-table",4),M.NdJ("loadLazy",function(e){return t.onLoadLazy(e)})("selectedElementsChanged",function(e){return t.onSelectedElementsChanged(e)})("save",function(e){return t.onSave(e)}),M.ALo(7,"async"),M.ALo(8,"async"),M.ALo(9,"async"),M.ALo(10,"async"),M.qZA(),M.qZA(),M.qZA()),2&e&&(M.xp6(2),M.Q6J("headerTitle",M.lcZ(3,21,"plane.listOf"))("canAdd",!1)("canExportCSV",!0)("selectedElements",t.selectedPlanes),M.xp6(2),M.Q6J("defaultPageSize",t.defaultPageSize)("length",M.lcZ(5,23,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),M.xp6(2),M.Q6J("elements",M.lcZ(7,25,t.planes$))("dictOptionDtos",M.lcZ(8,27,t.dictOptionDtos$))("totalRecord",M.lcZ(9,29,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",t.canEdit)("canAdd",t.canAdd)("canSelectElement",t.canDelete)("loading",M.lcZ(10,31,t.loading$))("viewPreference",t.viewPreference))},directives:[V.xw,V.yH,W.l,X.B,ht],pipes:[R.X$,ie.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),e})();var mt=n(84594),xt=n(16249),wt=n(63364),yt=n(23291);const Ct=[{path:"",data:{breadcrumb:null,permission:j.y.Plane_List_Access},component:gt,canActivate:[xt.n]},{path:"**",redirectTo:""}];let St=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=M.oAB({type:e}),e.\u0275inj=M.cJS({imports:[[mt.m,i.Bz.forChild(Ct),o.Aw.forFeature("planes-mode-calc",Q),a.sQ.forFeature([D]),wt.i,yt.O]]}),e})()}}]);