Add-Migration Initial -Context DataContextPostGreSql -OutputDir MigrationsPostGreSql



CREATE USER "PostGreSQL_U" WITH PASSWORD 'mi\#HLl03gvEqQqz@p';
GRANT ALL ON DATABASE "BIADemo" TO "PostGreSQL_U";
GRANT ALL ON SCHEMA public TO "PostGreSQL_U";
--GRANT ALL ON SCHEMA hangfire TO "PostGreSQL_U";
-- GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA hangfire TO "PostGreSQL_U";
-- GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA hangfire TO "PostGreSQL_U";
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO "PostGreSQL_U";
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public TO "PostGreSQL_U";

REVOKE ALL ON DATABASE "BIADemo" FROM "PostGreSQL_U";
REVOKE ALL ON SCHEMA public FROM "PostGreSQL_U";
REVOKE ALL ON SCHEMA hangfire FROM "PostGreSQL_U";
REVOKE ALL ON ALL TABLES IN SCHEMA public FROM "PostGreSQL_U";
REVOKE ALL ON ALL TABLES IN SCHEMA hangfire FROM "PostGreSQL_U";
REVOKE ALL ON ALL SEQUENCES IN SCHEMA public FROM "PostGreSQL_U";
REVOKE ALL ON ALL SEQUENCES IN SCHEMA hangfire FROM "PostGreSQL_U";
DROP ROLE "PostGreSQL_U"


-- In postgreSQL to create the Read Write user
CREATE USER "PostGreSQL_RW" WITH PASSWORD 'abRep4dDRthvdYWbav';
--GRANT CONNECT, CREATE ON DATABASE "BIADemo" TO "PostGreSQL_RW";
GRANT CONNECT ON DATABASE "BIADemo" TO "PostGreSQL_RW";
GRANT ALL ON SCHEMA public TO "PostGreSQL_RW";
GRANT ALL ON SCHEMA hangfire TO "PostGreSQL_RW";
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA hangfire TO "PostGreSQL_RW";
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA hangfire TO "PostGreSQL_RW";
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO "PostGreSQL_RW";
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public TO "PostGreSQL_RW";


-- In postgreSQL to drop the Read Write user
REVOKE ALL ON DATABASE "BIADemo" FROM "PostGreSQL_RW";
REVOKE ALL ON SCHEMA public FROM "PostGreSQL_RW";
REVOKE ALL ON SCHEMA hangfire FROM "PostGreSQL_RW";
REVOKE ALL ON ALL TABLES IN SCHEMA public FROM "PostGreSQL_RW";
REVOKE ALL ON ALL TABLES IN SCHEMA hangfire FROM "PostGreSQL_RW";
REVOKE ALL ON ALL SEQUENCES IN SCHEMA public FROM "PostGreSQL_RW";
REVOKE ALL ON ALL SEQUENCES IN SCHEMA hangfire FROM "PostGreSQL_RW";
DROP ROLE "PostGreSQL_RW"