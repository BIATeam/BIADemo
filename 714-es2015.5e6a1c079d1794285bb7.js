"use strict";(self.webpackChunkbiademo=self.webpackChunkbiademo||[]).push([[714],{71714:function(e,t,s){s.r(t),s.d(t,{UserModule:function(){return Ie}});var n=s(2694),i=s(86710),o=s(91601),r=s(25917),a=s(92996),c=s(43190),l=s(88002),u=s(5304),p=s(94612),h=s(57057);const d=(0,i.PH)("[Users] Load all by post",(0,i.Ky)()),f=(0,i.PH)("[Users] Load",(0,i.Ky)()),m=(0,i.PH)("[Users] Create",(0,i.Ky)()),g=(0,i.PH)("[Users] Update",(0,i.Ky)()),y=(0,i.PH)("[Users] Remove",(0,i.Ky)()),b=(0,i.PH)("[Users] Multi Remove",(0,i.Ky)()),v=(0,i.PH)("[Users] Save",(0,i.Ky)()),C=(0,i.PH)("[Users] Synchronize"),S=((0,i.PH)("[Users] Load all success",(0,i.Ky)()),(0,i.PH)("[Users] Load all by post success",(0,i.Ky)())),w=(0,i.PH)("[Users] Load success",(0,i.Ky)()),A=((0,i.PH)("[Users] Create success",(0,i.Ky)()),(0,i.PH)("[Users] Update success",(0,i.Ky)()),(0,i.PH)("[Users] Remove success",(0,i.Ky)()),(0,i.PH)("[Users] Failure",(0,i.Ky)()));var D=s(74147),L=s(37716);let x=(()=>{class e{constructor(){}formatDisplayNameObs(e){return e.pipe((0,l.U)(e=>this.formatDisplayNames(e)))}formatDisplayNames(e){return e.forEach(e=>{e=this.formatDisplayName(e)}),e}formatDisplayName(e){return e.displayName=`${e.firstName} ${e.lastName} (${e.login})`,e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Z=(()=>{class e extends D.Z{constructor(e,t){super(e,"users"),this.userService=t}getAllByFilter(e){return this.userService.formatDisplayNameObs(this.http.get(`${this.route}?filter=${e}`))}synchronize(){return this.http.get(`${this.route}synchronize`)}}return e.\u0275fac=function(t){return new(t||e)(L.LFG(L.zs3),L.LFG(x))},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var U=s(80273);const N=(0,U.H)({selectId:e=>e.id,sortComparer:!1}),E=N.getInitialState({totalCount:0,currentUser:{},lastLazyLoadEvent:{}}),T=(0,i.Lq)(E,(0,i.on)(S,(e,{result:t,event:s})=>{const n=N.setAll(t.data,e);return n.currentUser={},n.totalCount=t.totalCount,n.lastLazyLoadEvent=s,n}),(0,i.on)(w,(e,{user:t})=>Object.assign(Object.assign({},e),{currentUser:t})));function F(e,t){return(0,i.UY)({users:T})(e,t)}const M=(0,i.ZF)("users"),z=(0,i.P1)(M,e=>e.users),P=(0,i.P1)(z,e=>e.totalCount),$=((0,i.P1)(z,e=>e.currentUser),(0,i.P1)(z,e=>e.lastLazyLoadEvent)),{selectAll:k}=N.getSelectors(z);var J=s(38165),q=s(42),G=s(81780);let H=(()=>{class e{constructor(e,t,s,n,i,D){this.actions$=e,this.userDas=t,this.userFromADDas=s,this.biaMessageService=n,this.translateService=i,this.store=D,this.loadAllByPost$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(d),(0,a.j)("event"),(0,c.w)(e=>this.userDas.getListByPost(e).pipe((0,l.U)(t=>S({result:t,event:e})),(0,u.K)(e=>(this.biaMessageService.showError(),(0,r.of)(A({err:{concern:"CREATE",error:e}})))))))),this.load$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(f),(0,a.j)("id"),(0,c.w)(e=>this.userDas.get(e).pipe((0,l.U)(e=>w({user:e})))))),this.synchronize$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(C),(0,p.b)(e=>(0,r.of)(e).pipe((0,h.M)(this.store.select($)))),(0,c.w)(([e,t])=>this.userDas.synchronize().pipe((0,l.U)(()=>(this.biaMessageService.showSyncSuccess(),d({event:t}))),(0,u.K)(e=>(this.biaMessageService.showError(),(0,r.of)(A({err:{concern:"CREATE",error:e}})))))))),this.create$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(m),(0,a.j)("user"),(0,p.b)(e=>(0,r.of)(e).pipe((0,h.M)(this.store.select($)))),(0,c.w)(([e,t])=>this.userDas.post(e).pipe((0,l.U)(()=>(this.biaMessageService.showAddSuccess(),d({event:t}))),(0,u.K)(e=>(this.biaMessageService.showError(),(0,r.of)(A({err:{concern:"CREATE",error:e}})))))))),this.update$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(g),(0,a.j)("user"),(0,p.b)(e=>(0,r.of)(e).pipe((0,h.M)(this.store.select($)))),(0,c.w)(([e,t])=>this.userDas.put(e,e.id).pipe((0,l.U)(()=>(this.biaMessageService.showUpdateSuccess(),d({event:t}))),(0,u.K)(e=>(this.biaMessageService.showError(),(0,r.of)(A({err:{concern:"CREATE",error:e}})))))))),this.destroy$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(y),(0,a.j)("id"),(0,p.b)(e=>(0,r.of)(e).pipe((0,h.M)(this.store.select($)))),(0,c.w)(([e,t])=>this.userDas.delete(e).pipe((0,l.U)(()=>(this.biaMessageService.showDeleteSuccess(),d({event:t}))),(0,u.K)(e=>(this.biaMessageService.showError(),(0,r.of)(A({err:{concern:"CREATE",error:e}})))))))),this.multiDestroy$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(b),(0,a.j)("ids"),(0,p.b)(e=>(0,r.of)(e).pipe((0,h.M)(this.store.select($)))),(0,c.w)(([e,t])=>this.userDas.deletes(e).pipe((0,l.U)(()=>(this.biaMessageService.showDeleteSuccess(),d({event:t}))),(0,u.K)(e=>(this.biaMessageService.showError(),(0,r.of)(A({err:{concern:"CREATE",error:e}})))))))),this.save$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(v),(0,a.j)("usersFromAD"),(0,p.b)(e=>(0,r.of)(e).pipe((0,h.M)(this.store.select($)))),(0,c.w)(([e,t])=>this.userFromADDas.save(e,"").pipe((0,l.U)(()=>(this.biaMessageService.showAddSuccess(),d({event:t}))),(0,u.K)(e=>{if(303===e.status){let t="";e.error&&e.error.forEach(e=>{const s=`${this.translateService.instant("user.cannotAddMember")}`.replace("${login}",e);""!==t&&(t+="\n"),t+=s}),this.biaMessageService.showErrorDetail(t)}else this.biaMessageService.showError();return(0,r.of)(A({err:{concern:"CREATE",error:e}}))})))))}}return e.\u0275fac=function(t){return new(t||e)(L.LFG(o.eX),L.LFG(Z),L.LFG(J.L),L.LFG(q.X),L.LFG(G.sK),L.LFG(i.yh))},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac}),e})();var B=s(88385),Q=s(79090),I=s(40136),K=s(8340),_=s(29206),O=s(49457),Y=s.n(O),V=s(35618),j=s(33013),R=s(81606),W=s(38583),X=s(83473),ee=s(4207),te=s(99287);function se(e,t){if(1&e){const e=L.EpF();L.TgZ(0,"button",9),L.NdJ("click",function(){return L.CHM(e),L.oxw(2).toggleFilter()}),L.ALo(1,"translate"),L.qZA()}2&e&&L.s9C("pTooltip",L.lcZ(1,1,"msg.showFilters"))}function ne(e,t){if(1&e){const e=L.EpF();L.TgZ(0,"button",10),L.NdJ("click",function(){return L.CHM(e),L.oxw(2).toggleFilter()}),L.ALo(1,"translate"),L.qZA()}2&e&&L.s9C("pTooltip",L.lcZ(1,1,"msg.showFilters"))}function ie(e,t){if(1&e&&(L.ynx(0),L.YNc(1,se,2,3,"button",7),L.YNc(2,ne,2,3,"button",8),L.BQk()),2&e){const e=L.oxw();L.xp6(1),L.Q6J("ngIf",!1===e.showFilter&&!1===e.haveFilter),L.xp6(1),L.Q6J("ngIf",!1===e.showFilter&&!0===e.haveFilter)}}function oe(e,t){if(1&e){const e=L.EpF();L.TgZ(0,"button",11),L.NdJ("click",function(){return L.CHM(e),L.oxw().onDelete()}),L.ALo(1,"translate"),L.qZA()}if(2&e){const e=L.oxw();L.s9C("label",L.lcZ(1,2,"bia.delete")),L.Q6J("disabled",0===e.nbSelectedElements)}}function re(e,t){if(1&e){const e=L.EpF();L.TgZ(0,"button",12),L.NdJ("click",function(){return L.CHM(e),L.oxw().onBack()}),L.ALo(1,"translate"),L.qZA()}2&e&&L.s9C("label",L.lcZ(1,1,"bia.back"))}function ae(e,t){if(1&e){const e=L.EpF();L.TgZ(0,"button",13),L.NdJ("click",function(){return L.CHM(e),L.oxw().exportCSV.emit()}),L.qZA()}}function ce(e,t){if(1&e){const e=L.EpF();L.TgZ(0,"button",12),L.NdJ("click",function(){return L.CHM(e),L.oxw().synchronize.emit()}),L.ALo(1,"translate"),L.qZA()}2&e&&L.s9C("label",L.lcZ(1,1,"bia.synchronize"))}function le(e,t){if(1&e){const e=L.EpF();L.TgZ(0,"button",14),L.NdJ("click",function(){return L.CHM(e),L.oxw().onCreate()}),L.ALo(1,"translate"),L.qZA()}2&e&&L.s9C("label",L.lcZ(1,1,"bia.add"))}let ue=(()=>{class e extends R.l{constructor(){super(...arguments),this.canSync=!1,this.synchronize=new L.vpe}}return e.\u0275fac=function(){let t;return function(s){return(t||(t=L.n5z(e)))(s||e)}}(),e.\u0275cmp=L.Xpm({type:e,selectors:[["app-user-table-header"]],inputs:{canSync:"canSync"},outputs:{synchronize:"synchronize"},features:[L._Bn([j.YP]),L.qOj],decls:13,vars:7,consts:[["fxLayout","row","fxLayoutAlign","space-between",1,"header"],["fxLayout","row","fxLayoutGap","8px","fxLayoutAlign","stretch center"],[4,"ngIf"],["pButton","",3,"disabled","label","click",4,"ngIf"],["pButton","","class","p-button-outlined",3,"label","click",4,"ngIf"],["pButton","","class","p-button-outlined","label","CSV",3,"click",4,"ngIf"],["pButton","",3,"label","click",4,"ngIf"],["type","button","icon","pi pi-filter","class","p-button-outlined flat","pButton","",3,"pTooltip","click",4,"ngIf"],["type","button","icon","pi pi-filter","pButton","",3,"pTooltip","click",4,"ngIf"],["type","button","icon","pi pi-filter","pButton","",1,"p-button-outlined","flat",3,"pTooltip","click"],["type","button","icon","pi pi-filter","pButton","",3,"pTooltip","click"],["pButton","",3,"disabled","label","click"],["pButton","",1,"p-button-outlined",3,"label","click"],["pButton","","label","CSV",1,"p-button-outlined",3,"click"],["pButton","",3,"label","click"]],template:function(e,t){1&e&&(L.TgZ(0,"div",0),L.TgZ(1,"div",1),L.YNc(2,ie,3,2,"ng-container",2),L.YNc(3,oe,2,4,"button",3),L.qZA(),L.TgZ(4,"div",1),L.TgZ(5,"h1"),L._uU(6),L.qZA(),L.qZA(),L.TgZ(7,"div",1),L.YNc(8,re,2,3,"button",4),L.YNc(9,ae,1,0,"button",5),L.YNc(10,ce,2,3,"button",4),L.YNc(11,le,2,3,"button",6),L.qZA(),L.qZA(),L._UZ(12,"p-confirmDialog")),2&e&&(L.xp6(2),L.Q6J("ngIf",t.showBtnFilter),L.xp6(1),L.Q6J("ngIf",t.canDelete),L.xp6(3),L.Oqu(t.headerTitle),L.xp6(2),L.Q6J("ngIf",t.canBack),L.xp6(1),L.Q6J("ngIf",t.canExportCSV),L.xp6(1),L.Q6J("ngIf",t.canSync),L.xp6(1),L.Q6J("ngIf",t.canAdd))},directives:[V.xw,V.Wh,V.SQ,W.O5,X.Q,ee.Hq,te.u],pipes:[G.X$],styles:['.header[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:"raleway-thin",serif;font-size:36px;font-weight:200;margin:0;line-height:24px}',""]}),e})();var pe=s(76743),he=s(64762),de=s(60881),fe=s(39678);const me=(0,i.PH)("[Domain LDAP Domains] Load all"),ge=(0,i.PH)("[Domain LDAP Domains] Load all success",(0,i.Ky)()),ye=(0,i.PH)("[Domain LDAP Domains] Failure",(0,i.Ky)()),be=(0,U.H)({selectId:e=>e.ldapName,sortComparer:!1}),ve=be.getInitialState({}),Ce=(0,i.Lq)(ve,(0,i.on)(ge,(e,{ldapDomains:t})=>be.setAll(t,e)));function Se(e,t){return(0,i.UY)({ldapDomain:Ce})(e,t)}const we=(0,i.ZF)("domain-ldap-domains"),Ae=(0,i.P1)(we,e=>e.ldapDomain),{selectAll:De}=be.getSelectors(Ae);var Le=s(45121),xe=s(3679),Ze=s(50103),Ue=s(96516);const Ne=function(){return{width:"50%"}},Ee=function(){return{width:"100%"}};let Te=(()=>{class e{constructor(e){this.formBuilder=e,this.searchUsers=new L.vpe,this.save=new L.vpe,this.cancel=new L.vpe,this.initForm()}ngOnChanges(e){this.users&&e.users&&(this.users=this.users.sort((e,t)=>e.firstName.localeCompare(t.firstName)))}initForm(){this.form=this.formBuilder.group({selectedUsers:[this.selectedUsers,xe.kI.required],domains:[this.domains]})}onCancel(){this.reset(),this.cancel.next()}onSubmit(){this.form.valid&&(this.save.emit(this.form.value.selectedUsers),this.reset())}reset(){this.selectedDomain="",this.form.reset()}onSearchUsers(e){this.searchUsers.emit({filter:e.query,ldapName:this.selectedDomain})}onDomainChange(e){this.selectedDomain=e.value?e.value.ldapName:""}}return e.\u0275fac=function(t){return new(t||e)(L.Y36(xe.qu))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-user-form"]],inputs:{users:"users",domains:"domains"},outputs:{searchUsers:"searchUsers",save:"save",cancel:"cancel"},features:[L.TTD],decls:14,vars:25,consts:[["fxLayout","column",3,"formGroup","submit"],["fxLayout","column","fxLayoutAlign","flex-start",1,"p-fluid","app-field-container"],["placeholder","LDAP Domain","formControlName","domains","optionLabel","displayName","showClear","true",3,"options","onChange"],[1,"p-float-label"],["formControlName","selectedUsers","field","displayName",3,"multiple","suggestions","delay","size","minLength","inputStyle","completeMethod"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","end end"],["pButton","","type","submit",3,"label","disabled"],["pButton","","type","button",1,"p-button-outlined",3,"label","click"]],template:function(e,t){1&e&&(L.TgZ(0,"form",0),L.NdJ("submit",function(){return t.onSubmit()}),L.TgZ(1,"div",1),L.TgZ(2,"p-dropdown",2),L.NdJ("onChange",function(e){return t.onDomainChange(e)}),L.qZA(),L._UZ(3,"br"),L.TgZ(4,"span",3),L.TgZ(5,"p-autoComplete",4),L.NdJ("completeMethod",function(e){return t.onSearchUsers(e)}),L.qZA(),L.TgZ(6,"label"),L._uU(7),L.ALo(8,"translate"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(9,"div",5),L._UZ(10,"button",6),L.ALo(11,"translate"),L.TgZ(12,"button",7),L.NdJ("click",function(){return t.onCancel()}),L.ALo(13,"translate"),L.qZA(),L.qZA(),L.qZA()),2&e&&(L.Q6J("formGroup",t.form),L.xp6(2),L.Akn(L.DdM(22,Ne)),L.Q6J("options",t.domains),L.xp6(3),L.Akn(L.DdM(23,Ne)),L.Q6J("multiple",!0)("suggestions",t.users)("delay",700)("size",30)("minLength",3)("inputStyle",L.DdM(24,Ee)),L.xp6(2),L.Oqu(L.lcZ(8,16,"bia.select")),L.xp6(3),L.s9C("label",L.lcZ(11,18,"bia.save")),L.Q6J("disabled",!t.form.valid),L.xp6(2),L.s9C("label",L.lcZ(13,20,"bia.cancel")))},directives:[xe._Y,xe.JL,V.xw,xe.sg,V.Wh,Ze.Lt,xe.JJ,xe.u,Ue.Qc,V.SQ,ee.Hq],pipes:[G.X$],styles:[".app-field-container[_ngcontent-%COMP%]{margin-bottom:20px}"],changeDetection:0}),e})();const Fe=function(){return{minWidth:"50vw"}},Me=function(){return{overflow:"auto"}};let ze=(()=>{class e{constructor(e){this.store=e,this._display=!1,this.displayChange=new L.vpe}set display(e){this._display=e,this.displayChange.emit(this._display)}ngOnInit(){return(0,he.mG)(this,void 0,void 0,function*(){this.usersFromAD$=this.store.select(fe.mo),this.ldapDomains$=this.store.select(De),this.store.dispatch(me())})}onSubmitted(e){this.store.dispatch(v({usersFromAD:e})),this.close()}onCancelled(){this.close()}close(){this.display=!1}onSearchUsers(e){this.store.dispatch((0,de.Cq)({userFilter:e}))}}return e.\u0275fac=function(t){return new(t||e)(L.Y36(i.yh))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-user-new-dialog"]],inputs:{display:"display"},outputs:{displayChange:"displayChange"},decls:7,vars:20,consts:[[3,"focusOnShow","visible","modal","closable","responsive","maximizable","contentStyle","visibleChange"],[3,"users","domains","searchUsers","cancel","save"]],template:function(e,t){1&e&&(L.TgZ(0,"p-dialog",0),L.NdJ("visibleChange",function(e){return t._display=e}),L.TgZ(1,"p-header"),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"app-user-form",1),L.NdJ("searchUsers",function(e){return t.onSearchUsers(e)})("cancel",function(){return t.onCancelled()})("save",function(e){return t.onSubmitted(e)}),L.ALo(5,"async"),L.ALo(6,"async"),L.qZA(),L.qZA()),2&e&&(L.Akn(L.DdM(18,Fe)),L.Q6J("focusOnShow",!1)("visible",t._display)("modal",!0)("closable",!1)("responsive",!0)("maximizable",!0)("contentStyle",L.DdM(19,Me)),L.xp6(2),L.hij(" ",L.lcZ(3,12,"user.add")," "),L.xp6(2),L.Q6J("users",L.lcZ(5,14,t.usersFromAD$))("domains",L.lcZ(6,16,t.ldapDomains$)))},directives:[Le.V,j.h4,Te],pipes:[G.X$,W.Ov],styles:[""]}),e})(),Pe=(()=>{class e{constructor(e,t,s,n){this.store=e,this.authService=t,this.userDas=s,this.translateService=n,this.flex=!0,this.showColSearch=!1,this.globalSearchValue="",this.pageSize=I.L8,this.displayEditUserDialog=!1,this.displayNewUserDialog=!1,this.canSync=!1,this.canDelete=!1,this.canAdd=!1,this.canExport=!1,this.tableConfiguration={columns:[new Q.ML("lastName","user.lastName"),new Q.ML("firstName","user.firstName"),new Q.ML("login","user.login")]},this.columns=this.tableConfiguration.columns.map(e=>({key:e.field,value:e.header})),this.displayedColumns=this.columns}ngOnInit(){this.setPermissions(),this.users$=this.store.select(k),this.totalCount$=this.store.select(P)}onCreate(){this.displayNewUserDialog=!0}onDelete(){this.selectedUsers&&this.store.dispatch(b({ids:this.selectedUsers.map(e=>e.id)}))}onSelectedElementsChanged(e){this.selectedUsers=e}onPageSizeChange(e){this.pageSize=e}onLoadLazy(e){this.lastLazyLoadEvent=e,this.store.dispatch(d({event:e}))}searchGlobalChanged(e){this.globalSearchValue=e}displayedColumnsChanged(e){this.displayedColumns=e}onToggleSearch(){this.showColSearch=!this.showColSearch}onSynchronize(){this.store.dispatch(C())}onViewChange(e){this.viewPreference=e}onExportCSV(){const e={};this.columns.map(t=>e[t.value.split(".")[1]]=this.translateService.instant(t.value));const t=Object.assign({columns:e},this.userListComponent.getLazyLoadMetadata());this.userDas.getFile(t).subscribe(e=>{Y().saveAs(e,this.translateService.instant("app.users")+".csv")})}setPermissions(){this.canSync=this.authService.hasPermission(_.y.User_Sync),this.canDelete=this.authService.hasPermission(_.y.User_Delete),this.canAdd=this.authService.hasPermission(_.y.User_Add),this.canExport=this.authService.hasPermission(_.y.User_List_Access)}}return e.\u0275fac=function(t){return new(t||e)(L.Y36(i.yh),L.Y36(K.e),L.Y36(Z),L.Y36(G.sK))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-users-index"]],viewQuery:function(e,t){if(1&e&&L.Gf(B.$,5),2&e){let e;L.iGM(e=L.CRH())&&(t.userListComponent=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&L.ekj("bia-flex",t.flex)},decls:10,vars:28,consts:[["fxLayout","","fxLayout.xs","column","fxLayoutWrap","wrap"],["fxFlex","100"],[3,"headerTitle","canSync","canAdd","canExportCSV","selectedElements","create","exportCSV","synchronize","delete"],[3,"defaultPageSize","length","columns","columnToDisplays","displayedColumnsChange","filter","pageSizeChange","toggleSearch","viewChange"],[3,"elements","totalRecord","columnToDisplays","pageSize","configuration","showColSearch","globalSearchValue","canEdit","canSelectElement","viewPreference","loadLazy","selectedElementsChanged"],[3,"display","displayChange"]],template:function(e,t){1&e&&(L.TgZ(0,"div",0),L.TgZ(1,"div",1),L.TgZ(2,"app-user-table-header",2),L.NdJ("create",function(){return t.onCreate()})("exportCSV",function(){return t.onExportCSV()})("synchronize",function(){return t.onSynchronize()})("delete",function(){return t.onDelete()}),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"bia-table-controller",3),L.NdJ("displayedColumnsChange",function(e){return t.displayedColumnsChanged(e)})("filter",function(e){return t.searchGlobalChanged(e)})("pageSizeChange",function(e){return t.onPageSizeChange(e)})("toggleSearch",function(){return t.onToggleSearch()})("viewChange",function(e){return t.onViewChange(e)}),L.ALo(5,"async"),L.qZA(),L.TgZ(6,"bia-table",4),L.NdJ("loadLazy",function(e){return t.onLoadLazy(e)})("selectedElementsChanged",function(e){return t.onSelectedElementsChanged(e)}),L.ALo(7,"async"),L.ALo(8,"async"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(9,"app-user-new-dialog",5),L.NdJ("displayChange",function(e){return t.displayNewUserDialog=e}),L.qZA()),2&e&&(L.xp6(2),L.Q6J("headerTitle",L.lcZ(3,20,"user.listOf"))("canSync",t.canSync)("canAdd",t.canAdd)("canExportCSV",t.canExport)("selectedElements",t.selectedUsers),L.xp6(2),L.Q6J("defaultPageSize",t.pageSize)("length",L.lcZ(5,22,t.totalCount$))("columns",t.columns)("columnToDisplays",t.displayedColumns),L.xp6(2),L.Q6J("elements",L.lcZ(7,24,t.users$))("totalRecord",L.lcZ(8,26,t.totalCount$))("columnToDisplays",t.displayedColumns)("pageSize",t.pageSize)("configuration",t.tableConfiguration)("showColSearch",t.showColSearch)("globalSearchValue",t.globalSearchValue)("canEdit",!1)("canSelectElement",t.canDelete)("viewPreference",t.viewPreference),L.xp6(3),L.Q6J("display",t.displayNewUserDialog))},directives:[V.xw,V.yH,ue,pe.B,B.$,ze],pipes:[G.X$,W.Ov],styles:["[_nghost-%COMP%]{flex-direction:column}bia-table-controller[_ngcontent-%COMP%]{margin-left:-35px;margin-right:-35px}"]}),e})();var $e=s(84594),ke=s(16249);let Je=(()=>{class e{constructor(){}formatDisplayNameFromObs(e){return e.pipe((0,l.U)(e=>this.formatDisplayNames(e)))}formatDisplayNames(e){return e.forEach(e=>{e=this.formatDisplayName(e)}),e}formatDisplayName(e){return e.displayName=`${e.name} (${e.ldapName})`,e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qe=(()=>{class e extends D.Z{constructor(e,t){super(e,"ldapDomains"),this.ldapDomainService=t}getAll(){return this.ldapDomainService.formatDisplayNameFromObs(this.http.get(this.route))}}return e.\u0275fac=function(t){return new(t||e)(L.LFG(L.zs3),L.LFG(Je))},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ge=(()=>{class e{constructor(e,t,s){this.actions$=e,this.ldapDomainDas=t,this.biaMessageService=s,this.loadAll$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(me),(0,c.w)(e=>this.ldapDomainDas.getAll().pipe((0,l.U)(e=>ge({ldapDomains:e})),(0,u.K)(e=>(this.biaMessageService.showError(),(0,r.of)(ye({error:e}))))))))}}return e.\u0275fac=function(t){return new(t||e)(L.LFG(o.eX),L.LFG(qe),L.LFG(q.X))},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac}),e})(),He=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=L.oAB({type:e}),e.\u0275inj=L.cJS({imports:[[i.Aw.forFeature("domain-ldap-domains",Se),o.sQ.forFeature([Ge])]]}),e})();var Be=s(49277);const Qe=[{path:"",data:{breadcrumb:null,permission:_.y.User_List_Access},component:Pe,canActivate:[ke.n]},{path:"**",redirectTo:""}];let Ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=L.oAB({type:e}),e.\u0275inj=L.cJS({imports:[[$e.m,He,Be.a,n.Bz.forChild(Qe),i.Aw.forFeature("users",F),o.sQ.forFeature([H])]]}),e})()}}]);